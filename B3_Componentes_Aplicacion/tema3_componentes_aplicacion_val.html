<!DOCTYPE html><html><head>
      <title>PMDM 2&#xBA; DAM  Tema 3. Components d&apos;una aplicaci&#xF3; Android</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <style>/* 
Añade 

@import "../EstilosPersonalizadosMarkdownEnhanced.less"

justo después del front matter 
*/
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v8/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
</style>
<h1 class="mume-header undefined" id="apunts">Apunts</h1>

<p><a href="./tema3_componentes_aplicacion_val.pdf">Descarregar aquests apunts</a></p>
<h1 class="mume-header undefined" id="tema-3-components-duna-aplicaci%C3%B3-android">Tema 3 . Components d&apos;una aplicaci&#xF3; Android</h1>

<h2 class="mume-header undefined" id="%C3%ADndex">&#xCD;ndex</h2>

<ol>
<li><a href="#introducci%C3%B3">Introducci&#xF3;</a></li>
<li><a href="#context-duna-aplicaci%C3%B3">Context d&apos;una aplicaci&#xF3;</a></li>
<li><a href="#components-duna-aplicaci%C3%B3">Components d&apos;una aplicaci&#xF3;</a>
<ol>
<li><a href="#activity">Activity</a></li>
<li><a href="#services">Services</a></li>
<li><a href="#view">View</a></li>
<li><a href="#fragment">Fragment</a></li>
<li><a href="#widget">Widget</a></li>
<li><a href="#content-provider">Content provider</a></li>
<li><a href="#broadcast-receiver">Broadcast receiver</a></li>
<li><a href="#intens">Intens</a></li>
</ol>
</li>
<li><a href="#cicle-de-vida-duna-activity">Cicle de vida d&apos;una Activity</a></li>
<li><a href="#comunicaci%C3%B3-de-activitys-a-trav%C3%A9s-de-intents">Comunicaci&#xF3; de Activitys a trav&#xE9;s de Intents</a></li>
<li><a href="#intent-filter">Intent-filter</a></li>
<li><a href="#treballant-amb-parcelables">Treballant amb Parcelables</a></li>
</ol>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="introducci%C3%B3">Introducci&#xF3;</h3>

<p>En aquest tema estudiarem els <a href="https://developer.android.com/guide/components/fundamentals?hl=es-419">components d&apos;una aplicaci&#xF3; Android</a> i les seues respectives funcions, a m&#xE9;s de la comunicaci&#xF3; entre activitis.<br>
Per a qualsevol aplicaci&#xF3; Android, en general, ser&#xE0; necessari construir una finestra en la qual s&apos;aniran afegint components, cada component &#xE9;s un punt d&apos;entrada pel qual el sistema o un usuari interactua amb la teua aplicaci&#xF3;. Alguns components depenen d&apos;uns altres.<br>
El primer que farem ser&#xE0; comprendre que &#xE9;s el context d&apos;una aplicaci&#xF3; i com permet relacionar els components.<br>
Despr&#xE9;s veurem el concepte de <strong>Activitats, Intents, Serveis, BroadCast Receivers i Content Providers</strong>.</p>
<h3 class="mume-header" id="context-duna-aplicaci%C3%B3">Context d&apos;una aplicaci&#xF3;</h3>

<p>El context d&apos;una aplicaci&#xF3; &#xE9;s una interf&#xED;cie entre l&apos;aplicaci&#xF3; i el sistema operatiu, la qual descriu la informaci&#xF3; que representa la teua aplicaci&#xF3; dins de l&apos;ambient del sistema operatiu.<br>
Tamb&#xE9; permet accedir als recursos de l&apos;aplicaci&#xF3; i coordinar el funcionament dels blocs de l&apos;aplicaci&#xF3;.<br>
El context representa tota la meta-informaci&#xF3; sobre les relacions que t&#xE9; l&apos;aplicaci&#xF3; amb altres aplicacions o el sistema i podem implementar-lo a trav&#xE9;s de la <strong>classe abstracta Context</strong>.<br>
En Android ens trobem amb els seg&#xFC;ents tipus de contextos:</p>
<ul>
<li><strong>Aplicaci&#xF3;</strong>. Aquest context engloba a tots els altres, i cobreix tot el cicle de vida de l&apos;aplicaci&#xF3; des que l&apos;arranquem fins que mor. Pel que cada aplicaci&#xF3; t&#xE9; <em><strong>un &#xFA;nic context d&apos;aplicaci&#xF3;</strong></em>. El Context de l&apos;aplicaci&#xF3; viu fins que s&apos;acaba per complet l&apos;aplicaci&#xF3; (fins que mor, no fins que es pausa)<br>
Es pot accedir des d&apos;una <em><strong>Activity</strong></em> o un <em><strong>Service</strong></em> amb <strong><code>getApplication()</code></strong> o des de qualsevol que herete de Context amb <strong><code>getApplicationContext()</code></strong>.</li>
<li><strong>Activity o Service</strong>. Com hem dit, un Context viu tant com l&apos;element al qual pertany, per la qual cosa dep&#xE9;n del cicle de vida. Aix&#xED;, un Context d&apos;una Activity viur&#xE0; el mateix temps que viu aquesta la activity i sempre ser&#xE0; viur&#xE0; menys que el de l&apos;Aplicaci&#xF3;.</li>
</ul>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="components-duna-aplicaci%C3%B3">Components d&apos;una aplicaci&#xF3;</h3>

<h4 class="mume-header" id="activity">Activity</h4>

<p>Les Activitys s&#xF3;n els components visibles de l&apos;aplicaci&#xF3;, tenen una interf&#xED;cie d&apos;usuari que permet interactuar amb elles.<br>
La majoria de les aplicacions permeten l&apos;execuci&#xF3; de diverses accions a trav&#xE9;s de l&apos;exist&#xE8;ncia d&apos;una o m&#xE9;s pantalles. Per exemple: <em>una aplicaci&#xF3; de missatges de text podr&#xE0; tindre la llista de contactes que es mostra en una finestra, mitjan&#xE7;ant el desplegament d&apos;una segona finestra l&apos;usuari pot escriure el missatge al contacte triat, i en una altra tercera pot repassar el seu historial de missatges enviats o rebuts</em>.<br>
Cadascuna d&apos;aquestes finestres pot estar representada a trav&#xE9;s d&apos;un component Activity, de manera que navegar d&apos;una finestra a una altra implica llan&#xE7;ar una activitat o dormir una altra.</p>
<h4 class="mume-header" id="services">Services</h4>

<p>Un servei &#xE9;s una entitat que <strong>executa instruccions en segon pla</strong> sense que l&apos;usuari el note en la interf&#xED;cie. S&#xF3;n molt utilitzats per a realitzar accions de llarga duraci&#xF3; mentre les activitats mostren un altre tipus d&apos;informaci&#xF3;. Per exemple guardar la informaci&#xF3; en la base de dades, escoltar m&#xFA;sica mentre s&apos;executa l&apos;aplicaci&#xF3;, administrar connexions de xarxa, etc.<br>
Els serveis tamb&#xE9; tenen un cicle de vida com les activitats, per&#xF2; aquest &#xE9;s m&#xE9;s curt. Nom&#xE9;s es compr&#xE9;n dels estats de Creaci&#xF3;, Execuci&#xF3; i Destrucci&#xF3;.</p>
<h4 class="mume-header" id="view">View</h4>

<p>Les vistes (view) s&#xF3;n els components b&#xE0;sics amb els quals es construeix la interf&#xED;cie gr&#xE0;fica de l&apos;aplicaci&#xF3;, an&#xE0;leg per exemple als controls de Java o .NET. D&apos;inici, Android posa a la nostra disposici&#xF3; una gran quantitat de controls b&#xE0;sics, com a quadres de text, botons, llistes desplegables o imatges, encara que tamb&#xE9; existeix la possibilitat d&apos;estendre la funcionalitat d&apos;aquests controls b&#xE0;sics o crear els nostres propis controls personalitzats.</p>
<h4 class="mume-header" id="fragment">Fragment</h4>

<p>Els fragments (fragment) es poden entendre com a seccions o parts (habitualment reutilitzables) de la interf&#xED;cie d&apos;usuari d&apos;una aplicaci&#xF3;. D&apos;aquesta manera, una activitat podria contindre diversos fragments per a formar la interf&#xED;cie completa de l&apos;aplicaci&#xF3;, i addicionalment aquests fragments es podrien reutilitzar en diferents activitats o parts de l&apos;aplicaci&#xF3;.</p>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="widget">Widget</h4>

<p>Els widgets s&#xF3;n elements visuals, normalment interactius, que poden mostrar-se en la pantalla principal del dispositiu Android i rebre actualitzacions peri&#xF2;diques. Permeten mostrar informaci&#xF3; de l&apos;aplicaci&#xF3; a l&apos;usuari directament sobre la pantalla principal.</p>
<h4 class="mume-header" id="content-provider">Content provider</h4>

<p>Amb el component <strong>Content Provider</strong>, qualsevol aplicaci&#xF3; en Android pot emmagatzemar dades en un fitxer, en una base de dades SQLite o en qualsevol altre format que considere.<br>
A m&#xE9;s, aquestes <strong>dades poden ser compartits entre diferents aplicacions</strong>. Una classe que implemente el component Content Provider contindr&#xE0; una s&#xE8;rie de m&#xE8;todes que permet emmagatzemar, recuperar, actualitzar i compartir les dades d&apos;una aplicaci&#xF3;.<br>
Per defecte, el API d&apos;Android porta amb si Content Providers predefinits per a intercanviar informaci&#xF3; d&apos;&#xE0;udio, v&#xED;deo, imatges, i informaci&#xF3; personal. Per&#xF2; si en algun moment desitges intercanviar informaci&#xF3; amb una estructura personalitzada has de crear la teua pr&#xF2;pia subclasse heretada de la classe ContentProvider.</p>
<h4 class="mume-header" id="broadcast-receiver">Broadcast receiver</h4>

<p>Finalment, l&apos;&#xFA;ltim component clau s&#xF3;n els <strong>Broadcast Receives</strong>, o receptors d&apos;emissi&#xF3;, que <strong>reaccionen a intents espec&#xED;fics podent al seu torn executar una acci&#xF3;</strong> o iniciant una activity o poden retornar un altre intent al sistema perqu&#xE8; seguisca l&apos;execuci&#xF3;. Realment aquest tipus de components s&#xF3;n capa&#xE7;os de processar els missatges del sistema operatiu.</p>
<h4 class="mume-header" id="intens">Intens</h4>

<p>Un Intent <strong>&#xE9;s un objecte de missatgeria</strong> que pots usar per a sol&#xB7;licitar una acci&#xF3; d&apos;un altre component d&apos;una app. Els intents faciliten la comunicaci&#xF3; entre components de diverses formes, des de la comunicaci&#xF3; entre activitats, entre fragments, serveis, etc. En un punt posterior d&apos;aquest tema s&apos;explicaran m&#xE9;s extensament.</p>
<h3 class="mume-header" id="cicle-de-vida-duna-activity">Cicle de vida d&apos;una Activity</h3>

<p>Com hem comentat en el punt anterior. La activity &#xE9;s un dels components essencials d&apos;una aplicaci&#xF3; Android, a m&#xE9;s que &#xE9;s el component que t&#xE9; associada la interf&#xED;cie d&apos;usuari. Una mateixa aplicaci&#xF3; pot tindre una o diverses activitats i Android permet controlar per complet el <a href="https://developer.android.com/guide/components/activities/activity-lifecycle?hl=es">cicle de vida</a> de cadascuna d&apos;aquestes.<br>
Els estats pels quals pot passar una Activity s&#xF3;n els seg&#xFC;ents: <strong>Creaci&#xF3;, Execuci&#xF3;, Represa, Pausa, Parada i Destrucci&#xF3;</strong>.</p>
<p>A la relaci&#xF3; entre ells se&apos;n diu <strong>Cicle de vida d&apos;una Activitat</strong>.</p>
<div align="center">
    <img height="350" src="./imagenes/ciclo_vida.png">
</div>
<p>El cicle de vida d&apos;una Activity ens descriu els estats i les transicions entre estats que una determinada Activity, com hem comentat s&#xF3;n:</p>
<ul>
<li>Creaci&#xF3;: una activitat s&apos;ha creat quan la seua estructura es troba en mem&#xF2;ria, per&#xF2; aquesta no &#xE9;s visible fins i tot. Quan l&apos;usuari pressiona sobre la icona de l&apos;aplicaci&#xF3; en el seu dispositiu, el m&#xE8;tode <strong><code>onCreate()</code></strong> &#xE9;s executat immediatament per a carregar el layout de l&apos;activitat principal en mem&#xF2;ria.</li>
<li>Execuci&#xF3;-Represa: despr&#xE9;s d&apos;haver sigut carregada l&apos;activitat s&apos;executen en seq&#xFC;&#xE8;ncia el m&#xE8;tode <strong><code>onStart() i onResume()</code></strong>. Encara que <strong><code>onStart()</code></strong> fa visible l&apos;activitat, &#xE9;s <strong><code>onResume()</code></strong> qui li transfereix el focus perqu&#xE8; interactue amb l&apos;usuari.</li>
<li>Pausa: una activitat est&#xE0; en pausa quan es troba en la pantalla parcialment visible. Un exemple: <em>quan s&apos;obrin di&#xE0;legs que prenen el focus superposant-se a l&apos;activitat</em>. El m&#xE8;tode anomenat per a la transici&#xF3; cap a la pausa &#xE9;s <strong><code>onPause()</code></strong>.</li>
<li>Detenci&#xF3;: una activitat est&#xE0; detinguda quan no &#xE9;s visible en la pantalla, per&#xF2; encara es troba en mem&#xF2;ria i en qualsevol moment pot ser represa. Quan una aplicaci&#xF3; &#xE9;s enviada a segon pla s&apos;executa el m&#xE8;tode <strong><code>onStop()</code></strong>. En reprendre l&apos;activitat, es passa pel m&#xE8;tode <strong><code>onRestart()</code></strong> fins a arribar a l&apos;estat d&apos;execuci&#xF3; i despr&#xE9;s al de represa.</li>
<li>Destrucci&#xF3;: quan l&apos;activitat ja no existeix en mem&#xF2;ria es troba en estat de destrucci&#xF3;. Abans de passar a destruir l&apos;aplicaci&#xF3; s&apos;executa el m&#xE8;tode <strong><code>onDestroy()</code></strong>. &#xC9;s com&#xFA; que la majoria d&apos;activitats no implementen aquest m&#xE8;tode, llevat que hagen de destruir processos com a serveis en segon pla.</li>
</ul>
<p>Encara que la teua aplicaci&#xF3; pot tindre diverses activitats en la seua estructura, s&apos;ha de definir una activitat principal. Per a fer-ho s&apos;ha d&apos;especificar en el teu arxiu Android Manifest un component <strong><code>&lt;actitivy&gt;</code></strong>, amb un component fill <strong><code>&lt;intent-filter&gt;</code></strong>. Dins d&apos;aquest component declarares dos nous components, <strong><code>&lt;action&gt;</code></strong> i <strong><code>&lt;category&gt;</code></strong>. Al primer li assignares l&apos;element enumerat <strong><code>MAIN</code></strong> i al segon l&apos;element enumerat <strong><code>LAUNCHER</code></strong>.</p>
<p><span style="color: DarkRed; font-weight: bold;">&#x2712;&#xFE0F; Crea un projecte nou i c&#xF2;pia el codi de CicloVidaActivity en la classe principal. Prova l&apos;eixida que mostra Logcat en Debug i filtrat per &quot;SALIDA&quot;. Fixa&apos;t perqu&#xE8; m&#xE8;todes passa l&apos;App segons els diferents canvis d&apos;estat.</span></p>
<h3 class="mume-header" id="comunicaci%C3%B3-de-activitys-a-trav%C3%A9s-de-intents">Comunicaci&#xF3; de Activitys a trav&#xE9;s de Intents</h3>

<p>Un dels components que hem comentat que formen part d&apos;una aplicaci&#xF3; android s&#xF3;n els <a href="https://developer.android.com/guide/components/intents-filters?hl=es-419">intents</a>. Com vam dir, s&#xF3;n els que permeten la comunicaci&#xF3; amb la resta de components, tamb&#xE9; es poden definir com la voluntat de realitzar una acci&#xF3; o una tasca determinada, aquestes tasques poden ser una trucada de tel&#xE8;fon o visualitzar una p&#xE0;gina web entre altres.</p>
<p>Android suporta dos tipus d&apos;Intents <strong>expl&#xED;cits i impl&#xED;cits</strong>.</p>
<div align="center">
    <img height="150" src="./imagenes/intents.png">
</div>
<p>S&#xF3;n expl&#xED;cits quan executem un component en espec&#xED;fic. S&#xF3;n impl&#xED;cits quan s&apos;entrega una refer&#xE8;ncia gen&#xE8;rica sobre alguna condici&#xF3;, i aquelles entitats que complisquen aqueix requisit seran presentades com a candidates per a la tasca.</p>
<h4>Intent expl&#xED;cit</h4>
<p>S&apos;especifica exactament el component a llan&#xE7;ar. Se sol utilitzar quan es vol executar els components interns d&apos;una aplicaci&#xF3;.<br>
Un exemple de <strong>Intent explicite</strong> es dona quan invoquem una activitat amb una mena de classe especifique. Per exemple, <em>suposa que dins de la nostra aplicaci&#xF3; tenim dues activitats anomenades A i B. Si decidim iniciar l&apos;activitat B des de l&apos;activitat A usar&#xED;em un Intent explicite pel fet que &#x201C;B&#x201D; &#xE9;s un tipus definit</em>.</p>
<div align="center">
    <img height="150" src="./imagenes/intents2.png">
</div>
<p>En l&apos;inici d&apos;una nova activitat es poden donar diverses circumst&#xE0;ncies:</p>
<ul>
<li>
<p>Inici d&apos;una activitat sense arguments ni devoluci&#xF3; de resultats:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token keyword">var</span> intento<span class="token operator">=</span> <span class="token function">Intent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Activity2<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">)</span>
<span class="token comment">//var intento=Intent(applicationContext, Activity2::class.java)</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intento<span class="token punctuation">)</span>
</pre></li>
<li>
<p>Inici d&apos;una activitat amb arguments i sense devoluci&#xF3; de resultats. Podem passar informaci&#xF3; a les activitats afegint dades a l&apos;objecte intent amb el m&#xE8;tode putExtra:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token keyword">var</span> intento<span class="token operator">=</span> <span class="token function">Intent</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">,</span> Activity2<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">)</span>
intento<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;DATO&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Este es el valor que se manda desde Main Activity&quot;</span><span class="token punctuation">)</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intento<span class="token punctuation">)</span>
</pre><p>En la classe invocada obtindrem les dades rebudes de la seg&#xFC;ent manera:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token keyword">var</span> intento<span class="token operator">=</span>intent
findViewById<span class="token operator">&lt;</span>TextView<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>textoActivity2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>intento<span class="token punctuation">.</span><span class="token function">getStringExtra</span><span class="token punctuation">(</span><span class="token string">&quot;DATO&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre></li>
<li>
<p>Inici d&apos;una activitat amb arguments i devoluci&#xF3; de resultats. Quan s&apos;inicia una activitat per a obtindre un resultat, &#xE9;s possible (i quasi segur en el cas de les operacions que consumeixen molta mem&#xF2;ria, com l&apos;&#xFA;s de la cambra) que es destru&#xEF;sca el teu proc&#xE9;s i la teua activitat a causa de la poca mem&#xF2;ria. Pel que s&apos;ha de separar la devoluci&#xF3; de crida de la resta de codi, per a aix&#xF2; la llibreria d&apos;Android ens proporciona diferents components:</p>
<ul>
<li>
<p><strong><code>registerForActivityResult()</code></strong>. <strong>L&#xED;nia6</strong> &#xC9;s l&apos;element principal i que s&apos;usa per a registrar la devoluci&#xF3; de resultats. T&#xE9; diverses sobrecarregar, al principi usarem la que pren un objecte <em><code>ActivityResultContract</code></em>. Retorna un element <em><code>ActivityResultLauncher</code></em> que s&apos;usar&#xE0; per a iniciar l&apos;altra activitat.</p>
</li>
<li>
<p><strong><code>ActivityResultContract</code></strong>. <strong>L&#xED;nia6</strong> i par&#xE0;metre de l&apos;element anterior. Un contracte que especifica que una activitat es pot cridar amb una entrada de tipus I i produir una eixida de tipus O. La API proporciona <a href="https://developer.android.com/reference/androidx/activity/result/contract/activityresultcontracts?hl=es-419">contractes predeterminats</a> per a accions de intent b&#xE0;siques, com prendre una foto, sol&#xB7;licitar permisos, etc. Tamb&#xE9; es poden crear contractes personalitzats.</p>
</li>
<li>
<p><strong><code>ActivityResultCallback</code></strong>. <strong>L&#xED;nia12</strong> s&apos;usa aquest objecte, creat en la l&#xED;nia 6. &#xC9;s una devoluci&#xF3; de crida amb seguretat de tipus que es dir&#xE0; quan el resultat d&apos;una activitat estiga disponible. &#xC9;s una interf&#xED;cie de m&#xE8;tode &#xFA;nic amb un m&#xE8;tode onActivityResult() que pren un objecte de la mena d&apos;eixida definit en <em><code>ActivityResultContract</code></em></p>
</li>
<li>
<p><strong><code>ActivityResultLauncher</code></strong>. <strong>L&#xED;nia12</strong> mana el *ntent que volem usar. &#xC9;s un llan&#xE7;ador per a una crida preparada pr&#xE8;viament per a iniciar el proc&#xE9;s d&apos;execuci&#xF3; d&apos;un <em><code>ActivityResultContract</code></em>.</p>
</li>
</ul>
</li>
</ul>
<pre data-role="codeBlock" data-info="kotlin{highlight=[6, [6-10],12, [12,-14]]}" class="language-kotlin" data-line="6,6-10,12,12,-14"><span class="token keyword">class</span> MainActivity<span class="token operator">:</span><span class="token function">AppCompatActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span>
        <span class="token keyword">val</span> openPostActivity <span class="token operator">=</span>
            <span class="token function">registerForActivityResult</span><span class="token punctuation">(</span>ActivityResultContracts<span class="token punctuation">.</span><span class="token function">StartActivityForResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> result <span class="token operator">-&gt;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>resultCode <span class="token operator">==</span> Activity<span class="token punctuation">.</span>RESULT_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    Toast<span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">,</span>result<span class="token punctuation">.</span>data<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getStringExtra</span><span class="token punctuation">(</span><span class="token string">&quot;DATORETURN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>Toast<span class="token punctuation">.</span>LENGTH_SHORT<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        findViewById<span class="token operator">&lt;</span>TextView<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>textoActivity1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span>View<span class="token punctuation">.</span><span class="token function">OnClickListener</span> <span class="token punctuation">{</span>
            openPostActivity<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span>
                <span class="token function">Intent</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">,</span> Activity2<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span>
                <span class="token punctuation">{</span>  <span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;DATO&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Este es el valor que se manda desde Main Activity&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div><div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6-10" data-start="6" data-end="10">




</div></div><div class="line-highlight-wrapper">










<div aria-hidden="true" class="line-highlight" data-range="12" data-start="12">
</div></div><div class="line-highlight-wrapper">










<div aria-hidden="true" class="line-highlight" data-range="12-14" data-start="12" data-end="14">


</div></div></pre><blockquote>
<p>&#x1F4CC; De <strong>L&#xED;nia 6 a L&#xED;nia 10</strong>, es registra l&apos;activitat per a esperar resultats d&apos;altres activitys o fragments. S&apos;ha de registrar l&apos;activitat per a possibles resultats en el m&#xE8;tode <em>onCreate()</em>.Si el resultat &#xE9;s OK realitzem el codi necessari, en aquest cas s&apos;ha extret la informaci&#xF3; del intent rebut <strong><code>result.data</code></strong>. De <strong>L&#xED;nia 12 a 14</strong> es llan&#xE7;a el intent de l&apos;activitat que es vol iniciar, per&#xF2; amb l&apos;objecte <code>ActivityResultCallback</code> creat en el bloc anterior.</p>
</blockquote>
<p>En la classe invocada retornarem les dades de la seg&#xFC;ent manera:</p>
<pre data-role="codeBlock" data-info="kotlin {highlight=[4,5]}" class="language-kotlin" data-line="4,5">   textView<span class="token punctuation">.</span><span class="token function">setOnClickListener</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> intentoResultado<span class="token operator">=</span><span class="token function">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            intentoResultado<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;DATORETURN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Este es el dato&quot;</span><span class="token punctuation">)</span>
            <span class="token function">setResult</span><span class="token punctuation">(</span>Activity<span class="token punctuation">.</span>RESULT_OK<span class="token punctuation">,</span>intentoResultado<span class="token punctuation">)</span>
            <span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div></pre><blockquote>
<p>&#x1F4CC; en la <strong>L&#xED;nia 4</strong> preparem el resultat de l&apos;activitat indicant que ha sigut correcte i afegint un intent amb informaci&#xF3; si el creiem necessari. <strong>L&#xED;nia 5</strong> tanquem la activity.</p>
</blockquote>
<p><span style="color: DarkRed; font-weight: bold;">&#x2712;&#xFE0F;Ejercicio Resuelto2Activitys</span><br>
<span style="color: DarkRed; font-weight: bold;">&#x2712;&#xFE0F;Ejercicio Propuesto3ActivitysRetornoDatos</span></p>
<div style="page-break-after:always;"></div>
<h4>Intent Impl&#xED;cit</h4>
<p>Els Intent impl&#xED;cits s&#xF3;n aquells que li pregunten al sistema quin servei o component &#xE9;s el m&#xE9;s adequat per a realitzar la petici&#xF3;, &#xE9;s a dir, no espec&#xED;fica un component especialment, i nom&#xE9;s s&apos;especifica la funcionalitat requerida a trav&#xE9;s d&apos;una acci&#xF3; (veure, fer cerca, fer foto, marcar n&#xFA;mero&#x2026;) i una dada (URL, n&#xFA;mero a marcar&#x2026;)En aquest cas el sistema determina el component per a la seua resoluci&#xF3;, desencadenant un &#x201C;intent&#x201D; sense con&#xE9;ixer exactament quina &#xE9;s l&apos;aplicaci&#xF3; o component que ho rebr&#xE0;, si no pot establir exactament el component a utilitzar perqu&#xE8; hi ha m&#xE9;s d&apos;un, mostra una finestra amb les opcions a seleccionar.</p>
<div align="center">
    <img height="200" src="./imagenes/intents3.png">
</div>
<p>Un exemple de <strong>Intent impl&#xED;cit</strong>: es quan desitges compartir un lloc web en alguna xarxa social. Per a aix&#xF2; Android ens ofereix un dialogue llistant les app socials instal&#xB7;lades en el dispositiu en aqueix moment, perqu&#xE8; triem la del nostre inter&#xE9;s. No especifiquem que aplicaci&#xF3; vol&#xED;em, simplement es van mostrar totes les aplicacions que podrien respondre a aqueixa mena d&apos;acci&#xF3;*.</p>
<div align="center">
    <img height="200" src="./imagenes/intents4.png">
</div>
<p>B&#xE0;sicament els passos per a llan&#xE7;ar una activitat amb un <strong>intent impl&#xED;cit</strong> serien els seg&#xFC;ents:</p>
<ul>
<li>Declarem el intent amb l&apos;acci&#xF3; apropiada (ACTION_VIEW, ACTION_WEB_SEARCH, etc).</li>
<li>Adjuntem informaci&#xF3; addicional necess&#xE0;ria depenent de l&apos;acci&#xF3; del intent.</li>
<li>Llancem el intent deixant que el sistema trobe l&apos;activitat adequada).</li>
</ul>
<p>Per a iniciar l&apos;activitat utilitzarem igualment startActivity. Alguns exemples de <a href="https://developer.android.com/guide/components/intents-common?hl=es-419">Intents Comuns</a>:</p>
<ul>
<li>
<p>Per a mostrar una web dins d&apos;un navegador:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin">Intent intento <span class="token operator">=</span> new <span class="token function">Intent</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>ACTION_VIEW<span class="token punctuation">,</span> Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.google.es&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token function">startActivity</span><span class="token punctuation">(</span>intento<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</pre><p>Requereix els permisos: <strong><code>&lt;uses-permission android:name=&quot; android.permission.INTERNET &quot;/&gt;</code></strong></p>
</li>
<li>
<p>Per a utilitzar la cerca de google;</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"> Intent intento <span class="token operator">=</span> new <span class="token function">Intent</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>ACTION_WEB_SEARCH<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 intento<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span>SearchManager<span class="token punctuation">.</span>QUERY<span class="token punctuation">,</span> <span class="token string">&quot;I.E.S. Doctor Balmis&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token function">startActivity</span><span class="token punctuation">(</span>intento<span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Requereix els permisos <strong><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;</code></strong></p>
</li>
<li>
<p>Per a mostrar els contactes.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin">Intent intento <span class="token operator">=</span> new <span class="token function">Intent</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>ACTION_VIEW<span class="token punctuation">,</span> Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;content://contacts/people/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intento<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</pre><p>Requereix els permisos: <strong><code>&lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot;/&gt;</code></strong></p>
</li>
</ul>
<div align="center">
    <img height="180" src="./imagenes/intents5.png">
</div>
<p>&#xC9;s possible que a vegades no es puga accedir a una aplicaci&#xF3; pel fet que no est&#xE0; instal&#xB7;lada en el dispositiu, a restriccions de perfil o a la configuraci&#xF3; d&apos;un administrador. En aqueix cas, no es produeix la crida i es bloqueja l&apos;app. Per a verificar que una activitat rebr&#xE0; la intent, &#xE9;s molt important usar abans <strong><code>resolveActivity()</code></strong> en l&apos;objecte Intent. Si el resultat no &#xE9;s nul, hi ha almenys una aplicaci&#xF3; que pot administrar la intent i &#xE9;s segur cridar a <strong><code>startActivity()</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"> Intent intento <span class="token operator">=</span> new <span class="token function">Intent</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>ACTION_VIEW<span class="token punctuation">,</span> Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;content://contacts/people/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token keyword">if</span> <span class="token punctuation">(</span>intento<span class="token punctuation">.</span><span class="token function">resolveActivity</span><span class="token punctuation">(</span>packageManager<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token function">startActivity</span><span class="token punctuation">(</span>intento<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</pre><p><span style="color: DarkRed; font-weight: bold;">&#x2712;&#xFE0F;Ejercicio ResueltoIntentImplicito</span></p>
<p><span style="color: DarkRed; font-weight: bold;">&#x2712;&#xFE0F;Ejercicio PropuestoIntentImplicito</span></p>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="intent-filter">Intent-filter</h3>

<p>Les activitats i serveis poden declarar el tipus d&apos;accions que poden dur a terme i els tipus de dades que poden gestionar. D&apos;aquesta manera s&apos;informa el sistema de la mena d&apos;intencions impl&#xED;cites que pot atendre aquest component. Els intent-filter es defineixen en l&apos;arxiu de manifest de l&apos;aplicaci&#xF3; dins de la activity corresponent.<br>
Com s&apos;ha explicat en el punt anterior, quan es crea un intent impl&#xED;cit el sistema Android busca el component apropiat que puga resoldre la petici&#xF3; donada en el intent.<br>
La cerca la realitza analitzant els <strong>intent-filter</strong> definits en els arxius de manifest de les aplicacions instal&#xB7;lades en el dispositiu. Si existeix coincid&#xE8;ncia llan&#xE7;a aquesta aplicaci&#xF3;. Si la coincid&#xE8;ncia &#xE9;s m&#xFA;ltiple (diverses aplicacions poden donar resposta a aqueixa petici&#xF3;), el sistema mostra un quadre de di&#xE0;leg amb la finalitat que l&apos;usuari decidisca. A un Intent podem associar-li una acci&#xF3;, unes dades i una categoria.<br>
Les activitats poden declarar el tipus d&apos;accions que poden dur a terme i els tipus de dades que poden gestionar.</p>
<ul>
<li>Les accions s&#xF3;n cadenes de text est&#xE0;ndard que descriuen el que l&apos;activitat pot fer. Per exemple <strong><code>android.intent.action.VIEW</code></strong>, &#xE9;s una acci&#xF3; que indica que l&apos;activitat pot mostrar dades a l&apos;usuari.</li>
<li>La mateixa activitat pot declarar el tipus de dades del qual s&apos;ocupa, per exemple <strong><code>vnd.android.cursor.dir/person, indica</code></strong> que l&apos;activitat manipula les dades de l&apos;agenda*.</li>
<li>Tamb&#xE9; poden declarar una categoria, que b&#xE0;sicament indica si l&apos;activitat ser&#xE0; llan&#xE7;ada des del llan&#xE7;ador d&apos;aplicacions <strong><code>android.intent.category.DEFAULT</code></strong>, des del men&#xFA; d&apos;una altra aplicaci&#xF3; o directament des d&apos;una altra activitat.<br>
Un possible exemple del AndroidManifest.xml que complisca les anteriors condicions:<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.VIEW<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.category.DEFAULT<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span> <span class="token attr-name"><span class="token namespace">android:</span>mimeType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vnd.android.cursor.dir/person<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
</pre></li>
</ul>
<p>Una activity pot tindre diversos intent-filter definits. Igualment cadascun d&apos;aqueixos intent-filter pot tindre diverses accions definides.</p>
<div style="page-break-after:always;"></div>
<p>Manifest exemple de diversos intent-filter:</p>
<div align="center">
    <img height="350" src="./imagenes/intents6.png">
</div>
<blockquote>
<p>&#x1F4CC;El primer intent-filter defineix que aquesta activity &#xE9;s punt d&apos;entrada per a l&apos;aplicaci&#xF3;. La categoria especifica que ha d&apos;apar&#xE9;ixer en el llan&#xE7;ador d&apos;aplicacions. El segon, permet a la activity visualitzar i editar el directori de dades (a trav&#xE9;s de les actions VIEW i EDIT), o recuperar una entrada particular i retornar-la (a trav&#xE9;s de la action PICK). En data s&apos;especifica el tipus de dades que es manegen. Com est&#xE0; definit amb la Categoria DEFAULT, estem indicant que atendr&#xE0; els intents impl&#xED;cits que sol&#xB7;liciten altres aplicacions.</p>
</blockquote>
<h3 class="mume-header" id="treballant-amb-parcelables">Treballant amb Parcelables</h3>

<p>Quan estem desenvolupant en Android i necessitem enviar dades a una altra Activity ho podem realitzar mitjan&#xE7;ant un <strong>Intent i Bundle</strong> per&#xF2; qu&#xE8; succeeix si desitgem enviar un objecte per a economitzar una anomenada a la API. Android ens brinda les opcions de <strong>Serializable</strong> (pr&#xF2;pia de Java) i <strong>Parcelable</strong>, no obstant aix&#xF2; aquesta &#xFA;ltima &#xE9;s fins a 10 vegades m&#xE9;s r&#xE0;pida pel que ens enfocarem en ella.<br>
Parcelable &#xE9;s una interf&#xED;cie i podem implementar-la manual o mitjan&#xE7;ant un plugin que, en les &#xFA;ltimes versions d&apos;Android Studio, ve incl&#xF2;s per defecte.<br>
Clarament haurem de crear la classe POJO, com es fa sempre, per&#xF2; est&#xE0; haur&#xE0; de derivar de la <strong><code>Interf&#xED;cie Parcelable</code></strong>. Com &#xE9;s de suposar aix&#xF2; ens obligar&#xE0; a implementar una s&#xE8;rie de m&#xE8;todes i una variable CREATOR que hereta de Creator i que tindr&#xE0; tots els seus membres est&#xE0;tics gr&#xE0;cies el modificador <strong><code>companion</code></strong>.<br>
Vegem un exemple amb dos activitys, una en la qual es poden introduir les dades d&apos;un contacte i que en pr&#xE9;mer un bot&#xF3; envie les dades existents en la pantalla a una segona activitat que mostrar&#xE0; les dades de manera senzilla.</p>
<p>Classe <strong>Contacte</strong> que hereta de la <strong><code>Interf&#xED;cie Parcelable</code></strong>:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token keyword">class</span> <span class="token function">Contacto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> Parcelable <span class="token punctuation">{</span>
    <span class="token keyword">var</span> nombre<span class="token operator">:</span> String<span class="token operator">?</span>
    <span class="token keyword">var</span> telefono<span class="token operator">:</span> String<span class="token operator">?</span>
    <span class="token keyword">var</span> email<span class="token operator">:</span> String<span class="token operator">?</span>
    <span class="token keyword">var</span> foto<span class="token operator">:</span> Bitmap<span class="token operator">?</span>
    <span class="token comment">//Constructor generado autom&#xE1;ticamente</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>parcel<span class="token operator">:</span> Parcel<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        nombre <span class="token operator">=</span> parcel<span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        telefono <span class="token operator">=</span> parcel<span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        email <span class="token operator">=</span> parcel<span class="token punctuation">.</span><span class="token function">readString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        foto <span class="token operator">=</span> parcel<span class="token punctuation">.</span><span class="token function">readParcelable</span><span class="token punctuation">(</span>Bitmap<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">.</span>classLoader<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">init</span><span class="token punctuation">{</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>nombre<span class="token operator">=</span><span class="token string">&quot;&quot;</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>telefono<span class="token operator">=</span><span class="token string">&quot;&quot;</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token operator">=</span><span class="token string">&quot;&quot;</span>
         <span class="token keyword">this</span><span class="token punctuation">.</span>foto<span class="token operator">=</span><span class="token keyword">null</span>
     <span class="token punctuation">}</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span>nombre<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">,</span> telefono<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">,</span>
                email<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">,</span> foto<span class="token operator">:</span> Bitmap<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre
        <span class="token keyword">this</span><span class="token punctuation">.</span>telefono <span class="token operator">=</span> telefono
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email
        <span class="token keyword">this</span><span class="token punctuation">.</span>foto <span class="token operator">=</span> foto
    <span class="token punctuation">}</span>
    <span class="token comment">//funciones generadas autom&#xE1;ticamente </span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">describeContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">writeToParcel</span><span class="token punctuation">(</span>parcel<span class="token operator">:</span> Parcel<span class="token punctuation">,</span> flags<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        parcel<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span>
        parcel<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span>telefono<span class="token punctuation">)</span>
        parcel<span class="token punctuation">.</span><span class="token function">writeString</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span>
        parcel<span class="token punctuation">.</span><span class="token function">writeParcelable</span><span class="token punctuation">(</span>foto<span class="token punctuation">,</span> flags<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//Clase creada autom&#xE1;ticamente. Un companion object es la forma que tienen Kotlin </span>
    <span class="token comment">//de definir miembros staticos dentro de una clase, todos los elementos </span>
    <span class="token comment">//de este object ser&#xE1;n static</span>
    <span class="token keyword">companion</span> <span class="token keyword">object</span> CREATOR <span class="token operator">:</span> Creator<span class="token operator">&lt;</span>Contacto<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">createFromParcel</span><span class="token punctuation">(</span>parcel<span class="token operator">:</span> Parcel<span class="token punctuation">)</span><span class="token operator">:</span> Contacto <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">Contacto</span><span class="token punctuation">(</span>parcel<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">newArray</span><span class="token punctuation">(</span>size<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Contacto<span class="token operator">?</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">arrayOfNulls</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Classe <strong>MainActivity</strong> que inicia l&apos;activitat segona manant l&apos;objecte parcel&#xB7;lat.</p>
<pre data-role="codeBlock" data-info="kotlin{highlight=[15,16]}" class="language-kotlin" data-line="15,16"><span class="token keyword">class</span> MainActivity <span class="token operator">:</span> <span class="token function">AppCompatActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span>
        <span class="token keyword">val</span> nombre <span class="token operator">=</span> findViewById<span class="token operator">&lt;</span>TextView<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>campo_nombre<span class="token punctuation">)</span>
        <span class="token keyword">val</span> tlf <span class="token operator">=</span> findViewById<span class="token operator">&lt;</span>TextView<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>campo_tlf<span class="token punctuation">)</span>
        <span class="token keyword">val</span> correo <span class="token operator">=</span> findViewById<span class="token operator">&lt;</span>TextView<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>campo_correo<span class="token punctuation">)</span>
        <span class="token keyword">val</span> img <span class="token operator">=</span> findViewById<span class="token operator">&lt;</span>ImageButton<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>placeImage<span class="token punctuation">)</span>
        <span class="token keyword">val</span> imagen <span class="token operator">=</span> BitmapFactory<span class="token punctuation">.</span><span class="token function">decodeResource</span><span class="token punctuation">(</span>resources<span class="token punctuation">,</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>noimagen<span class="token punctuation">)</span>
        <span class="token keyword">val</span> button<span class="token operator">:</span> Button <span class="token operator">=</span> findViewById<span class="token operator">&lt;</span>Button<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>boton<span class="token punctuation">)</span>
        button<span class="token punctuation">.</span><span class="token function">setOnClickListener</span> <span class="token punctuation">{</span>
                <span class="token keyword">val</span> c <span class="token operator">=</span> <span class="token function">Contacto</span><span class="token punctuation">(</span>nombre<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tlf<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
                                 correo<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> imagen<span class="token punctuation">)</span>
                <span class="token keyword">val</span> intent <span class="token operator">=</span> <span class="token function">Intent</span><span class="token punctuation">(</span>applicationContext<span class="token punctuation">,</span> Activity2<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">)</span>
                intent<span class="token punctuation">.</span><span class="token function">putExtra</span><span class="token punctuation">(</span><span class="token string">&quot;CONTACTO&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
                <span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
<div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15" data-start="15">
</div></div><div class="line-highlight-wrapper">














<div aria-hidden="true" class="line-highlight" data-range="16" data-start="16">
</div></div></pre><blockquote>
<p>&#x1F4CC; <strong>L&#xED;nia 15</strong> es crea el intent per a l&apos;activitat 2 . <strong>L&#xED;nia 16</strong> com es pot veure, encara que l&apos;element que afegim al intent &#xE9;s un objecte de tipus Contacte, es pot fer amb <strong><code>putExtra</code></strong> pel fet que el contacte hereta de Parcelable.</p>
</blockquote>
<p>En la <strong>Activity2</strong> recuperarem l&apos;objecte passat, amb la <strong>l&#xED;nia 6</strong>.</p>
<pre data-role="codeBlock" data-info="kotlin{highlight=6}" class="language-kotlin" data-line="6"><span class="token keyword">class</span> Activity2<span class="token operator">:</span> <span class="token function">AppCompatActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//recuperar datos y visualizar</span>
        <span class="token keyword">val</span> c <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>intent<span class="token punctuation">.</span>getParcelableExtra<span class="token operator">&lt;</span>Contacto<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&quot;CONTACTO&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">val</span> nombre <span class="token operator">=</span> findViewById<span class="token operator">&lt;</span>TextView<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>txt_nombre<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">val</span> tlf <span class="token operator">=</span> findViewById<span class="token operator">&lt;</span>TextView<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>txt_tlf<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">val</span> correo <span class="token operator">=</span> findViewById<span class="token operator">&lt;</span>TextView<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>txt_correo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">val</span> img <span class="token operator">=</span> findViewById<span class="token operator">&lt;</span>ImageButton<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>placeImage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            nombre<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span>
            tlf<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>telefono<span class="token punctuation">)</span>
            correo<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>email<span class="token punctuation">)</span>
            img<span class="token punctuation">.</span><span class="token function">setImageBitmap</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>foto<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div></pre><blockquote>
<p>&#x270B; <strong>Importante:</strong> No olvides declarar en el Manifest las dos actividades.</p>
</blockquote>
<p><span style="color: DarkRed; font-weight: bold;">&#x2712;&#xFE0F; Ejercicio PropuestoParcelabe</span></p>
<div style="page-break-after:always;"></div>
      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>