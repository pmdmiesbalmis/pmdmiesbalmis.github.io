<!DOCTYPE html><html><head>
      <title>PMDM 2ยบ DAM  Tema 1.1 - Lenguaje Kotlin I</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em!important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em!important;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em!important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px/2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.markdown-preview.markdown-preview .caso_estudio {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .ejercicio {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: center;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: space-between;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}
.markdown-preview.markdown-preview .galeria_imagenes {
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: row;
  }
}

      </style>
      
    </head>
    <body for="html-export">
      <div class="crossnote markdown-preview  ">
      <style>/* 
Aรฑade 

@import "../EstilosPersonalizadosMarkdownEnhanced.less"

justo despuรฉs del front matter 
*/
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
</style>
<h1 class="crossnote-header" id="tema-1-parte-1---lenguaje-kotlin-i">Tema 1 parte 1 - Lenguaje Kotlin I</h1>

<p>Descargar estos apuntes <a href="./Tema_1_1_kotlin.pdf">pdf</a> o <a href="./Tema_1_1_kotlin.html">html</a></p>
<h2 class="crossnote-header" id="%C3%ADndice">รndice</h2>


<div class="md-toc">
<div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#introducciรณn" class="md-toc-link">
            <p>Introducciรณn</p>

          </a></div><details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#creando-nuestro-hola-mundo-en-kotlin" class="md-toc-link"><p>Creando nuestro "<em>Hola Mundo</em>" en Kotlin</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#usando-gradle" class="md-toc-link">
            <p>Usando Gradle</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#usando-android-studio" class="md-toc-link">
            <p>Usando Android Studio</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#el-lenguaje-kotlin" class="md-toc-link"><p>El lenguaje Kotlin</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#enlaces-de-interรฉs" class="md-toc-link">
            <p>Enlaces de interรฉs</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#control-de-nulos" class="md-toc-link">
            <p>Control de Nulos</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#variables" class="md-toc-link"><p>Variables</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#interpolaciรณn-de-cadenas" class="md-toc-link">
            <p>Interpolaciรณn de cadenas</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#literales-de-cadena-multilรญnea" class="md-toc-link">
            <p>Literales de cadena multilรญnea</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#control-de-flujo" class="md-toc-link"><p>Control de flujo</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#condicionales-como-expresiรณn" class="md-toc-link">
            <p>Condicionales como expresiรณn</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#bucles-con-for-y-while" class="md-toc-link">
            <p>Bucles con for y while</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#condicional-mรบltiple-con-when" class="md-toc-link">
            <p>Condicional mรบltiple con when</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#funciones" class="md-toc-link"><p>Funciones</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#retornando-una-tupla-paira-b-triplea-b-c" class="md-toc-link">
            <p>Retornando una tupla 'Pair&lt;A, B&gt;', 'Triple&lt;A, B, C&gt;'</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#nรบmero-de-argumentos-indefinido-con-varargs" class="md-toc-link">
            <p>Nรบmero de argumentos indefinido con 'varargs'</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#funciones-de-extensiรณn" class="md-toc-link">
            <p>Funciones de extensiรณn</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#excepciones" class="md-toc-link">
            <p>Excepciones</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#clases-e-interfaces" class="md-toc-link"><p>Clases e Interfaces</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#constructores" class="md-toc-link">
            <p>Constructores</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definir-mรฉtodos-y-propiedades-estรกticas" class="md-toc-link">
            <p>Definir mรฉtodos y propiedades estรกticas</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#herencia" class="md-toc-link">
            <p>Herencia</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#interfaces" class="md-toc-link">
            <p>Interfaces</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#definiendo-valueobjects-o-dtos-con-data-class" class="md-toc-link">
            <p>Definiendo ValueObjects o DTO's con data class</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#clases-y-mรฉtodos-parametrizados" class="md-toc-link">
            <p>Clases y mรฉtodos parametrizados</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#scope-functions" class="md-toc-link">
            <p>Scope functions</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#clases-enumeradas-con-enum-class" class="md-toc-link">
            <p>Clases enumeradas con enum class</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#clases-selladas-sum-type-pattern" class="md-toc-link">
            <p>Clases Selladas (Sum Type Pattern)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#delegaciรณn-de-propiedades-con-by" class="md-toc-link">
            <p>Delegaciรณn de propiedades con <strong><code>by</code></strong></p>

          </a></div>
        </div>
      </details>
    
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 class="crossnote-header" id="introducci%C3%B3n">Introducciรณn</h2>

<p><strong>Kotlin</strong> es un lenguaje de programaciรณn fuertemente tipado desarrollado por <strong>JetBrains</strong> en 2010 y que estรก influenciado por lenguajes como <strong>C#, Scala, Groovy y Java</strong>.</p>
<p>A partir de la  actualizaciรณn Kotlin 1.3.30, se incluyeron las mejoras para Kotlin/Native  que permite compilar el cรณdigo fuente de Kotlin en datos binarios independientes para diferentes sistemas operativos y arquitecturas de CPU, incluido IOS, Linux, Windows y Mac.</p>
<p>La mayorรญa de desarrollos con Kotlin, tienen cรณmo destino Android o la mรกquina virtual de java (JVM) y puedes encontrar '<em>ports</em>' al lenguaje de Frameworks y librerรญas cรณmo:</p>
<ul>
<li>
<p>Desarrollo Nativo a Android NDK</p>
</li>
<li>
<p><a href="https://kotlinlang.org/docs/multiplatform-get-started.html">Multiplataforma</a>.</p>
</li>
<li>
<p>Desarrollo web con <a href="https://kotlinlang.org/docs/js-overview.html">interactividad y transpilaciรณn a JavaScript</a> con <a href="https://kotlinlang.org/docs/js-ir-compiler.html">JS IR Compiler</a>.</p>
</li>
<li>
<p><a href="https://kotlinlang.org/docs/server-overview.html">Desarrollo Backend</a> de acceso a datos y Microservicios con Frameworks como <a href="https://spring.io/guides/tutorials/spring-boot-kotlin/">Spring boot</a>, <a href="https://quarkus.io/guides/kotlin">Quarkus</a>, <a href="https://guides.micronaut.io/latest/creating-your-first-micronaut-app-maven-kotlin.html">Micronaut</a>, <a href="https://ktor.io/">Ktor</a></p>
</li>
<li>
<p>Videojuegos con Frameworks como <a href="https://libktx.github.io/">LibKTX</a> o <a href="https://korge.org/">KorGE</a></p>
</li>
<li>
<p>Ciencia de datos con plataformas como <a href="https://github.com/Kotlin/kotlin-jupyter">Jupyter Notebooks</a> o <a href="https://blog.jetbrains.com/datalore/">Datalore</a></p>
</li>
</ul>
<blockquote>
<p>๐ <strong>Nota</strong>: Nosotros vamos a ver la sintaxis de <strong>Kotlin 1.9.0</strong>. Sin embargo, podrรญamos usar la  versiรณn <strong><a href="https://kotlinlang.org/docs/whatsnew2020.html">versiรณn 2.0.20</a></strong>, el cuya caracterรญstica mรกs importante es usar el nuevo <strong><a href="https://kotlinlang.org/docs/k2-compiler-migration-guide.html">compilador K2</a></strong> que mejora la velocidad de compilaciรณn y la calidad del cรณdigo generado.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h2 class="crossnote-header" id="creando-nuestro-hola-mundo-en-kotlin">Creando nuestro "<em>Hola Mundo</em>" en Kotlin</h2>

<h3 class="crossnote-header" id="usando-gradle">Usando Gradle</h3>

<blockquote>
<p>Aquรญ puedes encontrar los pasos en el web oficial : <a href="https://docs.gradle.org/current/samples/sample_building_kotlin_applications.html">https://docs.gradle.org/current/samples/sample_building_kotlin_applications.html</a></p>
</blockquote>
<p>Aunque podemos resumirlos aquรญ:</p>
<ol>
<li>
<p>Creamos la carpeta o wrkspace, por ejemplo, <strong><code>_proyecto_consola_kotlin</code></strong>.</p>
</li>
<li>
<p>Abrimos una consola de comandos <strong><code>cmd</code></strong> en la carpeta creada.</p>
</li>
<li>
<p>Ejecutamos el comando <strong><code>gradle init</code></strong> y seguimos los pasos introduciendo las opciones del ejemplo a continuaciรณn.</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash">~<span class="token punctuation">\</span>proyecto_consola_kotlin<span class="token operator">&gt;</span>gradle init
Starting a Gradle Daemon, <span class="token number">2</span> stopped Daemons could not be reused, use <span class="token parameter variable">--status</span> <span class="token keyword keyword-for">for</span> details

Select <span class="token builtin class-name">type</span> of build to generate:
<span class="token number">1</span>: Application
<span class="token number">2</span>: Library
<span class="token punctuation">..</span>.
Enter selection <span class="token punctuation">(</span>default: Application<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token number">1</span>

Select implementation language:
<span class="token number">1</span>: Java
<span class="token number">2</span>: Kotlin
<span class="token punctuation">..</span>.
Enter selection <span class="token punctuation">(</span>default: Java<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token number">2</span>

Enter target Java version <span class="token punctuation">(</span>min: <span class="token number">7</span>, default: <span class="token number">21</span><span class="token punctuation">)</span>: <span class="token number">17</span>

Project name <span class="token punctuation">(</span>default: consola<span class="token punctuation">)</span>:

Select application structure:
<span class="token number">1</span>: Single application project
<span class="token number">2</span>: Application and library project
Enter selection <span class="token punctuation">(</span>default: Single application project<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token number">1</span>

Select build script DSL:
<span class="token number">1</span>: Kotlin
<span class="token number">2</span>: Groovy
Enter selection <span class="token punctuation">(</span>default: Kotlin<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token number">1</span>

Generate build using new APIs and behavior <span class="token punctuation">(</span>some features may change <span class="token keyword keyword-in">in</span> 
the next minor release<span class="token punctuation">)</span>? <span class="token punctuation">(</span>default: no<span class="token punctuation">)</span> <span class="token punctuation">[</span>yes, no<span class="token punctuation">]</span>
<span class="token punctuation">..</span>.
BUILD SUCCESSFUL <span class="token keyword keyword-in">in</span> 2m 36s
<span class="token number">1</span> actionable task: <span class="token number">1</span> executed
</pre></li>
<li>
<p>Para compilar y ejecutar nuestro proyecto ejecutaremos <strong><code>gradlew run</code></strong></p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash">~<span class="token punctuation">\</span>proyecto_consola_kotlin<span class="token operator">&gt;</span>gradlew run

<span class="token operator">&gt;</span> Task :app:run
Hello World<span class="token operator">!</span>

BUILD SUCCESSFUL <span class="token keyword keyword-in">in</span> 8s
<span class="token number">2</span> actionable tasks: <span class="token number">2</span> executed
</pre></li>
<li>
<p>Si quieres ver el resto de tareas predefinidas para nuestru proyecto, puedes ejecutar <strong><code>gradlew tasks</code></strong>. Si quieres indagar un poco mรกs sobre la ejecuciรณn de tareas puedes ver la <a href="https://docs.gradle.org/current/userguide/command_line_interface.html">documentaciรณn oficial del proyecto</a>.</p>
</li>
<li>
<p>Por รบltimo podremos abrir el proyecto con cualquier IDE que permita importar proyectos de Gradle como <strong>Android Studio</strong>.</p>
</li>
</ol>
<h3 class="crossnote-header" id="usando-android-studio">Usando Android Studio</h3>

<p>Aunque no es lo recomendado porque aรฑade dependencias de Android que no necesitamos. Podemos usar la platilla '<em>No Activity</em>' para hacerlo de una forma asistida.:</p>
<ol>
<li>Arrancaremos Android Studio y seleccionaremos <strong><code>New Proyect -&gt; No Activity</code></strong></li>
</ol>
<div align="center">
  <img height="200" src="imagenes/astudio_consola/imagen1.png">
</div> 
<ol start="2">
<li>Indicaremos la ubicaciรณn y el nombre de paquete, esto se explica mejor en el siguiente tema.</li>
</ol>
<div align="center">
  <img height="200" src="imagenes/astudio_consola/imagen2.png">
</div> 
<div style="page-break-after:always;"></div>
<ol>
<li>Una vez se ha creado el proyecto, dentro del paquete de la carpeta Java (vista Android) seleccionaremos <strong><code>New -&gt; Kotlin Class/File </code></strong></li>
</ol>
<div align="center">
  <img height="150" src="imagenes/astudio_consola/imagen3.png">
</div> 
<ol start="4">
<li>Seleccionaremos <strong>File</strong> y le indicaremos el nombre del fichero a crear.</li>
</ol>
<div align="center">
  <img height="200" src="imagenes/astudio_consola/imagen4.png">
</div> 
<ol start="5">
<li>De esta manera se habrรก creado un fichero con extensiรณn <strong>.kt</strong> (Kotlin), vacรญo.</li>
</ol>
<div align="center">
  <img height="100" src="imagenes/astudio_consola/imagen5.png">
</div> 
<ol start="6">
<li>
<p>Ahora solo quedarรก aรฑadir las funciones que necesitemos, por ejemplo si queremos crear el <strong>Hola Mundo</strong> bรกsico.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Hola Mundo"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<h2 class="crossnote-header" id="el-lenguaje-kotlin">El lenguaje Kotlin</h2>

<h3 class="crossnote-header" id="enlaces-de-inter%C3%A9s">Enlaces de interรฉs</h3>

<ul>
<li><a href="https://kotlinlang.org/">Pรกgina oficial del lenguaje.</a></li>
<li><a href="https://play.kotlinlang.org/byExample/overview">Learn Kotlin by Example</a></li>
<li><a href="https://developer.android.com/courses/pathways/android-basics-compose-unit-1-pathway-1?hl=es-419">Curso guiado de iniciaciรณn</a></li>
<li><a href="https://developer.android.com/courses/pathways/android-basics-compose-unit-2-pathway-1?hl=es-419">Curso guiado de profundizaciรณn</a></li>
<li><a href="https://developer.android.com/courses/kotlin-bootcamp/overview?hl=es-419">Capacitaciรณn oficial de Kotlin para programadores (profundizaciรณn)</a></li>
<li><a href="https://www.youtube.com/watch?v=Y0tcdQ7Nfqk&amp;list=PLrn69hTK5FBz7meApXjpGnvBVZjec-FCr">Curso de Kotlin (Lista de reproducciรณn de DevExperto en Castellano)</a></li>
<li><a href="https://www.youtube.com/watch?v=T3ugOYTRF7c">Kotlin Desde Cero: Primeros Pasos en una hora (MoureDev)</a></li>
<li><a href="https://www.youtube.com/watch?v=hug4TNmhw78&amp;list=PLNdFk2_brsReZeIQ1-2r783GWus0ZZ5io">Curso de Kotlin Bรกsico (Lista de reproducciรณn oficial de MoureDev)</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLAzlSdU-KYwVd0mby6H9gLfJ7bkmXNjQJ">Kotlin desde cero</a></li>
<li><a href="https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS44LjEwIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiLyoqXG4gKiBZb3UgY2FuIGVkaXQsIHJ1biwgYW5kIHNoYXJlIHRoaXMgY29kZS5cbiAqIHBsYXkua290bGlubGFuZy5vcmdcbiAqL1xuZnVuIG1haW4oKSB7XG4gICAgcHJpbnRsbihcIkhlbGxvLCB3b3JsZCEhIVwiKVxufSJ9">PlayGround Kotlin. (Probar Kotlin On-line)</a></li>
</ul>
<h3 class="crossnote-header" id="control-de-nulos">Control de Nulos</h3>

<ul>
<li><a href="https://kotlinlang.org/docs/null-safety.html">Null safety</a></li>
</ul>
<p>Kotlin ha aportado una serie de elementos que permiten realizar un mayor control de los tipos que pueden ser nulos <a href="https://kotlinlang.org/docs/null-safety.html">Null safety</a>, y que pretende evitar la tan conocida excepciรณn <strong>NullPointerException</strong>.</p>
<p>Como ocurre con otros lenguajes, Kotlin permite definir un tipo no nulo como anulable. Esto lo hace mediante el elemento <strong><code>?</code></strong>, por ejemplo una variable de tipo entera no podrรญa almacenar un valor nulo, pero se puede cambiar esta condiciรณn de la siguiente manera.</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> numero<span class="token operator">:</span> Int
    numero <span class="token operator">=</span> <span class="token keyword keyword-null">null</span> <span class="token comment">// ๐ ERROR de compilaciรณn, los tipos valor no son anulables</span>
    
    <span class="token keyword keyword-var">var</span> numeroAnulable<span class="token operator">:</span> Int<span class="token operator">?</span>
    numeroAnulable <span class="token operator">=</span> <span class="token keyword keyword-null">null</span> <span class="token comment">// OK</span>
<span class="token punctuation">}</span>
</pre><p>Para comprobar si las variables son nulas, siempre se puede usar el condicional if/else, aunque Kotlin nos permite otras opciones. El operador <strong>llamada segura</strong> <strong><code>?.</code></strong> que solo realizarรก la llamada en caso que el valor sea distinto de nulo y devolverรก null en otro caso.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token keyword keyword-var">var</span> cadenaAnulable<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span>
    <span class="token function">println</span><span class="token punctuation">(</span>cadenaAnulable<span class="token operator">?</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><p>En este ejemplo, si no usรกramos el operador de llamada segura, el cรณdigo lanzarรญa NPE. Pero ahora mostrarรก <strong>null</strong>.</p>
<p>Otro operador, no tan recomendado es el operador de <strong>aserciรณn no nula</strong>  <strong><code>!!</code></strong>. convierte cualquier valor en un tipo no nulo y lanza una excepciรณn si el valor es null. Podemos decir de este operador, que vuelve las cosas a la normalidad ya conocida.</p>
<p>Por lo tanto, si deseas un NPE, puedes tenerla solicitรกndola con este operador.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token keyword keyword-var">var</span> cadenaAnulable<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span>
    
    <span class="token comment">// ๐ ERROR de compilaciรณn, no permite posibilidad de producir excepciรณn</span>
    <span class="token function">println</span><span class="token punctuation">(</span>cadenaAnulable<span class="token punctuation">.</span>length<span class="token punctuation">)</span>

    <span class="token comment">//Solicitamos esta opciรณn con el operador !!</span>
    <span class="token function">println</span><span class="token punctuation">(</span>cadenaAnulable<span class="token operator">!!</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
</pre><p>Y por รบltimo tenemos el operador <em><strong>elvis</strong></em> <strong><code>?:</code></strong> que comprueba que el valor no es nulo, permitiendo la llamada en ese caso o devolviendo lo que <em>decidamos</em> en caso que sea nulo. Equivaldrรก al operador <strong><code>??</code></strong> en C#.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token keyword keyword-var">var</span> cadenaAnulable<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span>    
    <span class="token function">println</span><span class="token punctuation">(</span>cadenaAnulable<span class="token operator">?</span><span class="token punctuation">.</span>length <span class="token operator">?:</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><p>Recuerda que si la expresiรณn a la izquierda de <strong><code>?:</code></strong> no es null, se realiza la llamada a length, de lo contrario devuelve la expresiรณn de la derecha, en este caso 0.</p>
<h3 class="crossnote-header" id="variables">Variables</h3>

<ul>
<li><a href="https://kotlinlang.org/docs/basic-syntax.html#variables">Variables</a></li>
</ul>
<p>Igual que en todos los lenguajes de programaciรณn, en Kotlin tambiรฉn tendremos el recurso de las <a href="https://kotlinlang.org/docs/basic-syntax.html#variables">variables</a> para almacenar valores. En Kotlin nos podemos encontrar con variables <strong>inmutables</strong> y variables <strong>mutables</strong>. En el caso de las primeras, una vez se le asigna un valor a la variable no podrรก ser modificado, es decir, se comporta como una constante (lo mismo que utilizar final en Java o readonly en C#).</p>
<p>Mientras que con la mutables podremos modificar en cualquier momento el valor de la variable.</p>
<p>Para declarar una variable como mutable, la tendremos que preceder de la palabra clave <strong>var</strong> mientras que para las inmutables usaremos <strong>val</strong>.</p>
<p>El concepto de inmutabilidad es muy interesante. Al no poder cambiar los objetos estos son mรกs robustos y eficientes. Siempre que podamos hemos de usar objetos inmutables.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token comment">// Variables mutables</span>
<span class="token keyword keyword-var">var</span> mutable<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">5</span>
mutable <span class="token operator">+=</span> <span class="token number">7</span>

<span class="token keyword keyword-var">var</span> numeroDecimales <span class="token operator">=</span> <span class="token number">3.14F</span>
numeroDecimales <span class="token operator">+=</span> <span class="token number">5.5F</span>

<span class="token comment">// Variables inmutables </span>
<span class="token keyword keyword-val">val</span> inmutable<span class="token operator">:</span> Char <span class="token operator">=</span> <span class="token char">'C'</span>
inmutable <span class="token operator">=</span> <span class="token char">'A'</span>  <span class="token comment">// ๐ ERROR compilaciรณn!! no se puede modificar una variable inmutable  </span>
</pre><p>Como se puede ver en el ejemplo, cuando declaramos una variable, podemos indicar el tipo de esta o esperar a que el compilador lo infiera.</p>
<p>Para definir el tipo, tendremos que indicarlo con <strong><code>:tipo</code></strong> despuรฉs del nombre: <strong><code>(var|val) nombreVariable [:tipo][=valor]</code></strong></p>
<p>Los tipos bรกsicos de variables en Kotlin son:</p>
<table>
<thead>
<tr>
<th>Tipo</th>
<th style="text-align:center">Valor</th>
<th>Tamaรฑo</th>
</tr>
</thead>
<tbody>
<tr>
<td>Byte</td>
<td style="text-align:center">5.toByte()</td>
<td>8 bits</td>
</tr>
<tr>
<td>Short</td>
<td style="text-align:center">5.toShort()</td>
<td>16 bits</td>
</tr>
<tr>
<td>Int</td>
<td style="text-align:center">5</td>
<td>32 bits</td>
</tr>
<tr>
<td>Long</td>
<td style="text-align:center">5L</td>
<td>64 bits</td>
</tr>
<tr>
<td>Float</td>
<td style="text-align:center">1.45F</td>
<td>32 bits</td>
</tr>
<tr>
<td>Double</td>
<td style="text-align:center">1.45</td>
<td>64 bits</td>
</tr>
<tr>
<td>Boolean</td>
<td style="text-align:center">true</td>
<td></td>
</tr>
<tr>
<td>Char</td>
<td style="text-align:center">'H'</td>
<td>16 bits</td>
</tr>
<tr>
<td>Unit</td>
<td style="text-align:center">Unit</td>
<td>0 bits</td>
</tr>
</tbody>
</table>
<div style="page-break-after:always;"></div>
<blockquote>
<p>โ <strong>Importante</strong>: El tipo <strong><code>Unit</code></strong> corresponde a void en Java y C#</p>
</blockquote>
<p>Cuando una <strong>variable mutable</strong> declarada en el cuerpo de una clase, no se quiere inicializar en el momento de la declaraciรณn, existe el concepto de <strong><code>Inicializaciรณn tardรญa</code></strong>, aรฑadiendo el modificador <strong>lateinit</strong> delante de la declaraciรณn de la variable.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-public">public</span> <span class="token keyword keyword-class">class</span> Ejemplo <span class="token punctuation">{</span>

<span class="token keyword keyword-lateinit">lateinit</span> <span class="token keyword keyword-var">var</span> cadena<span class="token operator">:</span> String

<span class="token keyword keyword-fun">fun</span> <span class="token function">miFuncion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   cadena <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Hola Mundo"</span></span>
   <span class="token function">println</span><span class="token punctuation">(</span>cadena<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><blockquote>
<p>โ <strong>Importante</strong>: Como en otros lenguajes de programaciรณn, se debe controlar las operaciones con variables  de distintos tipos, para evitar resultados inesperados o incluso excepciones. Kotlin tiene varios mรฉtodos <strong><code>v.to&lt;Type&gt;()</code></strong> para cambiar los valores al tipo que necesites:</p>
</blockquote>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> a<span class="token operator">:</span> Int
    <span class="token keyword keyword-var">var</span> b <span class="token operator">=</span> <span class="token number">3.5f</span>
    a <span class="token operator">=</span> b <span class="token operator">+</span> <span class="token number">2</span>         <span class="token comment">//๐ ERROR error: type mismatch: inferred type is Float but Int was expected.</span>
    a <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token comment">//๐ CORRECTO</span>
    <span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><blockquote>
<p>๐ <strong>Nota</strong>: Mientras que <strong><code>a = b.toInt() + 2</code></strong>, evitarรญa el error, aunque la funciรณn redondearรญa a 3.</p>
</blockquote>
<h4 class="crossnote-header" id="interpolaci%C3%B3n-de-cadenas">Interpolaciรณn de cadenas</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/strings.html#string-templates">Strings Templates</a></li>
</ul>
<p>El tipo <a href="https://kotlinlang.org/docs/basic-types.html#strings">String</a> representa el literal de cadena ya conocido, podemos ver un ejemplo  del uso de interpolaciรณn con <strong><code>$</code></strong> para la salida por pantalla.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span> <span class="token punctuation">(</span>args<span class="token operator">:</span> Array <span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
  <span class="token keyword keyword-val">val</span> cadena <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"El resultado de:"</span></span>
  <span class="token keyword keyword-val">val</span> a <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token keyword keyword-val">val</span> b <span class="token operator">=</span> <span class="token number">5</span>
  <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">cadena</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">a</span></span><span class="token string"> + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">b</span></span><span class="token string"> es: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">a <span class="token operator">+</span> b</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="bash" class="language-bash bash">El resultado de: <span class="token number">2</span> + <span class="token number">5</span> es: <span class="token number">7</span>
</pre><h4 class="crossnote-header" id="literales-de-cadena-multil%C3%ADnea">Literales de cadena multilรญnea</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/strings.html#multiline-strings">Multiline Strings</a></li>
</ul>
<p>Al igual que sucede en las versiones actuales de lenguajes como C# podrรฉ definir cadenas multilรญnea con el carรกcter <strong><code>"""</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> estudianteJson <span class="token operator">=</span> <span class="token string-literal multiline"><span class="token string">"""
    {
        "nombre": "Juan",
        "edad": 23,
        "cursos": ["Kotlin", "Java", "C#"]
    }
    """</span></span><span class="token punctuation">.</span><span class="token function">trimIndent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Elimina los espacios en blanco iniciales</span>
    <span class="token function">println</span><span class="token punctuation">(</span>estudianteJson<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h3 class="crossnote-header" id="control-de-flujo">Control de flujo</h3>

<p>El <a href="https://kotlinlang.org/docs/coding-conventions.html#control-flow-statements">control de flujo en kotlin</a> tiene algunas diferencias interesantes a otros lenguajes mรกs conocidos. Las instrucciones <strong>if/else, for y while</strong> se pueden considerar similares, asรญ que vamos a explicar solamente los elementos que las diferencian:</p>
<h4 class="crossnote-header" id="condicionales-como-expresi%C3%B3n">Condicionales como expresiรณn</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/control-flow.html#if-expression">Conditional expressions</a></li>
</ul>
<p>En Kotlin no existe el operador ternario para expresar condiciones simples como por ejemplo hacรญamos en C# con <strong><code>string t = exp ? "true" : "false"</code></strong> en su lugar usaremos <strong><code>if - else</code></strong> como hace Python para realizar este tipo de expresiones. Por tanto, el Kotlin tendremos ...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-val">val</span> t <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>exp<span class="token punctuation">)</span> <span class="token string-literal singleline"><span class="token string">"true"</span></span> <span class="token keyword keyword-else">else</span> <span class="token string-literal singleline"><span class="token string">"false"</span></span>
</pre><h4 class="crossnote-header" id="bucles-con-for-y-while">Bucles con for y while</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/control-flow.html#for-loops">for and while loops</a></li>
</ul>
<p>Se diferencia sobre todo en que se tienen que usar rangos en la sentencia for y se pueden usar en la while:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">repeticionConForV1</span><span class="token punctuation">(</span>v<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Fรญjate que Kotlin me permite definir rangos de forma similar a C#</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>i <span class="token keyword keyword-in">in</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">..</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reversed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">i</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">repeticionConForV2</span><span class="token punctuation">(</span>v<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Otra forma de expresar lo anterior serรญa...</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>i <span class="token keyword keyword-in">in</span> v downTo <span class="token number">0</span> step <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">i</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// El operador igual me permite definir 'cuerpos de expresiรณn'</span>
<span class="token comment">// al igual que hacรญamos en C#</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">repeticionConForV1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</pre><div style="page-break-after:always;"></div>
<p>En ambos casos anteriores <strong><code>i</code></strong> tomara valores de 0 a v incluido este รบltimo. Si queremos hacer que llegue hasta <strong><code>v - 1</code></strong> usaremos <strong><code>until</code></strong> ...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">repeticionConIndiceArray</span><span class="token punctuation">(</span>v<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// i irรก de 0 a v - 1</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>i <span class="token keyword keyword-in">in</span> <span class="token number">0</span> until v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">i</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><blockquote>
<p><strong>Nota</strong>: En la <a href="https://kotlinlang.org/docs/whatsnew19.html#stable-operator-for-open-ended-ranges">รบltimas versiones</a> de Kotlin podemos usar el operador <strong><code>..&lt;</code></strong> en lugar de <strong><code>until</code></strong>.</p>
</blockquote>
<p>Tambiรฉn podemos usare un bucle <strong><code>while</code></strong> ...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">repeticionConWhile</span><span class="token punctuation">(</span>tope<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> contador<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword keyword-do">do</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Introduce numero: "</span></span><span class="token punctuation">)</span>
        <span class="token keyword keyword-var">var</span> numero <span class="token operator">=</span> <span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        contador<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token function">println</span><span class="token punctuation">(</span>contador<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword keyword-while">while</span> <span class="token punctuation">(</span>contador <span class="token operator">&lt;</span> tope <span class="token operator">&amp;&amp;</span> numero <span class="token operator">!</span><span class="token keyword keyword-in">in</span> <span class="token number">50</span><span class="token operator">..</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">repeticionConWhile</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</pre><div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="condicional-m%C3%BAltiple-con-when">Condicional mรบltiple con when</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/control-flow.html#when-expression">When expression</a></li>
</ul>
<p>Equivalente a los <strong>swich</strong> de <strong>expresiรณn</strong> de C#. Sin embargo no dispondremos del <strong>swich</strong> como <strong>instrucciรณn</strong>.<br>
En el siguiente ejemplo podemos deducir la sintaxis fรกcilmente, teniendo en cuenta que el operador 'arrow' en Kolin es <strong><code>-&gt;</code></strong> y en C# o JavaScript es <strong><code>=&gt;</code></strong>:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">getEstacion</span><span class="token punctuation">(</span>entrada<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-when">when</span> <span class="token punctuation">(</span>entrada<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token number">1</span> <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">"primavera"</span></span>
        <span class="token number">2</span> <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">"verano"</span></span>
        <span class="token number">3</span> <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">"otoรฑo"</span></span>
        <span class="token number">4</span> <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">"invierno"</span></span>
        <span class="token keyword keyword-else">else</span> <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">"Estaciรณn incorrecta"</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">getEstacion</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><p>En este caso usamos <strong><code>when</code></strong> con <a href="https://kotlinlang.org/docs/control-flow.html#when-expression">patrones</a> que se aplican a la variable <strong><code>x</code></strong> como hacรญamos en C#.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> x <span class="token operator">=</span> <span class="token number">12</span>
    <span class="token keyword keyword-val">val</span> validNumbers <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">15</span>
    <span class="token keyword keyword-when">when</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-in">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span> <span class="token operator">-&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">x</span></span><span class="token string"> is in the range"</span></span><span class="token punctuation">)</span>
        <span class="token keyword keyword-in">in</span> validNumbers <span class="token operator">-&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">x</span></span><span class="token string"> is valid"</span></span><span class="token punctuation">)</span>
        <span class="token operator">!</span><span class="token keyword keyword-in">in</span> <span class="token number">10</span><span class="token operator">..</span><span class="token number">20</span> <span class="token operator">-&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">x</span></span><span class="token string"> is outside the range"</span></span><span class="token punctuation">)</span>
        <span class="token keyword keyword-else">else</span> <span class="token operator">-&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"none of the above"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Otro ejemplo de la gran funcionalidad que nos permite la sentencia <strong>when</strong> podrรญa ser el siguiente. Observa que en este caso el <strong><code>when</code></strong> es <strong>sin argumentos</strong> y tenemos diferentes expresiones que iremos comprobando en orden:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">noHagoNada</span><span class="token punctuation">(</span>x<span class="token operator">:</span> Int<span class="token punctuation">,</span> s<span class="token operator">:</span> String<span class="token punctuation">,</span> v<span class="token operator">:</span> Float<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> res <span class="token operator">=</span> <span class="token keyword keyword-when">when</span> <span class="token punctuation">{</span>
        x <span class="token keyword keyword-in">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span> <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">"entero positivo menor de 10"</span></span>
        s<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"cadena"</span></span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">"incluyo cadena"</span></span>
        v <span class="token keyword keyword-is">is</span> Comparable<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">"Soy Comparable"</span></span>
        <span class="token keyword keyword-else">else</span> <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">""</span></span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> res
<span class="token punctuation">}</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">noHagoNada</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Hola"</span></span><span class="token punctuation">,</span> <span class="token number">3.5f</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><div style="page-break-after:always;"></div>
<h3 class="crossnote-header" id="funciones">Funciones</h3>

<ul>
<li><a href="https://kotlinlang.org/docs/functions.html">Functions</a></li>
</ul>
<p>Como ya hemos podido deducir de los ejemplos del tema, si queremos crear una <a href="https://kotlinlang.org/docs/basic-syntax.html#functions">funciรณn</a> en kotlin tendremos que precederla de la palabra reservada <strong>fun</strong>. Por tanto, una funciรณn constarรก de la palabra fun seguida por el nombre de la funciรณn y entre parรฉntesis los parรกmetros, siempre y cuando los tenga. Si la funciรณn retorna un valor se definirรก al final de la signatura (esto รบltimo se puede omitir siempre que la funciรณn no devuelva nada).</p>
<p><strong><code>fun idFuncion([p1 : T1, p2 : T2, ... ]) : Tr</code></strong></p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">sumaDatos</span><span class="token punctuation">(</span>datoUno<span class="token operator">:</span> Int<span class="token punctuation">,</span> datoDos<span class="token operator">:</span> Char<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">datoUno <span class="token operator">+</span> datoDos<span class="token punctuation">.</span>code</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> mutable <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
    mutable <span class="token operator">+=</span> <span class="token number">7</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-val">val</span> inmutable <span class="token operator">=</span> <span class="token char">'C'</span><span class="token punctuation">;</span>
    <span class="token function">sumaDatos</span><span class="token punctuation">(</span>mutable<span class="token punctuation">,</span> inmutable<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><p>Con valor de retorno:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">mayor</span><span class="token punctuation">(</span>numeroUno<span class="token operator">:</span> Int<span class="token punctuation">,</span> numeroDos<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>numeroUno <span class="token operator">&gt;</span> numeroDos<span class="token punctuation">)</span> numeroUno <span class="token keyword keyword-else">else</span> numeroDos
<span class="token punctuation">}</span>
</pre><p>Aunque ya lo hemos usado en algunos ejemplos, si la funciรณn tiene una รบnica <strong><a href="https://kotlinlang.org/docs/functions.html#single-expression-functions">instrucciรณn o expresiรณn</a></strong>. Se pueden omitir las llaves usando el operador <strong><code>=</code></strong></p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">mayor</span><span class="token punctuation">(</span>numeroUno<span class="token operator">:</span> Int<span class="token punctuation">,</span> numeroDos<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>numeroUno <span class="token operator">&gt;</span> numeroDos<span class="token punctuation">)</span> numeroUno <span class="token keyword keyword-else">else</span> numeroDos

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">mayor</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</pre><div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="retornando-una-tupla-paira-b-triplea-b-c">Retornando una tupla 'Pair&lt;A, B&gt;', 'Triple&lt;A, B, C&gt;'</h4>

<p>Aunque no tenemos la sintaxis de tipo tupla tan avanzada como en Python o C# podemos usar el tipo <strong><code>Pair&lt;A, B&gt;</code></strong> para retornar dos valores a la vez.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">angulo</span><span class="token punctuation">(</span>grados<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Pair<span class="token operator">&lt;</span>Double<span class="token punctuation">,</span> Double<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> radianes <span class="token operator">=</span> grados <span class="token operator">*</span> <span class="token number">3.1416</span> <span class="token operator">/</span> <span class="token number">180</span>
    <span class="token keyword keyword-return">return</span> <span class="token function">Pair</span><span class="token punctuation">(</span>kotlin<span class="token punctuation">.</span>math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>radianes<span class="token punctuation">)</span><span class="token punctuation">,</span> kotlin<span class="token punctuation">.</span>math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>radianes<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> <span class="token punctuation">(</span>seno<span class="token punctuation">,</span> coseno<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">angulo</span><span class="token punctuation">(</span>grados <span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><h4 class="crossnote-header" id="n%C3%BAmero-de-argumentos-indefinido-con-varargs">Nรบmero de argumentos indefinido con 'varargs'</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/functions.html#variable-number-of-arguments-varargs">Variable number of arguments (Varargs)</a></li>
</ul>
<p>Para pasar un nรบmero variable de argumentos a una funciรณn, debemos declarar esa funciรณn con un parรกmetro <strong><code>vararg</code></strong>:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token comment">// Esto significa que la funciรณn suma() puede aceptar cero o mรกs enteros.</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">suma</span><span class="token punctuation">(</span><span class="token keyword keyword-vararg">vararg</span> xs<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token operator">=</span> xs<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">suma</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>         <span class="token comment">// Muestra 0</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">suma</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment">// Muestra 2</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">suma</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// Muestra 12</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="funciones-de-extensi%C3%B3n">Funciones de extensiรณn</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/extensions.html">Extension Functions</a></li>
</ul>
<p>Idรฉnticos a los mรฉtodos de extensiรณn en C#. Me permiten ampliar la funcionalidad de una clase cumpliendo el principio <strong>OCP</strong> (Abierto para extensiรณn. Cerrado para modificaciรณn) de SOLID. No debemos abusar de ellas. Aunque en algunos casos nos van a ayudar a reducir dependencias.</p>
<blockquote>
<p>โ <strong>Importante</strong>: Su รกmbito de aplicaciรณn se restringirรก al paquete donde se definen y si quisiรฉramos usarlas en otros paquetes deberรญamos hacer un import de las mismas.</p>
</blockquote>
<p>En el siguiente ejemplo extendemos la funcionalidad de la clase <strong><code>String</code></strong> para aรฑadir dos operaciones mรกs sobre los objetos de este tipo.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token comment">// Funciรณn de extensiรณn que dado un objeto de tipo String, convierte</span>
<span class="token comment">// la primera letra de cada palabra a mayรบsculas.</span>
<span class="token keyword keyword-fun">fun</span> String<span class="token punctuation">.</span><span class="token function">capitaliza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> sCapitalizada<span class="token operator">:</span> String
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token function">isNullOrEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// El objeto sobre el que realizamos la operaciรณn lo podemos</span>
        <span class="token comment">// referenciar mediante la palabra reservada this.</span>
        <span class="token keyword keyword-val">val</span> sb <span class="token operator">=</span> <span class="token function">StringBuilder</span><span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span>

        sb<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> sb<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">uppercaseChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>i <span class="token keyword keyword-in">in</span> <span class="token number">1</span> until <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
            sb<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>sb<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">isWhitespace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> sb<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">uppercaseChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword keyword-else">else</span> sb<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        sCapitalizada <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
        sCapitalizada <span class="token operator">=</span> <span class="token keyword keyword-this">this</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> sCapitalizada
<span class="token punctuation">}</span>

<span class="token comment">// Tambiรฉn podemos definir propiedades de extensiรณn.</span>
<span class="token keyword keyword-val">val</span> String<span class="token punctuation">.</span>numeroPalabras<span class="token operator">:</span> Int
    <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token char">' '</span><span class="token punctuation">,</span> <span class="token char">'.'</span><span class="token punctuation">,</span> <span class="token char">'?'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">filter</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span><span class="token function">isNotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        <span class="token punctuation">.</span>size

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> texto <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"esto es una cadena de texto"</span></span>
    <span class="token function">println</span><span class="token punctuation">(</span>texto<span class="token punctuation">.</span><span class="token function">capitaliza</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>texto<span class="token punctuation">.</span>numeroPalabras<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h3 class="crossnote-header" id="excepciones">Excepciones</h3>

<ul>
<li><a href="https://kotlinlang.org/docs/exceptions.html">Exceptions</a></li>
</ul>
<blockquote>
<p>โ <strong>Importante</strong>: <strong><code>try</code></strong> es una <strong>expresiรณn</strong>. Esto es interesante pues va a ser muy comรบn retornar un <strong><code>try</code></strong> en un mรฉtodo teniendo en cuenta que la รบltima instrucciรณn de cada bloque debe evaluarse al mismo tipo.</p>
</blockquote>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-val">val</span> a<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-try">try</span> <span class="token punctuation">{</span> input<span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword keyword-catch">catch</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> NumberFormatException<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword keyword-null">null</span> <span class="token punctuation">}</span>
</pre><blockquote>
<p>โ <strong>Importante</strong>: Podemos definir funciones que lancen una excepciรณn, pero deberemos indicar que no retorna nada con la palabra reservada <strong><code>Unit</code></strong> que equivaldrรก al <strong><code>void</code></strong> de C#.</p>
</blockquote>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">fail</span><span class="token punctuation">(</span>message<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> Unit <span class="token operator">=</span> <span class="token keyword keyword-throw">throw</span> <span class="token function">IllegalArgumentException</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> name <span class="token operator">=</span> <span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> s <span class="token operator">=</span> name <span class="token operator">?:</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Name required"</span></span><span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h3 class="crossnote-header" id="clases-e-interfaces">Clases e Interfaces</h3>

<ul>
<li><a href="https://kotlinlang.org/docs/classes.html">Classes and Inheritance</a></li>
</ul>
<p>Todos los elementos en Kotlin son pรบblicos por defecto, por lo que tambiรฉn lo serรกn las <a href="https://kotlinlang.org/docs/visibility-modifiers.html#classes-and-interfaces">clases</a>. Las clases nos sirven para referenciar objetos del mundo real, y mediante las propiedades podemos definir las distintas caracterรญsticas que nos interese manipular de estos. En Kotlin ya no existen los atributos, sino que todo pasa a ser propiedades, similares a las que utiliza C#, se les puede dar funcionalidad si lo necesitamos.</p>
<p>Por tanto, una clase <strong><code>Persona</code></strong> con <strong><code>nombre</code></strong> y <strong><code>edad</code></strong> a las que queremos dar funcionalidad, en C# se podrรญa definir asรญ:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><span class="token comment">// C# Example</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">EdadException</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Exception</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token function">EdadException</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> message<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword keyword-base">base</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-string">string</span></span> _nombre <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-private">private</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> _edad <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre
    <span class="token punctuation">{</span>
      <span class="token keyword keyword-get">get</span> <span class="token operator">=&gt;</span> _nombre<span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span> <span class="token operator">=&gt;</span> _nombre <span class="token operator">=</span> <span class="token keyword keyword-value">value</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Edad
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-get">get</span> <span class="token operator">=&gt;</span> _edad<span class="token punctuation">;</span>
        <span class="token keyword keyword-set">set</span>
        <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token keyword keyword-value">value</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token keyword keyword-value">value</span> <span class="token operator">&gt;</span> <span class="token number">125</span><span class="token punctuation">)</span>
                <span class="token keyword keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token constructor-invocation class-name">EdadException</span><span class="token punctuation">(</span><span class="token string">"Edad Invalida"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _edad <span class="token operator">=</span> <span class="token keyword keyword-value">value</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword keyword-public">public</span> <span class="token function">Persona</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> edad<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        Edad <span class="token operator">=</span> edad<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<p>Su equivalente en Kotlin serรญa ...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-class">class</span> <span class="token function">EdadException</span><span class="token punctuation">(</span>cadena<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Exception</span><span class="token punctuation">(</span>cadena<span class="token punctuation">)</span>

<span class="token keyword keyword-class">class</span> <span class="token function">Persona</span><span class="token punctuation">(</span>nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> nombre<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">""</span></span>
        <span class="token comment">// get() y set() deben ir indentados justo despuรฉs de </span>
        <span class="token comment">// definir la propiedad.</span>
        <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> field<span class="token punctuation">.</span><span class="token function">uppercase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span>
    
    <span class="token keyword keyword-var">var</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// Si no es lateinit debe ir inicializado.</span>
        <span class="token keyword keyword-set">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> value <span class="token operator">&gt;</span> <span class="token number">125</span><span class="token punctuation">)</span> 
                <span class="token keyword keyword-throw">throw</span> <span class="token function">EdadException</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Edad Invalida"</span></span><span class="token punctuation">)</span>
            field <span class="token operator">=</span> value
        <span class="token punctuation">}</span>

    <span class="token keyword keyword-init">init</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>edad <span class="token operator">=</span> edad
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>   
</pre><p>Si te fijas, ademรกs de la palabra reservada <strong><code>value</code></strong> que ya tenรญamos en C#. Kotlin utiliza la palabra preservada <strong><code>field</code></strong> para referirse al '<em>campo anรณnimo</em>' asociado a la propiedad, por lo que no tiene que crear un campo asociado como ocurre con C#. Ademรกs, los identificadores de las propiedades en Kolin irรกn en camel-casing.</p>
<blockquote>
<p>๐ฃ <strong>Resumen:</strong> Podemos deducir pues que <strong>en Kotlin no podemos definir campos</strong> en las clases sino <strong>solo propiedades</strong>.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="constructores">Constructores</h4>

<p>Las clases pueden tener un constructor principal y uno o mรกs constructores secundarios. El constructor principal es parte del <strong>encabezado de la clase</strong>, como vimos en el anterior ejemplo. Esto nos permite construir un objeto sin tener que definir el constructor. Por ejemplo, en otra versiรณn de la clase <strong><code>Persona</code></strong> anterior, pero sin funcionalidad en las propiedades y estas de solo lectura, solo bastarรญa con haber hecho lo siguiente:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token comment">// Fรญjate que al usar val nombre es una propiedad de solo lectura.</span>
<span class="token keyword keyword-class">class</span> <span class="token function">Persona</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword keyword-val">val</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>   

<span class="token keyword keyword-val">val</span> persona <span class="token operator">=</span> <span class="token function">Persona</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Pepe"</span></span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span> 
</pre><p>En la definiciรณn equivalente en C# sรญ que tendrรญamos que definir las propiedades y el constructor. Mientras que en Kotlin lo hemos hecho de forma muy simplificada:</p>
<pre data-role="codeBlock" data-info="csharp" class="language-csharp csharp"><span class="token comment">// C# Example</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Persona</span>
<span class="token punctuation">{</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-string">string</span></span> Nombre <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-public">public</span> <span class="token return-type class-name"><span class="token keyword keyword-int">int</span></span> Edad <span class="token punctuation">{</span> <span class="token keyword keyword-get">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword keyword-public">public</span> <span class="token function">Persona</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword keyword-string">string</span></span> nombre<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword keyword-int">int</span></span> edad<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Nombre <span class="token operator">=</span> nombre<span class="token punctuation">;</span>
        Edad <span class="token operator">=</span> edad<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
<span class="token class-name">Persona</span> persona <span class="token operator">=</span> <span class="token keyword keyword-new">new</span><span class="token punctuation">(</span><span class="token string">"Pepe"</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>Si necesitamos que ocurra algo en el momento de crear el objeto, se puede usar la clausula <strong><code>init</code></strong> que serรก ejecutada al llamar al constructor principal. Si te fijas en el siguiente cรณdigo, la propiedad <strong><code>edad</code></strong> estรก declarada en el constructor, mientras que el <strong><code>nombre</code></strong> se ha declarado en el cuerpo de la clase.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token comment">// En esta definiciรณn nombre no lleva la palabra reservada val</span>
<span class="token comment">// porque lo vamos a definir dentro del cuerpo de la clase.</span>
<span class="token keyword keyword-class">class</span> <span class="token function">Persona</span><span class="token punctuation">(</span>nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword keyword-var">var</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Podemos no asignarle un valor a la propiedad</span>
    <span class="token comment">// ya que lo asignamos en el init.</span>
    <span class="token keyword keyword-val">val</span> nombre<span class="token operator">:</span> String
        <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> field<span class="token punctuation">.</span><span class="token function">uppercase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword keyword-init">init</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>edad <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> edad <span class="token operator">&gt;</span> <span class="token number">125</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-throw">throw</span> <span class="token function">ExcepcionEdad</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Edad Invalida"</span></span><span class="token punctuation">)</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>edad <span class="token operator">=</span> edad
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Si lo que queremos es crear mรกs de un constructor, tendremos que recurrir a la clausula <strong><code>constructor</code></strong> indicando los parรกmetros necesarios y llamando al constructor por defecto con <strong><code>this</code></strong> para enviarle sus propiedades. Ahora hemos aรฑadido una propiedad mรกs a la clase <strong><code>Persona</code></strong>, el dni que serรก asignado con el segundo constructor</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-class">class</span> <span class="token function">Persona</span><span class="token punctuation">(</span>nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword keyword-var">var</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> dni<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"NINGUNO"</span></span>
    <span class="token keyword keyword-val">val</span> nombre<span class="token operator">:</span> String
        <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> field<span class="token punctuation">.</span><span class="token function">uppercase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword keyword-init">init</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>nombre <span class="token operator">=</span> nombre
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>edad <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> edad <span class="token operator">&gt;</span> <span class="token number">125</span><span class="token punctuation">)</span> <span class="token keyword keyword-throw">throw</span> <span class="token function">ExcepcionEdad</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Edad Invalida"</span></span><span class="token punctuation">)</span>
        <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>edad <span class="token operator">=</span> edad
    <span class="token punctuation">}</span>

    <span class="token comment">// Fรญjate que un constructor llama al otro.</span>
    <span class="token keyword keyword-constructor">constructor</span><span class="token punctuation">(</span>nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> dni<span class="token operator">:</span> String<span class="token punctuation">)</span> 
    <span class="token operator">:</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> edad<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>dni <span class="token operator">=</span> dni
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<blockquote>
<p>๐ฃ <strong>Resumen</strong>: Fรญjate en este otro ejemplo en el que a travรฉs de la definiciรณn de una clase <strong><code>Cuenta</code></strong> vemos las caracterรญsticas de sintaxis descritas.</p>
</blockquote>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token comment">// Definiciรณn de la clase y del constructor principal.</span>
<span class="token comment">// Ademรกs, hemos definido implรญcitamente dos propiedades titular.</span>
<span class="token keyword keyword-class">class</span> <span class="token function">Cuenta</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> titular<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword keyword-val">val</span> nรบmero<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// Propiedad mutable privada solo para modificaciรณn e inicializaciรณn.</span>
    <span class="token comment">// Define un get y set auto-implementado como C#.</span>
    <span class="token keyword keyword-var">var</span> saldo<span class="token operator">:</span> Double <span class="token operator">=</span> <span class="token number">0.0</span>
        <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-set">set</span>

    <span class="token comment">// Propiedad pรบblica mutable y anulable</span>
    <span class="token comment">// en la que definimos nosotros el get y el set</span>
    <span class="token comment">// field: palabra reservada para hacer referencia al campo asociado a la propiedad.</span>
    <span class="token comment">// value: palabra reservada para hacer referencia al valor recibido en el setter.</span>
    <span class="token keyword keyword-var">var</span> banco<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span>
        <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> field <span class="token operator">?:</span> <span class="token string-literal singleline"><span class="token string">"Desconocido"</span></span>
        <span class="token keyword keyword-set">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            field <span class="token operator">=</span> value<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

    <span class="token comment">// Propiedad pรบblica de solo lectura calculada y por tanto (inmutable)</span>
    <span class="token comment">// Tambiรฉn se puede declarar asรญ -&gt; val hayDescubierto: Boolean = saldo &lt; 0</span>
    <span class="token keyword keyword-val">val</span> hayDescubierto<span class="token operator">:</span> Boolean
        <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> saldo <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token comment">// Definimos el getter para la propiedad</span>

    <span class="token comment">// Constructor secundario apoyรกndose en el principal.</span>
    <span class="token keyword keyword-constructor">constructor</span><span class="token punctuation">(</span>titular<span class="token operator">:</span> String<span class="token punctuation">,</span> nรบmero<span class="token operator">:</span> Int<span class="token punctuation">,</span> saldo<span class="token operator">:</span> Double<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">(</span>titular<span class="token punctuation">,</span> nรบmero<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>saldo <span class="token operator">=</span> saldo
    <span class="token punctuation">}</span>

    <span class="token comment">// Mรฉtodo pรบblico normal</span>
    <span class="token keyword keyword-fun">fun</span> <span class="token function">ingreso</span><span class="token punctuation">(</span>cantidad<span class="token operator">:</span> Double<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        saldo <span class="token operator">+=</span> cantidad
    <span class="token punctuation">}</span>

    <span class="token comment">// Invalidaciรณn ToString con cuerpo de expresiรณn</span>
    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Cuenta </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">n</span></span><span class="token string">รบmero titular </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">titular</span></span><span class="token string"> saldo </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">saldo</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">โฌ"</span></span>

    <span class="token comment">// Mรฉtodo pรบblico que lanza una excepciรณn</span>
    <span class="token comment">// La anotaciรณn @Throws es opcional y se usarรญa para interoperabilidad con Java.</span>
    <span class="token annotation builtin">@Throws</span><span class="token punctuation">(</span>IllegalArgumentException<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-fun">fun</span> <span class="token function">reintegro</span><span class="token punctuation">(</span>cantidad<span class="token operator">:</span> Double<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>cantidad <span class="token operator">&gt;</span> saldo<span class="token punctuation">)</span> <span class="token keyword keyword-throw">throw</span> <span class="token function">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Saldo insuficiente"</span></span><span class="token punctuation">)</span>
        saldo <span class="token operator">-=</span> cantidad
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="definir-m%C3%A9todos-y-propiedades-est%C3%A1ticas">Definir mรฉtodos y propiedades estรกticas</h4>

<p>En Kotlin no existen los mรฉtodos y propiedades estรกticas como en Java o C#. Pero podemos definirlos de forma similar a como lo hacemos en C# con las <strong><code>clases estรกticas</code></strong>.</p>
<h5 class="crossnote-header" id="declaraci%C3%B3n-de-clases-est%C3%A1ticas">Declaraciรณn de '<em>clases estรกticas</em>'</h5>

<ul>
<li><a href="https://kotlinlang.org/docs/object-declarations.html#object-declarations-overview">Object Declarations</a></li>
</ul>
<p>Creamos un <strong>objeto global anรณnimo</strong> denominado por ejemplo <strong><code>Datos</code></strong>. En otras palabras, no estamos definiendo una clase sino un objeto instanciado, referenciado por el id <strong><code>Datos</code></strong> y de tipo anรณnimo.</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-object">object</span> Datos <span class="token punctuation">{</span>
    <span class="token comment">// La anotaciรณn @JvmStatic es opcional y se usarรญa para interoperabilidad con Java.</span>
    <span class="token annotation builtin">@JvmStatic</span>
    <span class="token keyword keyword-val">val</span> empleados <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span>
            <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Xusa"</span></span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Alicante<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Pepe"</span></span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Alicante<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Juanjo"</span></span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Elche<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Vicente"</span></span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Elche<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Para acceder a la propiedad estรกtica empleados </span>
Datos<span class="token punctuation">.</span>empleados
</pre><h5 class="crossnote-header" id="m%C3%A9todos-y-propiedades-est%C3%A1ticas-en-una-clase">Mรฉtodos y propiedades estรกticas en una clase</h5>

<ul>
<li><a href="https://kotlinlang.org/docs/object-declarations.html#companion-objects">Companion Objects</a></li>
</ul>
<p>Si queremos hacerlo en otra clase, marcaremos el objeto creado con el modificador <strong><code>companion</code></strong></p>
<blockquote>
<p>โ <strong>Importante</strong>: Fรญjate que no hace falta que le pongamos un identificador de tipo al <strong><code>companion object</code></strong> ya que solo podemos definir uno por clase y dentro del mismo definiremos los mรฉtodos o propiedades '<em>estรกticas</em>' de la misma.</p>
</blockquote>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-class">class</span> MiClasse
<span class="token punctuation">{</span>
    <span class="token keyword keyword-companion">companion</span> <span class="token keyword keyword-object">object</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-val">val</span> empleados <span class="token operator">=</span> <span class="token function">listOf</span><span class="token punctuation">(</span>
                <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Xusa"</span></span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Alicante<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Pepe"</span></span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Alicante<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Juanjo"</span></span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Elche<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Vicente"</span></span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Elche<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Para acceder a la propiedad estรกtica empleados.</span>
MiClasse<span class="token punctuation">.</span>empleados
</pre><h5 class="crossnote-header" id="objetos-an%C3%B3nimos">Objetos anรณnimos</h5>

<ul>
<li><a href="https://kotlinlang.org/docs/object-declarations.html#object-expressions">Object Expressions</a></li>
</ul>
<p>Son equivalentes a las clases anรณnimas de C# o Java y como sucede en C# las propiedades que definen no son accesible fuera del รกmbito donde se define el objeto anรณnimo a no ser que este implemente algรบn tipo de abstracciรณn que queramos retornar sin definir un tipo especรญfico para la misma. El tipo de retorno de un objeto anรณnimo es <strong><code>Any</code></strong> y si implementa alguna interfaz, esta serรก la que se devuelva.</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-interface">interface</span> A <span class="token punctuation">{</span>
    <span class="token keyword keyword-fun">fun</span> <span class="token function">funcionDeA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-class">class</span> B <span class="token punctuation">{</span>
    <span class="token comment">// El tipo de retorno es Any y la propiedad x no es accesible</span>
    <span class="token keyword keyword-fun">fun</span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-object">object</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-val">val</span> x<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"x"</span></span>
    <span class="token punctuation">}</span>

    <span class="token comment">// El tipo de retorno es A y la propiedad x no es accesible</span>
    <span class="token keyword keyword-fun">fun</span> <span class="token function">getObjectA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword keyword-object">object</span><span class="token operator">:</span> A <span class="token punctuation">{</span>
        <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">funcionDeA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token keyword keyword-val">val</span> x<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"x"</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="herencia">Herencia</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/inheritance.html">Inheritance</a></li>
</ul>
<p>En Kotlin, la clase <strong><code>Any</code></strong> es la raรญz de la jerarquรญa de clases. Cada clase del lenguaje derivarรก de ella si no especificas una superclase. Serรญa similar a la clase <strong><code>Object</code></strong> de C# y Java.</p>
<p>Por otro lado en Kotlin, tanto las clases como los miembros de estas son cerrados, esto significa que no se puede heredar de una clase y tampoco se pueden sobreescribir sus miembros si no lo indicamos explรญcitamente.</p>
<p>Para que de una clase se pueda heredar habrรก que aรฑadirle el modificador <strong><code>open</code></strong>. Por ejemplo, si la clase Persona queremos hacerla abierta serรญa:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-open">open</span> <span class="token keyword keyword-class">class</span> <span class="token function">Persona</span><span class="token punctuation">(</span>nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword keyword-var">var</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</pre><p>y ahora podrรญamos crear una clase hija de <strong><code>Persona</code></strong>, como por ejemplo:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-class">class</span> <span class="token function">Estudiante</span><span class="token punctuation">(</span>nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-var">var</span> estudios<span class="token operator">:</span> String<span class="token punctuation">)</span> 
<span class="token operator">:</span> <span class="token function">Persona</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> edad<span class="token punctuation">)</span>
</pre><p>Suponiendo que la propiedad dni queremos hacerla invalidable y que tiene un nuevo mรฉtodo tambiรฉn invalidable llamado imprimir y uno normal esMayor, ahora la clase quedarรญa:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-open">open</span> <span class="token keyword keyword-class">class</span> <span class="token function">Persona</span><span class="token punctuation">(</span>nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword keyword-var">var</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-open">open</span> <span class="token keyword keyword-var">var</span> dni<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"NINGUNO"</span></span>
    <span class="token operator">..</span><span class="token punctuation">.</span>
    <span class="token keyword keyword-open">open</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">imprimir</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Nombre: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">nombre</span></span><span class="token string">  Edad: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">edad</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token keyword keyword-fun">fun</span> <span class="token function">esMayor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> edad <span class="token operator">&gt;=</span> <span class="token number">18</span>
<span class="token punctuation">}</span>
</pre><p>y con los elementos que queremos invalidar en la clase <strong><code>Estudiante</code></strong> usaremos la palabra reservada <strong><code>override</code></strong> como en otros lenguajes. Asรญ mismo usaremos la palabra reservada <strong><code>super</code></strong> para referenciar la la <em>'superclase'</em> como en Java.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-class">class</span> <span class="token function">Estudiante</span><span class="token punctuation">(</span>nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-var">var</span> estudios<span class="token operator">:</span> String<span class="token punctuation">)</span> 
<span class="token operator">:</span> <span class="token function">Persona</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> edad<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-var">var</span> dni<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"ESTUDIANTE SIN DNI"</span></span>
    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">imprimir</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-super">super</span><span class="token punctuation">.</span><span class="token function">imprimir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Soy estudiante de </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">estudios</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h4 class="crossnote-header" id="interfaces">Interfaces</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/interfaces.html">Interfaces</a></li>
</ul>
<p>En Kotlin podemos implementar clases abstractas, que son iguales a las que ya conocemos de otros lenguajes, salvo los cambios concretos para la herencia. Por esta razรณn, no vamos a comentar nada sobre ellas.</p>
<p>Tambiรฉn se pueden crear interfaces, que permiten definir tipos cuyos comportamientos pueden ser compartidos por varias clases que no estรกn relacionadas. Usa la palabra reservada <strong><code>interface</code></strong> y su implementaciรณn es similar a los lenguajes que conocemos con algunas pequeรฑas diferencias. Como ya sabemos permiten la herencia mรบltiple, y ademรกs:</p>
<ul>
<li>Pueden contener mรฉtodos abstractos (sin implementaciรณn) y mรฉtodos regulares (con implementaciรณn).</li>
<li>Puede contener propiedades abstractas y regulares.</li>
<li>No permite declaraciรณn de constructores.</li>
<li>Las propiedades y mรฉtodos regulares de una interfaz pueden ser invalidados con el modificador override sin tener que marcarlos con <strong><code>open</code></strong>, a diferencia de en las clases abstractas.</li>
</ul>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-interface">interface</span> Estudios <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> curso<span class="token operator">:</span> Int              <span class="token comment">// Propiedad abstracta</span>
    <span class="token keyword keyword-val">val</span> ultimoCurso<span class="token operator">:</span> Boolean    <span class="token comment">// Propiedad regular</span>
        <span class="token keyword keyword-get">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> curso <span class="token operator">==</span> <span class="token number">2</span>
    <span class="token keyword keyword-fun">fun</span> <span class="token function">estudios</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String      <span class="token comment">// Mรฉtodo abstracto</span>
    <span class="token keyword keyword-fun">fun</span> <span class="token function">soyEstudiante</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span>       <span class="token comment">// Mรฉtodo regular</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Soy Estudiante de "</span></span> <span class="token operator">+</span> <span class="token function">estudios</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><p>y ahora hacemos que la clase <strong><code>Estudiante</code></strong> ademรกs de heredar de <strong><code>Persona</code></strong>, implemente la interface <strong><code>Estudios</code></strong>, quedando:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-class">class</span> <span class="token function">Estudiante</span><span class="token punctuation">(</span>nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> edad<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-var">var</span> estudios<span class="token operator">:</span> String<span class="token punctuation">)</span> 
    <span class="token operator">:</span> <span class="token function">Persona</span><span class="token punctuation">(</span>nombre<span class="token punctuation">,</span> edad<span class="token punctuation">)</span><span class="token punctuation">,</span> Estudios <span class="token punctuation">{</span>
    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-var">var</span> curso<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword keyword-set">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            field <span class="token operator">=</span> curso
        <span class="token punctuation">}</span>
    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-var">var</span> dni<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"ESTUDIANTE SIN DNI"</span></span>
    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">estudios</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> estudios
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="definiendo-valueobjects-o-dtos-con-data-class">Definiendo ValueObjects o DTO's con data class</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/data-classes.html">Data Classes</a></li>
</ul>
<blockquote>
<p>โ <strong>Importante</strong>: La gran mayorรญa de objetos que definiremos en nuestros programas serรกn de este tipo. Especialmente al recuperar informaciรณn de las fuentes de datos.</p>
</blockquote>
<p>Si queremos definir objetos con tipos que actรบen como <em><a href="https://en.wikipedia.org/wiki/Value_object">'Value Objects'</a></em> o <em><a href="https://en.wikipedia.org/wiki/Data_transfer_object">DTO's</a></em> como el tipo <strong><code>record</code></strong> en C# 10 o Java 17, tenemos la posibilidad de definirlos como <strong><code>data class</code></strong> en Kotlin. Sus caracterรญsticas son:</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token comment">// Fรญjate que al ser inmutables todos las propiedades del data class</span>
<span class="token comment">// se definirรกn con val.</span>

<span class="token keyword keyword-data">data</span> <span class="token keyword keyword-class">class</span> <span class="token function">Empleado</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-val">val</span> nombre<span class="token operator">:</span> String<span class="token punctuation">,</span> 
    <span class="token keyword keyword-val">val</span> edad<span class="token operator">:</span> Int<span class="token punctuation">,</span> 
    <span class="token keyword keyword-val">val</span> ciudad<span class="token operator">:</span> Ciudad<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// Aunque definimos un cuerpo por anidar la definiciรณn del Enum</span>
    <span class="token comment">// no harรญa falta hacerlo en un data class</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token keyword keyword-class">class</span> <span class="token function">Ciudad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Elche<span class="token punctuation">,</span> Alicante <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// La sintaxis recomendada para construir un objeto es la</span>
    <span class="token comment">// siguiente donde especificamos pares </span>
    <span class="token comment">// en lรญneas diferentes. Nos facilitarรก lla ediciรณn, borrado</span>
    <span class="token comment">// y cambio de orden de las propiedades.</span>
    <span class="token keyword keyword-val">val</span> e1 <span class="token operator">=</span> <span class="token function">Empleado</span><span class="token punctuation">(</span>
        nombre <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Xusa"</span></span><span class="token punctuation">,</span> 
        edad <span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">,</span> 
        ciudad <span class="token operator">=</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Alicante
    <span class="token punctuation">)</span>

    <span class="token comment">// Como ves la sintaxis proiedad = valor nos permite no seguir</span>
    <span class="token comment">// el orden de declaraciรณn en la inicilizaciรณn de las propiedades.</span>
    <span class="token keyword keyword-val">val</span> e2 <span class="token operator">=</span> <span class="token function">Empleado</span><span class="token punctuation">(</span>
        edad <span class="token operator">=</span> <span class="token number">53</span><span class="token punctuation">,</span>
        nombre <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Pepe"</span></span><span class="token punctuation">,</span>
        ciudad <span class="token operator">=</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Alicante
    <span class="token punctuation">)</span>

    <span class="token comment">// Tambiรฉn podremos usar la forma tradicional.</span>
    <span class="token keyword keyword-val">val</span> e3 <span class="token operator">=</span> <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Juanjo"</span></span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Elche<span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> e4 <span class="token operator">=</span> <span class="token function">Empleado</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Juanjo"</span></span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Elche<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<p>Este tipo de clases:</p>
<ol>
<li>
<p>Definen por defecto <strong><code>equals()</code></strong>, <strong><code>hashCode()</code></strong> asรญ como <strong><code>==</code></strong> y <strong><code>!=</code></strong></p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token function">println</span><span class="token punctuation">(</span>e3 <span class="token operator">==</span> e4<span class="token punctuation">)</span>   <span class="token comment">// muestra true en lugar de comparar referencias</span>
</pre></li>
<li>
<p>Definen por defecto <strong><code>toString()</code></strong></p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token function">println</span><span class="token punctuation">(</span>e3<span class="token punctuation">)</span>         <span class="token comment">// muestra "Empleado(nombre=Juanjo, edad=52, ciudad=Elche)"</span>
</pre></li>
<li>
<p>Ya que son inmutables, tenemos la posibilidad de crear fรกcilmente copias con <strong><code>copy()</code></strong></p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-val">val</span> e5 <span class="token operator">=</span> e4<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>ciudad <span class="token operator">=</span> Empleado<span class="token punctuation">.</span>Ciudad<span class="token punctuation">.</span>Alicante<span class="token punctuation">)</span>
<span class="token function">println</span><span class="token punctuation">(</span>e4<span class="token punctuation">)</span>         <span class="token comment">// Mostrara "Empleado(nombre=Juanjo, edad=52, ciudad=Elche)"</span>
<span class="token function">println</span><span class="token punctuation">(</span>e5<span class="token punctuation">)</span>         <span class="token comment">// Mostrara "Empleado(nombre=Juanjo, edad=52, ciudad=Alicante)"</span>
<span class="token function">println</span><span class="token punctuation">(</span>e3 <span class="token operator">==</span> e5<span class="token punctuation">)</span>   <span class="token comment">// Mostrara false</span>
</pre></li>
</ol>
<div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="clases-y-m%C3%A9todos-parametrizados">Clases y mรฉtodos parametrizados</h4>

<p>Kotlin tambiรฉn permite crear clases y mรฉtodos con alguno de sus miembros de tipo genรฉrico. La lista de parรกmetros para tipos se incluyen en parรฉntesis angulares y se separan por coma si son varios <strong><code>&lt;T, U, V,..&gt;</code></strong></p>
<p>Para crear una clase con un tipo parametrizado de forma que una de sus propiedades sea de ese tipo, se harรก de la siguiente manera:</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-class">class</span> ClaseGenerica<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-var">var</span> t<span class="token operator">:</span> T<span class="token punctuation">,</span> 
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-val">val</span> c<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword keyword-fun">fun</span> <span class="token function">metodo</span><span class="token punctuation">(</span>param<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        t <span class="token operator">=</span> param
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">t</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">c</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span>
<span class="token punctuation">}</span>
</pre><p>y si quisiรฉramos crear un objeto de esa clase con la propiedad parametrizada a tipo entero, se podrรญa hacer ...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> objeto <span class="token operator">=</span> <span class="token function">ClaseGenerica</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Hola"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><p>Si quisiรฉramos realizar una restricciรณn del tipo parametrizado a la interfaz <strong><code>Comparable&lt;T&gt;</code></strong> como hacรญamos en C#, se tendrรญa que hacer de la siguiente manera:</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-class">class</span> ClaseGenerica<span class="token operator">&lt;</span>T<span class="token operator">:</span> Comparable<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-var">var</span> t<span class="token operator">:</span> T<span class="token punctuation">,</span> 
    <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-val">val</span> c<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="scope-functions">Scope functions</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/scope-functions.html">Scope Functions</a></li>
</ul>
<blockquote>
<p>๐ <strong>Nota</strong>: Para entender esta secciรณn es necesario tener conocimientos de <strong><code>lambda</code></strong> y <strong><code>higher-order functions</code></strong> que veremos en el siguiente tema. Por eso, deberemos volver sobre este punto al ver dicho tema. <strong>La idea de las mismas es trabajar de forma funcional y con expresiones lambda de forma sintรกcticamente mรกs cรณmoda</strong>.</p>
</blockquote>
<p>Kotlin nos permite usar una serie de mรฉtodosdenominadas <strong>Scope Functions</strong> (Funciones de รmbito) que nos permiten trabajar con objetos de forma mรกs cรณmoda y en una <strong>รบnica expresiรณn</strong>. Muchas de ellas son aproximaciones para hacer la misma cosa. Pero las principales y mรกs utilizadas son ...</p>
<table>
<thead>
<tr>
<th>Funciรณn</th>
<th>Referencia a objeto</th>
<th>Valor de retorno</th>
<th>Es funcion de extensiรณn</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>let</code></td>
<td><code>it</code></td>
<td>Expresiรณn Lambda</td>
<td>Sรญ</td>
</tr>
<tr>
<td><code>run</code></td>
<td><code>this</code></td>
<td>Expresiรณn Lambda</td>
<td>Sรญ</td>
</tr>
<tr>
<td><code>run</code></td>
<td>-</td>
<td>Expresiรณn Lambda</td>
<td>No</td>
</tr>
<tr>
<td><code>with</code></td>
<td><code>this</code></td>
<td>Expresiรณn Lambda</td>
<td>No</td>
</tr>
<tr>
<td><code>apply</code></td>
<td><code>this</code></td>
<td><code>this</code></td>
<td>Sรญ</td>
</tr>
<tr>
<td><code>also</code></td>
<td><code>it</code></td>
<td><code>this</code></td>
<td>Sรญ</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p><strong><code>let</code></strong>: Nos permite ...</p>
<p>Hacer algo con un objeto anulable si es distinto de null</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-val">val</span> nombre<span class="token operator">:</span> String<span class="token operator">?</span> <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Pepe"</span></span>
nombre<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">}</span>
</pre><p>Introducir una expresiรณn como variable en el รกmbito local.</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-val">val</span> numbers <span class="token operator">=</span> <span class="token function">mutableListOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"one"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"two"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"three"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"four"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"five"</span></span><span class="token punctuation">)</span>
numbers<span class="token punctuation">.</span><span class="token function">map</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span>length <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">filter</span> <span class="token punctuation">{</span> it <span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token punctuation">}</span>
       <span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span><span class="token function">joinToString</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">" - "</span></span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
       <span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token comment">// Muestra 5 - 4 - 4</span>
</pre></li>
<li>
<p><strong><code>apply</code></strong>: Configuraciรณn de un objeto. Todas las operaciones se hacen sobre <strong><code>this</code></strong>.</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-val">val</span> persona <span class="token operator">=</span> <span class="token function">Persona</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{</span>
    nombre <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Pepe"</span></span>
    edad <span class="token operator">=</span> <span class="token number">45</span>
<span class="token punctuation">}</span>
</pre><p>Podemos considerarlo como una forma hacer un <strong><code>interfaz fluida</code></strong> sobre un objeto que no la tiene definida.</p>
</li>
<li>
<p><strong><code>run</code></strong>: Para ejecutar instrucciones donde se requiera una <strong>expresiรณn</strong>.</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-val">val</span> hexNumberRegex <span class="token operator">=</span> run <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> digits <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"0-9"</span></span>
    <span class="token keyword keyword-val">val</span> hexDigits <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"A-Fa-f"</span></span>
    <span class="token keyword keyword-val">val</span> sign <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"+-"</span></span>

    <span class="token function">Regex</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"[</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">sign</span></span><span class="token string">]?[</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">digits</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">hexDigits</span></span><span class="token string">]+"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre></li>
</ul>
<div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="clases-enumeradas-con-enum-class">Clases enumeradas con enum class</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/enum-classes.html">Enum Classes</a></li>
</ul>
<p>Igual que en otros lenguajes, Kotlin nos permite crear tipos <a href="https://kotlinlang.org/docs/enum-classes.html">enumerados</a>, aunque en este caso se puede ver como un modificador de clase. Una enumeraciรณn es un conjunto de valores que usan como identificador un nombre. Dicho nombre se comporta como una constante en nuestro lenguaje. Al marcar una clase con el modificador <strong><code>enum</code></strong>, la declara como una de enumeraciรณn.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-enum">enum</span> <span class="token keyword keyword-class">class</span> CiclosInformatica <span class="token punctuation">{</span> SMR<span class="token punctuation">,</span> ASIR<span class="token punctuation">,</span> DAM<span class="token punctuation">,</span> DAW <span class="token punctuation">}</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">nivelCiclo</span><span class="token punctuation">(</span>ciclo<span class="token operator">:</span> CiclosInformatica<span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-when">when</span> <span class="token punctuation">(</span>ciclo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        CiclosInformatica<span class="token punctuation">.</span>SMR <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">"Medio"</span></span>
        <span class="token keyword keyword-else">else</span> <span class="token operator">-&gt;</span> <span class="token string-literal singleline"><span class="token string">"Superior"</span></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> ciclo <span class="token operator">=</span> CiclosInformatica<span class="token punctuation">.</span>ASIR
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token function">nivelCiclo</span><span class="token punctuation">(</span>ciclo<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//Superior</span>
<span class="token punctuation">}</span>
</pre><h5 class="crossnote-header" id="valor-en-las-enumeraciones">Valor en las enumeraciones</h5>

<p>Ademรกs a las enumeraciones en Kotlin tambiรฉn podemos asignarles uno o mรกs valores. Esto se harรก a travรฉs del constructor de la clase, lo podemos ver en el siguiente ejemplo, en el que al constructor se le ha aรฑadido tanto un valor entero como un grado de tipo cadena.</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-enum">enum</span> <span class="token keyword keyword-class">class</span> <span class="token function">CiclosInformatica</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-val">val</span> valor<span class="token operator">:</span> Int<span class="token punctuation">,</span> 
    <span class="token keyword keyword-val">val</span> grado<span class="token operator">:</span> String
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">SMR</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Grado Medio"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIR</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Grado Superior"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">DAM</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Grado Superior"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">DAW</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Grado Superior"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>v <span class="token keyword keyword-in">in</span> CiclosInformatica<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string-literal singleline"><span class="token string">" "</span></span> <span class="token operator">+</span> v<span class="token punctuation">.</span>ordinal<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Recorrido de secuencia pasando una HOF como Consumer</span>
    CiclosInformatica<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> ciclo <span class="token operator">-&gt;</span>
        <span class="token comment">// Formateo de cadenas similar a Java</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"%-2d %-4s %s"</span></span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>ciclo<span class="token punctuation">.</span>valor<span class="token punctuation">,</span> ciclo<span class="token punctuation">.</span>name<span class="token punctuation">,</span> ciclo<span class="token punctuation">.</span>grado<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><pre data-role="codeBlock" data-info="bash" class="language-bash bash">SMR <span class="token number">0</span>
ASIR <span class="token number">1</span>
DAM <span class="token number">2</span>
DAW <span class="token number">3</span>
<span class="token number">1</span> SMR  Grado Medio
<span class="token number">2</span> ASIR Grado Superior
<span class="token number">3</span> DAM  Grado Superior
<span class="token number">4</span> DAW  Grado Superior
</pre><h5 class="crossnote-header" id="enumeraciones-con-comportamiento">Enumeraciones con comportamiento</h5>

<p>Tambiรฉn se les puede aรฑadir un comportamiento a travรฉs de funciones abstractas o no, o incluso de interfaces. En el siguiente ejemplo podemos ver que al constructor se le ha aรฑadido un elementos mรกs con el nombre completo del ciclo, y ademรกs tenemos el comportamiento aรฑadido mediante el mรฉtodo <strong><code>informacionCompleta()</code></strong>. De forma que la ejecuciรณn del programa nos sacarรก las siglas del ciclo, el nombre completo y el grado que le corresponde a cada uno de los elementos de la enumeraciรณn.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-enum">enum</span> <span class="token keyword keyword-class">class</span> <span class="token function">CiclosInformatica</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-val">val</span> valor<span class="token operator">:</span> Int<span class="token punctuation">,</span> 
    <span class="token keyword keyword-val">val</span> grado<span class="token operator">:</span> String<span class="token punctuation">,</span> 
    <span class="token keyword keyword-val">val</span> nombre<span class="token operator">:</span> String
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">SMR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">"Grado Medio"</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">"Sistemas Microinformรกticos y Redes"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ASIR</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">"Grado Superior"</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">"Administraciรณn de Sistemas Informรกticos en   Red"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">DAM</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">"Grado Superior"</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">"Desarrollo de Aplicaciones Multiplataforma"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">DAW</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">"Grado Superior"</span></span><span class="token punctuation">,</span><span class="token string-literal singleline"><span class="token string">"Desarrollo de Aplicaciones Web"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword keyword-fun">fun</span> <span class="token function">informacionCompleta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">nombre</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">grado</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    CiclosInformatica<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">{</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">it<span class="token punctuation">.</span><span class="token function">informacionCompleta</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h5 class="crossnote-header" id="funciones-gen%C3%A9ricas">Funciones Genรฉricas</h5>

<p>Para las funciones genรฉricas el parรกmetro de tipo se aรฑadirรก justo despuรฉs de la palabra reservada <strong><code>fun</code></strong> y las restricciones se harรกn de la misma manera que en las clases.</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token function">funcionGenerica</span><span class="token punctuation">(</span>param<span class="token operator">:</span> T<span class="token punctuation">)</span><span class="token operator">:</span> T <span class="token operator">=</span> param
</pre><p>Supongamos que definimos una clase estรกtica con mรฉtodos de utilidad sobre <em><code>tablas dentadas</code></em> cuyo contenido sean tipos diferentes y definimos un mรฉtodo flat que las convierte en un array unidimensional.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-object">object</span> TablaDentada <span class="token punctuation">{</span>
    <span class="token comment">// Una funciรณn inline es una funciรณn que se expande en el cรณdigo que la llama.</span>
    <span class="token comment">// Esto permite que el compilador pueda optimizar el cรณdigo de la funciรณn.</span>
    <span class="token comment">// reified: Permite acceder al tipo de dato de la funciรณn.</span>
    <span class="token keyword keyword-inline">inline</span> <span class="token keyword keyword-fun">fun</span> <span class="token operator">&lt;</span><span class="token keyword keyword-reified">reified</span> T<span class="token operator">&gt;</span> <span class="token function">flat</span><span class="token punctuation">(</span>tablaDentada<span class="token operator">:</span> Array<span class="token operator">&lt;</span>Array<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-val">val</span> d <span class="token operator">=</span> mutableListOf<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>i <span class="token keyword keyword-in">in</span> tablaDentada<span class="token punctuation">.</span>indices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>j <span class="token keyword keyword-in">in</span> tablaDentada<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>indices<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                d<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tablaDentada<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword keyword-return">return</span> d<span class="token punctuation">.</span><span class="token function">toTypedArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>El programa principal para probarla con tablas dentadas de diferente tipos podrรญa ser ...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> tablaDentadaInt <span class="token operator">=</span> <span class="token function">arrayOf</span><span class="token punctuation">(</span>
        <span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>TablaDentada<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span>tablaDentadaInt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contentToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword keyword-val">val</span> tablaDentadaString <span class="token operator">=</span> <span class="token function">arrayOf</span><span class="token punctuation">(</span>
        <span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"a"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"b"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"c"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"d"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"e"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"f"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"g"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">arrayOf</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"h"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"i"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"j"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"k"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"l"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token function">println</span><span class="token punctuation">(</span>TablaDentada<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span>tablaDentadaString<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contentToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="clases-selladas-sum-type-pattern">Clases Selladas (Sum Type Pattern)</h4>

<ul>
<li><a href="https://kotlinlang.org/docs/sealed-classes.html">Sealed Classes</a></li>
</ul>
<p>Las clases selladas son un tipo de clase que nos permite definir un tipo de dato que puede ser de un tipo u otro, pero no de ambos. Es decir, que no se puede crear un objeto de una clase sellada, sino que se crearรก un objeto de una de sus clases hijas.</p>
<p>En el fondo <strong>podrรญamos decir que es un tipo enumerado mejorado</strong> de hecho es un superconjunto y cualquier tipo enumerado podrรญamos representarlo a travรฉs de una clase sellada. La diferencia radica en que en los enumerados sรณlo tenemos un รบnico objeto por tipo, mientras que en las sealed classes podemos tener varios objetos de la misma clase y <strong>permiten almacenar estado</strong>.</p>
<p>Esto es la forma en que Kotlin y otros lenguajes como <strong><a href="https://spencerfarley.com/2021/03/26/unions-in-csharp/">C# implementan</a></strong> el patrรณn funcional <strong><a href="https://en.wikipedia.org/wiki/Tagged_union">Sum Type Pattern</a></strong>.</p>
<blockquote>
<p>๐ฃ <strong>Resumen</strong>: En resumen podemos decir que una clase sellada permite definir una enumeraciรณn de tipos con propiedades diferentes de los cuales una instancia solo podrรก ser de uno de ellos de forma excluyente.</p>
</blockquote>
<p>Veรกmoslo a travรฉs de varios ejemplos comentados:</p>
<p>Supongamos primero el siguiente tipo enumerado...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-enum">enum</span> <span class="token keyword keyword-class">class</span> <span class="token function">TipoUsuario</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> tipo<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Admin"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Personal</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Personal"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Cliente</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Cliente"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><p>La forma equivalente de representar su funcionalidad a travรฉs de una clase sellada serรญa ...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-sealed">sealed</span> <span class="token keyword keyword-class">class</span> <span class="token function">TipoUsuario</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> tipo<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// Definimos tres instancias estรกticas de objetos</span>
    <span class="token comment">// de tipo estableciendo la propiedad comรบn tipo</span>
    <span class="token comment">// a los respectivos valores del enumerado.</span>
    <span class="token keyword keyword-object">object</span> Admin <span class="token operator">:</span> <span class="token function">TipoUsuario</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Admin"</span></span><span class="token punctuation">)</span>
    <span class="token keyword keyword-object">object</span> Personal <span class="token operator">:</span> <span class="token function">TipoUsuario</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Personal"</span></span><span class="token punctuation">)</span>
    <span class="token keyword keyword-object">object</span> Cliente <span class="token operator">:</span> <span class="token function">TipoUsuario</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Cliente"</span></span><span class="token punctuation">)</span>

    <span class="token keyword keyword-companion">companion</span> <span class="token keyword keyword-object">object</span> <span class="token punctuation">{</span>
        <span class="token comment">// Mรฉtodo estรกtico que me devuelve los valores.</span>
        <span class="token keyword keyword-fun">fun</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>TipoUsuario<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token function">arrayOf</span><span class="token punctuation">(</span>Admin<span class="token punctuation">,</span> Personal<span class="token punctuation">,</span> Cliente<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Mรฉtodo estรกtico para tener la funcionalidad </span>
        <span class="token comment">// equivalente del valueOf de los enums</span>
        <span class="token keyword keyword-fun">fun</span> <span class="token function">valueOf</span><span class="token punctuation">(</span>value<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> TipoUsuario <span class="token punctuation">{</span>
            <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-when">when</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token string-literal singleline"><span class="token string">"Admin"</span></span> <span class="token operator">-&gt;</span> Admin
                <span class="token string-literal singleline"><span class="token string">"Personal"</span></span> <span class="token operator">-&gt;</span> Personal
                <span class="token string-literal singleline"><span class="token string">"Cliente"</span></span> <span class="token operator">-&gt;</span> Cliente
                <span class="token keyword keyword-else">else</span> <span class="token operator">-&gt;</span> <span class="token keyword keyword-throw">throw</span> <span class="token function">IllegalArgumentException</span><span class="token punctuation">(</span>
                                    <span class="token string-literal singleline"><span class="token string">"No object consola.TipoUsuario.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">value</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Pero en este caso no nos aporta nada frente al <strong><code>enum class</code></strong> que de forma mรกs concisa me representa dicha funcionalidad. Con lo cual vamos a quedarnos con dicha sintaxis y vamos a definir dos tipos enumerados mรกs.</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-enum">enum</span> <span class="token keyword keyword-class">class</span> <span class="token function">TipoCategoria</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> tipo<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Mascotas</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Mascotas"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Gatos</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Gatos"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Perros</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Perros"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-enum">enum</span> <span class="token keyword keyword-class">class</span> <span class="token function">TipoArchivo</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> tipo<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Foto</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Foto"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Video</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Video"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Audio</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Audio"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><p>Supongamos ahora una clase <strong><code>AccionesUsuario</code></strong> con diferentes acciones que puede realizar un usuario. En este caso, el usuario puede hacer login, logout, visualizar un archivo o buscar un archivo. En el caso de visualizar y buscar, se le pasa el nombre del archivo, el tipo de usuario, el tipo de archivo y en el caso de buscar, el tipo de categorรญa. Cada tipo de acciรณn va a estar representada por un tipo anidado <strong>con sus propiedades especรญficas</strong> y que heredarรก del propio <strong><code>AccionesUsuario</code></strong>.</p>
<pre data-role="codeBlock" data-info="Kotlin" class="language-kotlin Kotlin"><span class="token keyword keyword-sealed">sealed</span> <span class="token keyword keyword-class">class</span> AccionesUsuario <span class="token punctuation">{</span>
    <span class="token comment">// Tipos Login y Logout</span>
    <span class="token keyword keyword-data">data</span> <span class="token keyword keyword-class">class</span> <span class="token function">Login</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> tipoUsuario<span class="token operator">:</span> TipoUsuario<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">AccionesUsuario</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-data">data</span> <span class="token keyword keyword-class">class</span> <span class="token function">Logout</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> tipoUsuario<span class="token operator">:</span> TipoUsuario<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">AccionesUsuario</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// Tipos Visualizar y Buscar ya definen otras propiedades</span>
    <span class="token comment">// especรญficas para definir su propio estado.</span>
    <span class="token keyword keyword-data">data</span> <span class="token keyword keyword-class">class</span> <span class="token function">Visualizar</span><span class="token punctuation">(</span>
        <span class="token keyword keyword-val">val</span> fileName<span class="token operator">:</span> String<span class="token punctuation">,</span> 
        <span class="token keyword keyword-val">val</span> tipoUsuario<span class="token operator">:</span> TipoUsuario<span class="token punctuation">,</span> 
        <span class="token keyword keyword-val">val</span> mediaType<span class="token operator">:</span> TipoArchivo
    <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">AccionesUsuario</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword keyword-data">data</span> <span class="token keyword keyword-class">class</span> <span class="token function">Buscar</span><span class="token punctuation">(</span>
        <span class="token keyword keyword-val">val</span> terminoBusqueda<span class="token operator">:</span> String<span class="token punctuation">,</span>
        <span class="token keyword keyword-val">val</span> tipoUsuario<span class="token operator">:</span> TipoUsuario<span class="token punctuation">,</span>
        <span class="token keyword keyword-val">val</span> tipoArchivo<span class="token operator">:</span> TipoArchivo<span class="token punctuation">,</span>
        <span class="token keyword keyword-val">val</span> tipocategoria<span class="token operator">:</span> TipoCategoria
    <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">AccionesUsuario</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// Defino un mรฉtodo para pasar a cadena que segรบn el tipo </span>
    <span class="token comment">// generamos una cadena con las caracterรญsticas del estado.</span>
    <span class="token keyword keyword-fun">fun</span> <span class="token function">aTexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-when">when</span> <span class="token punctuation">(</span><span class="token keyword keyword-this">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-is">is</span> Login <span class="token operator">-&gt;</span>
                <span class="token string-literal singleline"><span class="token string">"El usuario </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">tipoUsuario</span></span><span class="token string"> ha iniciado sesiรณn"</span></span>

            <span class="token keyword keyword-is">is</span> Logout <span class="token operator">-&gt;</span>
                <span class="token string-literal singleline"><span class="token string">"El usuario </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">tipoUsuario</span></span><span class="token string"> ha cerrado sesiรณn"</span></span>

            <span class="token keyword keyword-is">is</span> Visualizar <span class="token operator">-&gt;</span>
                <span class="token string-literal singleline"><span class="token string">"El usuario de tipo </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">tipoUsuario</span></span><span class="token string"> ha visto "</span></span> <span class="token operator">+</span>
                        <span class="token string-literal singleline"><span class="token string">"el fichero </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">fileName</span></span><span class="token string"> que es un </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">mediaType</span></span><span class="token string">"</span></span>

            <span class="token keyword keyword-is">is</span> Buscar <span class="token operator">-&gt;</span>
                <span class="token string-literal singleline"><span class="token string">"El usurio de tipo </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">tipoUsuario</span></span><span class="token string"> ha buscado \"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">terminoBusqueda</span></span><span class="token string">\" "</span></span> <span class="token operator">+</span>
                        <span class="token string-literal singleline"><span class="token string">"de tipo </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">tipoArchivo</span></span><span class="token string"> en la categorรญa </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">tipocategoria</span></span><span class="token string">"</span></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<p>En el siguiente cรณdigo simulamos que vamos aรฑadiendo acciones del usuario a una lista que harรก de '<em>Log</em>' cada una con sus propiedades especรญficas pero de entre un conjunto restringido de acciones posibles. Todas ellas tienen en comรบn la operaciรณn <strong><code>aTexto</code></strong> que segรบn el tipo de acciรณn nos devolverรก una cadena con las caracterรญsticas de la acciรณn realizada.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-fun">fun</span> <span class="token function">registroAcciones</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> acciones <span class="token operator">=</span> mutableListOf<span class="token operator">&lt;</span>AccionesUsuario<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{</span>
        <span class="token function">add</span><span class="token punctuation">(</span>AccionesUsuario<span class="token punctuation">.</span><span class="token function">Login</span><span class="token punctuation">(</span>tipoUsuario <span class="token operator">=</span> TipoUsuario<span class="token punctuation">.</span>Admin<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">add</span><span class="token punctuation">(</span>
            AccionesUsuario<span class="token punctuation">.</span><span class="token function">Visualizar</span><span class="token punctuation">(</span>
                fileName <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"gato mirando cosas"</span></span><span class="token punctuation">,</span>
                tipoUsuario <span class="token operator">=</span> TipoUsuario<span class="token punctuation">.</span>Personal<span class="token punctuation">,</span>
                mediaType <span class="token operator">=</span> TipoArchivo<span class="token punctuation">.</span>Video
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        <span class="token function">add</span><span class="token punctuation">(</span>
            AccionesUsuario<span class="token punctuation">.</span><span class="token function">Buscar</span><span class="token punctuation">(</span>
                terminoBusqueda <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"perro gracioso"</span></span><span class="token punctuation">,</span>
                tipoUsuario <span class="token operator">=</span> TipoUsuario<span class="token punctuation">.</span>Cliente<span class="token punctuation">,</span>
                tipoArchivo <span class="token operator">=</span> TipoArchivo<span class="token punctuation">.</span>Foto<span class="token punctuation">,</span>
                tipocategoria <span class="token operator">=</span> TipoCategoria<span class="token punctuation">.</span>Perros
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
        <span class="token function">add</span><span class="token punctuation">(</span>AccionesUsuario<span class="token punctuation">.</span><span class="token function">Logout</span><span class="token punctuation">(</span>tipoUsuario <span class="token operator">=</span> TipoUsuario<span class="token punctuation">.</span>Cliente<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    acciones<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">aTexto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Descargar ejemplos de cรณdigo <strong><a href="./assets/codigo/ejemplo_clase_sellada_recurso.zip">aquรญ</a></strong>.</p>
<div style="page-break-after:always;"></div>
<h4 class="crossnote-header" id="delegaci%C3%B3n-de-propiedades-con-by">Delegaciรณn de propiedades con <strong><code>by</code></strong></h4>

<ul>
<li><a href="https://kotlinlang.org/docs/delegated-properties.html">Delegated Properties</a></li>
</ul>
<p>La <a href="https://kotlinlang.org/docs/delegated-properties.html">delegaciรณn de propiedades</a> es una caracterรญstica de Kotlin que nos permite delegar la implementaciรณn de una propiedad a un objeto externo.  Por tanto, utilizarรก otro objeto que es capaz de devolver un resultado cuando se llame al <strong><code>get</code></strong> y al <strong><code>set</code></strong> (en caso de que se utilice var).</p>
<p>Veamos el siguiente ejemplo comentado:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token comment">// Definimos un tipo Dato que guarda un valor</span>
<span class="token keyword keyword-class">class</span> <span class="token function">Dato</span><span class="token punctuation">(</span><span class="token keyword keyword-var">var</span> valor <span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> valor<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Definimos un tipo delegado encargado de inicializar una propiedad</span>
<span class="token keyword keyword-class">class</span> MiDelegadoParaDato <span class="token punctuation">{</span>

    <span class="token comment">// EL delegado devuelve una รบnica instancia de Dato </span>
    <span class="token comment">// o la crea si no existe (patrรณn creacional Singleton)</span>
    <span class="token keyword keyword-companion">companion</span> <span class="token keyword keyword-object">object</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-var">var</span> dato<span class="token operator">:</span> Dato <span class="token operator">=</span> <span class="token function">Dato</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Como solo hemos definido getValue, </span>
    <span class="token comment">// solo podremos utilizarlo en propiedades de solo lectura 'val'</span>
    <span class="token keyword keyword-operator">operator</span> <span class="token keyword keyword-fun">fun</span> <span class="token function">getValue</span><span class="token punctuation">(</span>thisRef<span class="token operator">:</span> Any<span class="token operator">?</span><span class="token punctuation">,</span> property<span class="token operator">:</span> KProperty<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> Dato <span class="token punctuation">{</span>
        <span class="token keyword keyword-return">return</span> dato
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// En ambos casos se inicializa la propiedad </span>
    <span class="token comment">// a la misma instancia del objeto dato.</span>
    <span class="token keyword keyword-val">val</span> dato1<span class="token operator">:</span> Dato <span class="token keyword keyword-by">by</span> <span class="token function">MiDelegadoParaDato</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> dato2<span class="token operator">:</span> Dato <span class="token keyword keyword-by">by</span> <span class="token function">MiDelegadoParaDato</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"dato1 = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">dato1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> y dato2 = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">dato2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token comment">// mostrarรก dato1 = -1 y dato2 = -1</span>

    dato1<span class="token punctuation">.</span>valor <span class="token operator">=</span> <span class="token number">6</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"dato1 = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">dato1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> y dato2 = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">dato2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token comment">// mostrarรก dato1 = 6 y dato2 = 6</span>
<span class="token punctuation">}</span>
</pre><blockquote>
<p>โ <strong>Importante</strong>: Fรญjate que hemos usado la palabra reservada <strong><code>by</code></strong> para indicar que inicializaciรณn de los datos se va a delegar en una intรกncia de del tipo <strong><code>MiDelegado</code></strong>.</p>
</blockquote>
<h5 class="crossnote-header" id="lazy">lazy</h5>

<ul>
<li><a href="https://kotlinlang.org/docs/delegated-properties.html#lazy-properties">Lazy Properties</a></li>
</ul>
<p>Existen <strong>delegados estรกndar</strong> ya implementados en el lenguaje que nos permiten implementar la delegaciรณn de propiedades de forma sencilla. Por ejemplo, tenemos la interfaz <strong><code>lazy</code></strong> que nos permite inicializar el valor de una propiedad de <strong>forma perezosa</strong>. Es decir, que no se inicializa hasta que no se accede a ella por <strong>primera vez</strong>.</p>
<p>Por ejemplo:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token comment">// Definimos una clase llamada Dato</span>
<span class="token keyword keyword-data">data</span> <span class="token keyword keyword-class">class</span> <span class="token function">Dato</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> valor <span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">// Definimos una clase llamada A</span>
<span class="token keyword keyword-class">class</span> A <span class="token punctuation">{</span>
    <span class="token comment">// Definimos una propiedad pรบblica de tipo Dato </span>
    <span class="token comment">// que se inicializa de forma perezosa.</span>
    <span class="token keyword keyword-val">val</span> p<span class="token operator">:</span> Dato <span class="token keyword keyword-by">by</span> lazy <span class="token punctuation">{</span> <span class="token function">Dato</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> a <span class="token operator">=</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// Hasta el momento que accedemos a la propiedad p</span>
    <span class="token comment">// no se llama al constructor de Dato.</span>
    <span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>p<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h5 class="crossnote-header" id="observable">observable</h5>

<ul>
<li><a href="https://kotlinlang.org/docs/delegated-properties.html#observable-properties">Observable Properties</a></li>
</ul>
<p>Existen muchos <strong>delegados estรกndar</strong> que nos permiten implementar la delegaciรณn de propiedades usando <strong><code>by</code></strong>. Por ejemplo, la interfaz <strong><code>observable</code></strong> nos permite observar los cambios que se producen en una propiedad. Es decir, que cada vez que se cambie el valor de la propiedad, se ejecutarรก un cรณdigo que nosotros definamos. Muchos de ellos estรกn definidos en el paquete <strong><code>kotlin.properties</code></strong> dentro de la clase <strong><code>Delegates</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><span class="token keyword keyword-data">data</span> <span class="token keyword keyword-class">class</span> <span class="token function">Dato</span><span class="token punctuation">(</span><span class="token keyword keyword-val">val</span> valor <span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword keyword-class">class</span> A <span class="token punctuation">{</span>
    <span class="token comment">// Definimos una propiedad pรบblica de tipo Dato que se inicializa al</span>
    <span class="token comment">//  valor por defecto y cada vez que se modifica se la funciรณn lambda que se le indica</span>
    <span class="token comment">// que se modifica se la funciรณn lambda que se le indica</span>
    <span class="token keyword keyword-var">var</span> p<span class="token operator">:</span> Dato <span class="token keyword keyword-by">by</span> Delegates<span class="token punctuation">.</span><span class="token function">observable</span><span class="token punctuation">(</span><span class="token function">Dato</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _<span class="token punctuation">,</span> old<span class="token punctuation">,</span> new <span class="token operator">-&gt;</span> <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"p cambia de </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">old</span></span><span class="token string"> a </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">new</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-fun">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> a <span class="token operator">=</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    a<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token function">Dato</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    a<span class="token punctuation">.</span>p <span class="token operator">=</span> <span class="token function">Dato</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><p>Al ejecutarse este programa principal se mostrarรก por el terminal...</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash">p cambia de Dato<span class="token punctuation">(</span>valor<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> a Dato<span class="token punctuation">(</span>valor<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
p cambia de Dato<span class="token punctuation">(</span>valor<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> a Dato<span class="token punctuation">(</span>valor<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
</pre>
      </div>
      
      
    
    
    
    
    
    
  
    </body></html>