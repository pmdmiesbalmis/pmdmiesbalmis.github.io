<!DOCTYPE html><html><head>
      <title>PMDM 2&#xBA; DAM  Tema 4.1 - Scaffold</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}@font-face {
  font-family: "Material Icons";
  font-style: normal;
  font-weight: 400;
  src: local("Material Icons"), local("MaterialIcons-Regular"), url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAfIAAsAAAAADDAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZW7kosY21hcAAAAYAAAADTAAACjtP6ytBnbHlmAAACVAAAAxgAAAQ4zRtvlGhlYWQAAAVsAAAALwAAADYRwZsnaGhlYQAABZwAAAAcAAAAJAeKAzxobXR4AAAFuAAAABIAAAA8OGQAAGxvY2EAAAXMAAAAIAAAACAG5AfwbWF4cAAABewAAAAfAAAAIAEfAERuYW1lAAAGDAAAAVcAAAKFkAhoC3Bvc3QAAAdkAAAAYgAAAK2vz7wkeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkPsQ4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVLy4xKzzX4chhrmK4QpQmBEkBwAZygyweJzFkr0NwjAQhZ+TEP6CRUfHBEwRUWaQTICyQbpMwRCskA5RUIONxG0RnnNpKAIV4qzPku/8c353ACYAYrIjCWCuMAh2ptf0/hiL3p/gyPUWa3osqlt0L1zu9r71z8dGrJRykFoauXQd932Lj5vhG+MjxGeYI8MKETObMpslf5EyP8tg+vHun5r539PvlvXzaVhRFVQDTPEWKVQR90KhnnC5Ek67vUKN4VuFasM/ldARj43CCkCsEjpJSoVVgRyU0GVSK6wUpFFCx8lFgX0BiXpRPQB4nE2TTWjcRhTH3xttpDhxN7uxPlp3u/FK7moRPixafRijNosxSw/LUsIwNcaEHPZggo/FmEKMCKWU4kNOOftQSlhE8alnH0Ix9BqWnHooPRrTQ0+mnu2bXTu2pPdGM9LM/6c3fwECTM4gBBMYQNqxzLrZAjqYSlqu2TAHZQA0/DQJH6FtzqGDnvbt4Ggwvzw/nL8EfH8kW0fsuRqhgWXZnY7M1picaUL7Du5BHeDzMIl83dAt016wH1qmvtSMo5R6YRJHTR//FXsff/nj/tc/5K9P5d+nP22+fFK5u7v3K39SW3y+OtDKO3L85vD09PD9z5X17a2N1g4tqk01RlqX7gyoEmnsWQtVr4rtZMmukEaFBZxzefkCn11cyKMLZgshRwgTYNoLNXCBz2ja7HvZG7hDpPSNfoo5vs0knK/9hb+rNpu+8kHPgk/Ao4kK3tWtTpSEtvkA9c+wE6UaUdwieNkaHg55tBEtRiEPw1s0+FtrtTcc9two2lhMknV7PZF/cs6+uUFTmpTGbEx7sQCPSLOttHS3GRltqp7SNzVSKzl6aWnZT/CX5k6/v9N3Hh8fHBwffJVjhrC6OgH5dkIt/tPsq+d/PD5Qz7G7efzq1THFjdZVPe/N6ulQ3JnDWSE5junsFsVIiFwL/htf1S5gJ3BfOcUxfHKLnzqpFpyfZ9cX+/5WB6a+Y0pHpzkNrYNVDwMsikK+y7WuLCRg/oFHkA8VT3rDg5ZnU6ktzzINymV0m74Xd5pfIGXyFeVEQSShkzqG7TBBa2OxVRKitLXv7h3uuftXnXq7lz2tZ/WnWa9dx9dCjDhHzmuVQATlmljr9dZErUydSo2Hbi/b1vXtrOeGCk2/8s3ZlO8+ueJT8BVlw5pGw2oYccdSiHHqx0RlabHqdNR9jAETl6PreJcPBnnfpTLnOQ8C3OV8AmQGzouV1iZdeb5SSIoVc8W8/kcDtksUH5FrU6/aqBqNWcMEzxG4DAQ14qRQhi9mWU0rzepKezbjfgCwQKxVYq5ajRgpRqy45CqwkJydcEkbTkvRz8P5/2ZpDTN4nGNgZGBgAOKb6v+/xvPbfGXgZmEAgeuB2kkI+v8bFgbmKiCXg4EJJAoAPyAKhQB4nGNgZGBg1vmvwxDDwgACQJKRARXwAwAzZQHQeJxjYQCCFAYGFgbSMQAcWACdAAAAAAAAAAwALgBgAIQAmADSAQgBIgE8AVABoAHeAfwCHHicY2BkYGDgZ7BgYGMAASYg5gJCBob/YD4DAA/hAWQAeJxlkbtuwkAURMc88gApQomUJoq0TdIQzEOpUDokKCNR0BuzBiO/tF6QSJcPyHflE9Klyyekz2CuG8cr7547M3d9JQO4xjccnJ57vid2cMHqxDWc40G4Tv1JuEF+Fm6ijRfhM+oz4Ra6eBVu4wZvvMFpXLIa40PYQQefwjVc4Uu4Tv1HuEH+FW7i1mkKn6Hj3Am3sHC6wm08Ou8tpSZGe1av1PKggjSxPd8zJtSGTuinyVGa6/Uu8kxZludCmzxMEzV0B6U004k25W35fj2yNlCBSWM1paujKFWZSbfat+7G2mzc7weiu34aczzFNYGBhgfLfcV6iQP3ACkSaj349AxXSN9IT0j16JepOb01doiKbNWt1ovippz6sVYYwsXgX2rGVFIkq7Pl2PNrI6qW6eOshj0xaSq9mpNEZIWs8LZUfOouNkVXxp/d5woqebeYIf4D2J1ywQB4nG3LOw6AIBAE0B384B+PAkgEa+QwNnYmHt+EpXSal5lkSBBnoP8oCFSo0aCFRIceA0ZMmLFAYSW88rmvtMUjG3RiQ9HvpfusM6zWNmtc5H/iPewha50tOt5PS/QBx2IeSwAA") format("woff");
}

.admonition {
  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 1px 5px 0 rgba(0, 0, 0, .12), 0 3px 1px -2px rgba(0, 0, 0, .2);
  position: relative;
  margin: 1.5625em 0;
  padding: 0 1.2rem;
  border-left: .4rem solid rgba(68, 138, 255, .8);
  border-radius: .2rem;
  background-color: rgba(255, 255, 255, 0.05);
  overflow: auto;
}

.admonition>p {
  margin-top: .8rem;
}

.admonition>.admonition-title {
  margin: 0 -1.2rem;
  padding: .8rem 1.2rem .8rem 3.6rem;
  border-bottom: 1px solid rgba(68, 138, 255, .2);
  background-color: rgba(68, 138, 255, .1);
  font-weight: 700;
}

.admonition>.admonition-title:before {
  position: absolute;
  left: 1.2rem;
  font-size: 1.5rem;
  color: rgba(68, 138, 255, .8);
  content: "\E3C9";
}

.admonition>.admonition-title:before {
  font-family: Material Icons;
  font-style: normal;
  font-variant: normal;
  font-weight: 400;
  line-height: 2rem;
  text-transform: none;
  white-space: nowrap;
  speak: none;
  word-wrap: normal;
  direction: ltr;
}

.admonition.summary,
.admonition.abstract,
.admonition.tldr {
  border-left-color: rgba(0, 176, 255, .8);
}

.admonition.summary>.admonition-title,
.admonition.abstract>.admonition-title,
.admonition.tldr>.admonition-title {
  background-color: rgba(0, 176, 255, .1);
  border-bottom-color: rgba(0, 176, 255, .2);
}

.admonition.summary>.admonition-title:before,
.admonition.abstract>.admonition-title:before,
.admonition.tldr>.admonition-title:before {
  color: rgba(0, 176, 255, 1);
  ;
  content: "\E8D2";
}

.admonition.hint,
.admonition.tip {
  border-left-color: rgba(0, 191, 165, .8);
}

.admonition.hint>.admonition-title,
.admonition.tip>.admonition-title {
  background-color: rgba(0, 191, 165, .1);
  border-bottom-color: rgba(0, 191, 165, .2);
}

.admonition.hint>.admonition-title:before,
.admonition.tip>.admonition-title:before {
  color: rgba(0, 191, 165, 1);
  content: "\E80E";
}

.admonition.info,
.admonition.todo {
  border-left-color: rgba(0, 184, 212, .8);
}

.admonition.info>.admonition-title,
.admonition.todo>.admonition-title {
  background-color: rgba(0, 184, 212, .1);
  border-bottom-color: rgba(0, 184, 212, .2);
}

.admonition.info>.admonition-title:before,
.admonition.todo>.admonition-title:before {
  color: rgba(0, 184, 212, 1);
  ;
  content: "\E88E";
}

.admonition.success,
.admonition.check,
.admonition.done {
  border-left-color: rgba(0, 200, 83, .8);
}

.admonition.success>.admonition-title,
.admonition.check>.admonition-title,
.admonition.done>.admonition-title {
  background-color: rgba(0, 200, 83, .1);
  border-bottom-color: rgba(0, 200, 83, .2);
}

.admonition.success>.admonition-title:before,
.admonition.check>.admonition-title:before,
.admonition.done>.admonition-title:before {
  color: rgba(0, 200, 83, 1);
  ;
  content: "\E876";
}

.admonition.question,
.admonition.help,
.admonition.faq {
  border-left-color: rgba(100, 221, 23, .8);
}

.admonition.question>.admonition-title,
.admonition.help>.admonition-title,
.admonition.faq>.admonition-title {
  background-color: rgba(100, 221, 23, .1);
  border-bottom-color: rgba(100, 221, 23, .2);
}

.admonition.question>.admonition-title:before,
.admonition.help>.admonition-title:before,
.admonition.faq>.admonition-title:before {
  color: rgba(100, 221, 23, 1);
  ;
  content: "\E887";
}

.admonition.warning,
.admonition.attention,
.admonition.caution {
  border-left-color: rgba(255, 145, 0, .8);
}

.admonition.warning>.admonition-title,
.admonition.attention>.admonition-title,
.admonition.caution>.admonition-title {
  background-color: rgba(255, 145, 0, .1);
  border-bottom-color: rgba(255, 145, 0, .2);
}

.admonition.attention>.admonition-title:before {
  color: rgba(255, 145, 0, 1);
  content: "\E417";
}

.admonition.warning>.admonition-title:before,
.admonition.caution>.admonition-title:before {
  color: rgba(255, 145, 0, 1);
  content: "\E002";
}

.admonition.failure,
.admonition.fail,
.admonition.missing {
  border-left-color: rgba(255, 82, 82, .8);
}

.admonition.failure>.admonition-title,
.admonition.fail>.admonition-title,
.admonition.missing>.admonition-title {
  background-color: rgba(255, 82, 82, .1);
  border-bottom-color: rgba(255, 82, 82, .2);
}

.admonition.failure>.admonition-title:before,
.admonition.fail>.admonition-title:before,
.admonition.missing>.admonition-title:before {
  color: rgba(255, 82, 82, 1);
  ;
  content: "\E14C";
}

.admonition.danger,
.admonition.error,
.admonition.bug {
  border-left-color: rgba(255, 23, 68, .8);
}

.admonition.danger>.admonition-title,
.admonition.error>.admonition-title,
.admonition.bug>.admonition-title {
  background-color: rgba(255, 23, 68, .1);
  border-bottom-color: rgba(255, 23, 68, .2);
}

.admonition.danger>.admonition-title:before {
  color: rgba(255, 23, 68, 1);
  content: "\E3E7";
}

.admonition.error>.admonition-title:before {
  color: rgba(255, 23, 68, 1);
  content: "\E14C";
}

.admonition.bug>.admonition-title:before {
  color: rgba(255, 23, 68, 1);
  content: "\E868";
}

.admonition.example,
.admonition.snippet {
  border-left-color: rgba(0, 184, 212, .8);
}

.admonition.example>.admonition-title,
.admonition.snippet>.admonition-title {
  background-color: rgba(0, 184, 212, .1);
  border-bottom-color: rgba(0, 184, 212, .2);
}

.admonition.example>.admonition-title:before,
.admonition.snippet>.admonition-title:before {
  color: rgba(0, 184, 212, 1);
  ;
  content: "\E242";
}

.admonition.quote,
.admonition.cite {
  border-left-color: rgba(158, 158, 158, .8);
}

.admonition.quote>.admonition-title,
.admonition.cite>.admonition-title {
  background-color: rgba(158, 158, 158, .1);
  border-bottom-color: rgba(158, 158, 158, .2);
}

.admonition.quote>.admonition-title:before,
.admonition.cite>.admonition-title:before {
  color: rgba(158, 158, 158, 1);
  ;
  content: "\E244";
}

/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview {
  background-color: #FFFF;
}

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <style>/* 
Añade 

@import "../EstilosPersonalizadosMarkdownEnhanced.less"

justo después del front matter 
*/
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
</style>
<h1 class="mume-header undefined" id="tema-41-sacaffold">Tema 4.1 - Sacaffold</h1>

<p>Descargar estos apuntes <a href="./Tema_4_1_scaffold.pdf">pdf</a> o <a href="./Tema_4_1_scaffold.html">html</a></p>
<h2 class="mume-header undefined" id="%C3%ADndice">&#xCD;ndice</h2>

<ol>
<li><a href="#introducci%C3%B3n">Introducci&#xF3;n</a>
<ol>
<li><a href="#dise%C3%B1o-basado-en-ranuras">Dise&#xF1;o basado en ranuras</a></li>
</ol>
</li>
<li><a href="#scaffold">Scaffold</a>
<ol>
<li><a href="#barras-superiores">Barras superiores</a>
<ol>
<li><a href="#barras-de-aplicaci%C3%B3n-superiores-topappbars">Barras de aplicaci&#xF3;n superiores (TopAppBars)</a></li>
</ol>
</li>
<li><a href="#barras-de-pesta%C3%B1as-tabrow">Barras de pesta&#xF1;as (TabRow)</a></li>
<li><a href="#barras-inferiores">Barras inferiores</a>
<ol>
<li><a href="#barra-de-navegaci%C3%B3n-o-navigationbar">Barra de navegaci&#xF3;n o NavigationBar</a></li>
<li><a href="#barra-de-aplicaci%C3%B3n-inferior-o-bottomappbar">Barra de aplicaci&#xF3;n inferior o BottomAppBar</a></li>
</ol>
</li>
<li><a href="#men%C3%BAs-desplegables">Men&#xFA;s desplegables</a></li>
<li><a href="#snackbars">Snackbars</a></li>
</ol>
</li>
<li><a href="#hojas-desplegables">Hojas desplegables</a>
<ol>
<li><a href="#navigation-drawer">Navigation Drawer</a></li>
<li><a href="#hoja-desplegable-inferior-bottom-sheet">Hoja desplegable inferior (Bottom Sheet)</a></li>
</ol>
</li>
</ol>
<div style="page-break-after:always;"></div>
<h2 class="mume-header" id="introducci%C3%B3n">Introducci&#xF3;n</h2>

<p>Aunque en temas anteriores hemos visto c&#xF3;mo maquetar componentes con los los layouts de la capa &apos;<em>Foundation</em>&apos;, como <strong><code>Surface</code></strong>, <strong><code>Box</code></strong>, <strong><code>Column</code></strong>, <strong><code>Row</code></strong>, etc. en este tema vamos a ver un componente que nos facilita la maquetaci&#xF3;n de la pantalla, el <strong><a href="https://developer.android.com/jetpack/compose/components/scaffold?hl=es-419">Scaffold</a></strong>.</p>
<p><strong><code>Scaffold</code></strong> es un componente de la capa Material y por tanto vendr&#xE1; definido en la librer&#xED;a de <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#Scaffold(androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function0,kotlin.Function0,kotlin.Function0,androidx.compose.material3.FabPosition,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)">Material 3</a></strong>.</p>
<h3 class="mume-header" id="dise%C3%B1o-basado-en-ranuras">Dise&#xF1;o basado en ranuras</h3>

<ul>
<li>Documentaci&#xF3;n oficial: <strong><a href="https://developer.android.com/jetpack/compose/layouts/basics#slot-based-layouts">Slot-based layouts</a></strong></li>
</ul>
<p>Aunque al final del <strong>Tema 3.2</strong> ya se coment&#xF3;. En este tema se va a profundizar en el concepto de <strong>Ranuras</strong> o &apos;<em>Slots</em>&apos;. Es en lo que se basa el dise&#xF1;o de <strong>Scaffold</strong> y me permite definir componentes de maquetaci&#xF3;n con <strong>Marcos</strong> o &apos;<em>Frames</em>&apos; relacionados y que pueden colaborar entre s&#xED; a trav&#xE9;s de estados.</p>
<p>Veamos un ejemplo definiendo el t&#xED;pico layout de una pantalla con una cabecera, un pi&#xE9; de p&#xE1;gina, un men&#xFA; lateral y un contenido central o cuerpo.</p>
<p>En primer lugar definimos un componente que nos permita definir un &apos;<em>Frame</em>&apos; o marco dentro de una maquetaci&#xF3;n personalizada. Este componente ser&#xE1; un <strong><code>Surface</code></strong> con un borde y un radio de esquina que le dar&#xE1; un aspecto de marco y <strong>emitir&#xE1; un composable contenido en su interior</strong>.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ScaffoldFrame</span><span class="token punctuation">(</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">,</span>
    contenido<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Surface</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> modifier<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
            Modifier
                <span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>inverseSurface<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token function">RoundedCornerShape</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">contenido</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Posteriormente definimos el componente <strong><code>MiScaffold</code></strong> que nos permitir&#xE1; definir un layout personalizado con una cabecera, un men&#xFA;, un cuerpo y un pi&#xE9; de p&#xE1;gina. Siendo cada uno de ellos un <strong><code>ScaffoldFrame</code></strong> que emitir&#xE1; un contenido que se recibe en el par&#xE1;metro de tipo <strong><code>@Composable () -&gt; Unit</code></strong> que ser&#xE1; lo que denominaremos <strong>Ranura</strong> o &apos;<em>Slot</em>&apos;.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[3-6,11,16,17,19] }" class="language-kotlin" data-line="3-6,11,16,17,19"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">MiScaffold</span><span class="token punctuation">(</span>
    cabecera<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    menu<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    cuerpo<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    pie<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Column</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">ScaffoldFrame</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">cabecera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        <span class="token function">Row</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier
            <span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">10f</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">ScaffoldFrame</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">2f</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
            <span class="token function">ScaffoldFrame</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">10f</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">cuerpo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token function">ScaffoldFrame</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">pie</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3-6" data-start="3" data-end="6">



</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div><div class="line-highlight-wrapper">














<div aria-hidden="true" class="line-highlight" data-range="16" data-start="16">
</div></div><div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div><div class="line-highlight-wrapper">

















<div aria-hidden="true" class="line-highlight" data-range="19" data-start="19">
</div></div></pre><div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px">
<div style="width: 70%">
<p>Por &#xFA;ltimo, vamos a definir un preview de nuestro componente <strong><code>MiScaffold</code></strong> para ver c&#xF3;mo se comporta, emitiendo en cada ranura un texto con el nombre de la ranura y un padding.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">MiScaffoldPreview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    EjemplosScaffoldTheme <span class="token punctuation">{</span>
        <span class="token function">MiScaffold</span><span class="token punctuation">(</span>
            cabecera <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string">&quot;Cabecera&quot;</span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            menu <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string">&quot;Menu&quot;</span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            cuerpo <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string">&quot;Cuerpo&quot;</span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            pie <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string">&quot;Pie&quot;</span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre></div>
<div style="width: auto">
<img height="400px" src="assets/imagenes/tema_4_1/mi_scaffold.png">  
</div>
</div>
<div style="page-break-after:always;"></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Puedes descargar el c&#xF3;digo usado para todos los ejemplo de este tema del siguiente enlace: <strong><a href="assets/codigo/tema_4_1/ejemplos_scaffolding_recurso.zip">Proyecto ejemplos ecaffolding</a></strong><br>
Adem&#xE1;s, cada ejemplo dispondr&#xE1; de un enlace de descarga espec&#xED;fico al fuente del mismo.</p>
</div>
<h2 class="mume-header" id="scaffold">Scaffold</h2>

<ul>
<li>
<p>Enlaces de inter&#xE9;s sobre <strong>Scaffold</strong></p>
<ul>
<li>Documentaci&#xF3;n oficial: <strong><a href="https://developer.android.com/jetpack/compose/components/scaffold?hl=es-419">Scaffold</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#Scaffold(androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function0,kotlin.Function0,kotlin.Function0,androidx.compose.material3.FabPosition,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)">Sacaffold</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#BottomSheetScaffold(kotlin.Function1,androidx.compose.ui.Modifier,androidx.compose.material3.BottomSheetScaffoldState,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,kotlin.Function0,kotlin.Boolean,kotlin.Function0,kotlin.Function1,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,kotlin.Function1)">BottomSheetSacaffold</a></strong></li>
<li>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=VxgWUdOKgtI">Philipp Lackner</a></strong></li>
</ul>
</li>
</ul>
<p>En Material Design, un &apos;<em>scaffold</em>&apos; o andamiaje es una estructura fundamental que proporciona una plataforma estandarizada para interfaces de usuario complejas. Mantiene diferentes partes de la IU, como las barras de la app y los botones de acci&#xF3;n flotantes, lo que les da a las apps un aspecto coherente.</p>
<p>Este componente proporciona una API para reunir varios componentes materiales para construir su pantalla, asegurando una estrategia de dise&#xF1;o adecuada para ellos y recopilando los datos necesarios para que estos componentes funcionen juntos correctamente. Por ejemplo, si aparece un mensaje en un Snackbar, Scaffold se asegura de que el mensaje se muestre correctamente en la pantalla desplazando otros componentes como podr&#xED;a ser un bot&#xF3;n flotante.</p>
<p>Estos componentes que se pueden a&#xF1;adir al Scaffold tambi&#xE9;n definidos en Material 3 son:</p>
<ul>
<li><strong>Barras de aplicaci&#xF3;n</strong>:
<ul>
<li>Superiores <strong><code>TopAppBar</code></strong>, <strong><code>CenterAlignedTopAppBar</code></strong>, <strong><code>MediumTopAppBar</code></strong> o <strong><code>LargeTopAppBar</code></strong></li>
<li>Inferiores como <strong><code>BottomAppBar</code></strong> o <strong><code>NavigationBar</code></strong></li>
</ul>
</li>
<li><strong>Barras de mensaje</strong> o estado (<strong><code>SnackBar</code></strong>)</li>
<li><strong>Botones flotantes</strong> de acci&#xF3;n (<strong><code>Fab</code></strong>)</li>
<li><strong>Layouts desplegables</strong> inferiores no modales (<strong><code>BottomSheets</code></strong>)</li>
</ul>
<p>Puesto que todo est&#xE1; definido en el sistema de dise&#xF1;o de Material, los componentes se combinan de forma coherente y se comportan de forma predecible y siguen las directrices de &apos;<em>layout</em>&apos; descritas en <strong><a href="https://m3.material.io/foundations/layout/understanding-layout/parts-of-layout">Material</a></strong>, en nuestro caso para <strong><a href="https://m3.material.io/foundations/layout/applying-layout/compact">pantallas compactas</a></strong>.</p>
<div style="page-break-after:always;"></div>
<p>En el prototipo de de la funci&#xF3;n composable <strong><code>Scaffold</code></strong> podemos apreciar las diferentes <strong>ranuras</strong> o &apos;<em>slots</em>&apos; que nos permite definir:</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[4-7] }" class="language-kotlin" data-line="4-7"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">,</span>
    topBar<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    bottomBar<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    snackbarHost<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    floatingActionButton<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    floatingActionButtonPosition<span class="token operator">:</span> FabPosition <span class="token operator">=</span> FabPosition<span class="token punctuation">.</span>End<span class="token punctuation">,</span>
    containerColor<span class="token operator">:</span> Color <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>background<span class="token punctuation">,</span>
    contentColor<span class="token operator">:</span> Color <span class="token operator">=</span> <span class="token function">contentColorFor</span><span class="token punctuation">(</span>containerColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
    contentWindowInsets<span class="token operator">:</span> WindowInsets <span class="token operator">=</span> ScaffoldDefaults<span class="token punctuation">.</span>contentWindowInsets<span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span>PaddingValues<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit
<span class="token punctuation">)</span>
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4-7" data-start="4" data-end="7">



</div></div></pre><p>Disponemos de otra funci&#xF3;n de prototipo <strong><code>BottomSheetScaffold</code></strong> que nos permite definir un layout con un contenido principal y <strong>un contenido secundario que se muestra en una hoja inferior desplegable no modal</strong>. Del protipo de la funci&#xF3;n composable <strong><code>BottomSheetScaffold</code></strong> deducir las diferentes <strong>ranuras</strong> o &apos;<em>slots</em>&apos; que nos permite definir que este tipo de Scaffold no es compatible con barras inferiores como <strong><code>BottomAppBar</code></strong> o <strong><code>NavigationBar</code></strong>, ni con botones flotantes de acci&#xF3;n (<strong><code>Fab</code></strong>).</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[3,5,15,16] }" class="language-kotlin" data-line="3,5,15,16"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BottomSheetScaffold</span><span class="token punctuation">(</span>
    sheetContent<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> ColumnScope<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">,</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">,</span>
    scaffoldState<span class="token operator">:</span> BottomSheetScaffoldState <span class="token operator">=</span> <span class="token function">rememberBottomSheetScaffoldState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    sheetPeekHeight<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>SheetPeekHeight<span class="token punctuation">,</span>
    sheetMaxWidth<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>SheetMaxWidth<span class="token punctuation">,</span>
    sheetShape<span class="token operator">:</span> Shape <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>ExpandedShape<span class="token punctuation">,</span>
    sheetContainerColor<span class="token operator">:</span> Color <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>ContainerColor<span class="token punctuation">,</span>
    sheetContentColor<span class="token operator">:</span> Color <span class="token operator">=</span> <span class="token function">contentColorFor</span><span class="token punctuation">(</span>sheetContainerColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
    sheetTonalElevation<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>Elevation<span class="token punctuation">,</span>
    sheetShadowElevation<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>Elevation<span class="token punctuation">,</span>
    sheetDragHandle<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token punctuation">{</span> BottomSheetDefaults<span class="token punctuation">.</span><span class="token function">DragHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    sheetSwipeEnabled<span class="token operator">:</span> Boolean <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    topBar<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
    snackbarHost<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span>SnackbarHostState<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">SnackbarHost</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    containerColor<span class="token operator">:</span> Color <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>surface<span class="token punctuation">,</span>
    contentColor<span class="token operator">:</span> Color <span class="token operator">=</span> <span class="token function">contentColorFor</span><span class="token punctuation">(</span>containerColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span>PaddingValues<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit
<span class="token punctuation">)</span><span class="token operator">:</span> Unit
<div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3" data-start="3">
</div></div><div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div><div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15" data-start="15">
</div></div><div class="line-highlight-wrapper">














<div aria-hidden="true" class="line-highlight" data-range="16" data-start="16">
</div></div></pre><div style="page-break-after:always;"></div>
<h3 class="mume-header" id="barras-superiores">Barras superiores</h3>

<p>C&#xF3;mo su nombre indica pueden ir situadas en la parte superior de la pantalla.</p>
<h4 class="mume-header" id="barras-de-aplicaci%C3%B3n-superiores-topappbars">Barras de aplicaci&#xF3;n superiores (TopAppBars)</h4>

<ul>
<li>
<p>Enlaces de inter&#xE9;s de <strong>Barras de aplicaci&#xF3;n superiores</strong></p>
<ul>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#TopAppBar(kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function1,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.TopAppBarColors,androidx.compose.material3.TopAppBarScrollBehavior)">TopAppBar</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#BottomAppBar(androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.PaddingValues,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)">BottomAppBar</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#CenterAlignedTopAppBar(kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function1,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.TopAppBarColors,androidx.compose.material3.TopAppBarScrollBehavior)">CenterAlignedTopAppBar</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#MediumTopAppBar(kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function1,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.TopAppBarColors,androidx.compose.material3.TopAppBarScrollBehavior)">MediumTopAppBar</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#LargeTopAppBar(kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function1,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.TopAppBarColors,androidx.compose.material3.TopAppBarScrollBehavior)">LargeTopAppBar</a></strong></li>
<li>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=hQJpd78RUVg">Stevdza-San</a></strong></li>
<li>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=EqCvUETekjk">Philipp Lackner</a></strong></li>
</ul>
</li>
</ul>
<p>Especificaciones de uso en el sistema de dise&#xF1;o de Material 3:</p>
<ol>
<li>
<p>Contiene un <strong>t&#xED;tulo</strong> y <strong>acciones</strong> relacionadas con la <strong>pantalla actual</strong>. Por ejemplo, puede contener un <strong>bot&#xF3;n de navegaci&#xF3;n</strong> para volver a la pantalla anterior, un <strong>men&#xFA; desplegable</strong> para mostrar acciones adicionales y <strong>acciones</strong> para realizar tareas relacionadas con la pantalla actual.</p>
</li>
<li>
<p>Al desplazarse, aplica un color de relleno del contenedor para separar la barra de la aplicaci&#xF3;n del contenido del cuerpo, deben tener el mismo ancho que la ventana del dispositivo y no deben superponerse con el contenido del cuerpo.</p>
</li>
<li>
<p>Tendremos <strong>cuatro tipos</strong>: regular (o peque&#xF1;o), alineado al centro, mediano y grande. Aunque en dispositivos Compactos solo se recomienda el uso de los dos primeros <strong><code>TopAppBar</code></strong> y <strong><code>CenterAlignedTopAppBar</code></strong>.</p>
</li>
</ol>
<p>Vamos a un <strong><a href="assets/codigo/tema_4_1/EjemploToAppBar.kt">ejemplo</a></strong> de uso de <strong><code>TopAppBar</code></strong> en el cual le pasamos un par&#xE1;metro de tipo <strong><code>TopAppBarScrollBehavior</code></strong> donde le definimos como se tiene que comportar ante un scroll en el contenido principal en el Scaffold.</p>
<p>En nuestro caso ser&#xE1; de tipo ...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token keyword keyword-val">val</span> comportamientoAnteScroll <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">pinnedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</pre><p>que har&#xE1; que se quede &apos;<em>pinneada</em>&apos; (fija) en la parte superior de la pantalla cuando se haga scroll, pero de acuerdo al sistema de Material cambie ligeramente su color de fondo indicando si tenemos scroll o no.</p>
<p>Otros valores pueden ser: <strong><code>enterAlwaysScrollBehavior()</code></strong> y <strong><code>exitUntilCollapsedScrollBehavior()</code></strong></p>
<p>F&#xED;jate que nos ofrece Ranuras o &apos;<em>Slots</em>&apos; para definir el t&#xED;tulo, el icono de navegaci&#xF3;n y las acciones.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BarraAplicacion</span><span class="token punctuation">(</span>
    comportamientoAnteScroll<span class="token operator">:</span> TopAppBarScrollBehavior
<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">TopAppBar</span><span class="token punctuation">(</span>
    title <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token comment">// El texto en TopAppBar solo puede tener una l&#xED;nea</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;T&#xED;tulo de una l&#xED;nea&quot;</span><span class="token punctuation">,</span> maxLines <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> overflow <span class="token operator">=</span> TextOverflow<span class="token punctuation">.</span>Ellipsis<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    navigationIcon <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Icon</span><span class="token punctuation">(</span>imageVector <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Menu<span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    actions <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Icon</span><span class="token punctuation">(</span>imageVector <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>FirstPage<span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Icon</span><span class="token punctuation">(</span>imageVector <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Refresh<span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    scrollBehavior <span class="token operator">=</span> comportamientoAnteScroll
<span class="token punctuation">)</span>
</pre><p>El contenido del Scaffold ser&#xE1; un <strong><code>LazyColumn</code></strong> que nos permitir&#xE1; hacer scroll.</p>
<blockquote>
<p>&#x270B; <strong>Importante</strong>: F&#xED;jate que <strong><code>ContenidoPrincipalScaffold</code></strong> recibe un modificador, esto es porque el lambda que emite el contenido del Scaffold recibe un par&#xE1;metro de tipo <strong><code>PaddingValues</code></strong> que ajustar&#xE1; este contenido respecto al resto de componentes del mismo.</p>
</blockquote>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ContenidoPrincipalScaffold</span><span class="token punctuation">(</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> colors <span class="token operator">=</span> remember <span class="token punctuation">{</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0xFF50A2E4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0xFFFFFFFF</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token function">LazyColumn</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> modifier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">items</span><span class="token punctuation">(</span>count <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Box</span><span class="token punctuation">(</span>
                Modifier
                    <span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span>it <span class="token operator">%</span> colors<span class="token punctuation">.</span>size<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string">&quot;Item <span class="token interpolation variable">$it</span>&quot;</span><span class="token punctuation">,</span> modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>La variable <strong><code>comportamientoAnteScroll</code></strong> que pasamos a la  <strong><code>BarraAplicacion</code></strong> la tenemos que pasar el Scaffold como modificador que indique que debe propagar el evento de scroll trav&#xE9;s de ella a los elementos suscritos a ella.</p>
<pre data-role="codeBlock" data-info="kotlin {highlight=6}" class="language-kotlin" data-line="6"><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScroll <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">pinnedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        
        <span class="token comment">// Ranura que emite la barra de aplicaci&#xF3;n</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">BarraAplicacion</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        
        <span class="token comment">// Ranura que emite el contenido principal qeu recibe el padding</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoPrincipalScaffold</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div></pre><p>Si ejecutamos <strong><code>PantallaConScroll</code></strong> en nuestro dispositivo virtual, veremos que la barra de aplicaci&#xF3;n se queda fija en la parte superior de la pantalla cuando hacemos scroll y adem&#xE1;s <strong>se oscurece ligeramente</strong> el color en el scroll.</p>
<div style="display: flex; justify-content: space-evenly; align-items: center; margin-top: 15px; margin-bottom: 15px">
<img height="200" src="assets/imagenes/tema_4_1/contenido_principal.png">
<img height="200" src="assets/imagenes/tema_4_1/contenido_principal_con_scroll.png">
</div>
<blockquote>
<p>&#x26A0;&#xFE0F; <strong>Aviso</strong>: Este comportamiento de escurecimiento no se aprecia en la previsualizaci&#xF3;n de Android Studio pero s&#xED; en el dispositivo virtual.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="barras-de-pesta%C3%B1as-tabrow">Barras de pesta&#xF1;as (TabRow)</h3>

<ul>
<li>
<p>Enlaces de inter&#xE9;s sobre <strong>Barras pesta&#xF1;as</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#Tab(kotlin.Boolean,kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Boolean,kotlin.Function0,kotlin.Function0,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.foundation.interaction.MutableInteractionSource)">Tab</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#PrimaryTabRow(kotlin.Int,androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,kotlin.Function1,kotlin.Function0,kotlin.Function0)">PrimaryTabRow</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#SecondaryTabRow(kotlin.Int,androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,kotlin.Function1,kotlin.Function0,kotlin.Function0)">SecondaryTabRow</a></strong></p>
</li>
<li>
<p>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=2K3to2puVDM">Stevdza-San</a></strong></p>
</li>
<li>
<p>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=9r4st6dmyNE">Philipp Lackner</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>Especificaciones de uso en el sistema de dise&#xF1;o de Material 3:</p>
<ol>
<li>
<p>Son &#xFA;tiles para <strong>agrupar contenido en categor&#xED;as</strong>.</p>
</li>
<li>
<p>Pueden desplazarse horizontalmente con scroll.</p>
</li>
<li>
<p>Tambi&#xE9;n pueden <strong>utilizarse para navegar</strong> entre pantallas horizontales en dispositivos compactos usando por ejemplo un <strong><code>HorizontalPager</code></strong> y deslizando con el dedo (<em>Swipe</em>). En este caso no se recomienda Scroll y por tanto tendremos m&#xE1;s de 3 o 4 pesta&#xF1;as.</p>
</li>
<li>
<p>Se recomienda usar <strong><code>LazyGrid</code></strong> en el caso de mostrar alg&#xFA;n tipo de colecci&#xF3;n.</p>
</li>
<li>
<p>Si el contenedor principal es scrollable, las pesta&#xF1;as <strong>quedar&#xE1;n fijas</strong> y no se ocultar&#xE1;n verticalmente con el contenido.</p>
</li>
</ol>
<p>Tipos de pesta&#xF1;as:</p>
<div style="display: flex; justify-content: space-between; align-items: top; margin-top: 15px">
<div style="width: 70%">
<ol>
<li>
<p><strong>Pesta&#xF1;as primarias</strong>: Con <strong><code>PrimaryTabRow</code></strong> y <strong><code>PrimaryScrollableTabRow</code></strong></p>
<ul>
<li>En estas pesta&#xF1;as tendremos un icono y un texto.</li>
<li>Est&#xE1;s est&#xE1;n <strong>situadas en la parte superior de la pantalla</strong>, justo debajo de la barra de aplicaci&#xF3;n.</li>
<li>Pueden tener un componente <strong><code>Badge</code></strong> visto en temas anteriores de forma opcional.</li>
</ul>
</li>
</ol>
</div>
<div style="width: auto">
    <img height="125px" src="assets/imagenes/tema_4_1/primary_tab.png">
</div>
</div>
<div style="display: flex; justify-content: space-between; align-items: top; margin-top: 15px">
<div style="width: 70%">
<ol start="2">
<li>
<p><strong>Pesta&#xF1;as secundarias</strong>: Con <strong><code>SecondaryTabRow</code></strong> y <strong><code>SecondaryScrollableTabRow</code></strong></p>
<ul>
<li>En estas pesta&#xF1;as tendremos solo un texto.</li>
<li>Pueden estar situadas en contenido intermedio de la pantalla, separando contenido relacionado de forma jer&#xE1;rquica.</li>
</ul>
</li>
</ol>
</div>
<div style="width: auto">
    <img height="125px" src="assets/imagenes/tema_4_1/secondary_tab.png">
</div>
</div>
<div style="page-break-after:always;"></div>
<p>Veamos un <strong><a href="assets/codigo/tema_4_1/EjemploTabs.kt">ejemplo</a></strong> de uso de <strong><code>PrimaryTabRow</code></strong> bajo un <strong><code>TopAppBar</code></strong>.</p>
<div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p>Para usar las <strong><code>PrimaryTabRow</code></strong>, <strong><code>SecondaryTabRow</code></strong>, etc. debemos a&#xF1;adir la dependencia m&#xED;nima de la versi&#xF3;n de <strong><code>material3</code></strong> en el <strong><code>build.gradle.kts</code></strong> del m&#xF3;dulo.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token function">implementation</span><span class="token punctuation">(</span><span class="token string">&quot;androidx.compose.material3:material3-android:1.2.0-beta01&quot;</span><span class="token punctuation">)</span>
</pre></div>
<p>Definimos un componente con nuestras pesta&#xF1;as. F&#xED;jate que <strong>necesitamos un estado con un &#xED;ndice</strong> que nos indique la pesta&#xF1;a seleccionada. Esto va ha hacer muy sencillo su uso con <strong><code>HorizontalPager</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">Tabs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> tabIndexState <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> titlesAndIcons <span class="token operator">=</span> remember <span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span>
            <span class="token string">&quot;Todos&quot;</span> <span class="token keyword keyword-to">to</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Filter1<span class="token punctuation">,</span>
            <span class="token string">&quot;Pares&quot;</span> <span class="token keyword keyword-to">to</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Filter1<span class="token punctuation">,</span>
            <span class="token string">&quot;Impares&quot;</span> <span class="token keyword keyword-to">to</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Filter1
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">PrimaryTabRow</span><span class="token punctuation">(</span>selectedTabIndex <span class="token operator">=</span> tabIndexState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        titlesAndIcons<span class="token punctuation">.</span><span class="token function">forEachIndexed</span> <span class="token punctuation">{</span> index<span class="token punctuation">,</span> <span class="token punctuation">(</span>title<span class="token punctuation">,</span> icon<span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
            <span class="token function">Tab</span><span class="token punctuation">(</span>
                selected <span class="token operator">=</span> tabIndexState <span class="token operator">==</span> index<span class="token punctuation">,</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span> tabIndexState <span class="token operator">=</span> index <span class="token punctuation">}</span><span class="token punctuation">,</span>
                text <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>
                    text <span class="token operator">=</span> title<span class="token punctuation">,</span> 
                    maxLines <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> 
                    overflow <span class="token operator">=</span> TextOverflow<span class="token punctuation">.</span>Ellipsis<span class="token punctuation">)</span> 
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                icon <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Icon</span><span class="token punctuation">(</span>icon<span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>Como suced&#xED;a antes, es importante que apliquemos un <strong><code>padding</code></strong> al contenedor principal del Scaffold para que no se solape con las pesta&#xF1;as. Puedes verlo en el siguiente c&#xF3;digo...</p>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="kotlin { highlight=[3-5] }" class="language-kotlin" data-line="3-5"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ContenidoTabs</span><span class="token punctuation">(</span>modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Column</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> modifier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Tabs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">LazyVerticalGrid</span><span class="token punctuation">(</span>columns <span class="token operator">=</span> GridCells<span class="token punctuation">.</span><span class="token function">Adaptive</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">items</span><span class="token punctuation">(</span>count <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">ElevatedCard</span><span class="token punctuation">(</span>
                    modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">widthIn</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">Text</span><span class="token punctuation">(</span>
                        text <span class="token operator">=</span> <span class="token string">&quot;Item <span class="token interpolation variable">$it</span>&quot;</span><span class="token punctuation">,</span>
                        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Center
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3-5" data-start="3" data-end="5">


</div></div></pre><p>Tambi&#xE9;n hemos aplicado un nuevo comportamiento de scroll a la barra de aplicaci&#xF3;n, en este caso <strong><code>enterAlwaysScrollBehavior()</code></strong> que har&#xE1; que la barra de aplicaci&#xF3;n se oculte cuando hacemos scroll hacia abajo y se muestre cuando volvemos con el scroll al primer elemento.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=4 }" class="language-kotlin" data-line="4"><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConTabs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScroll <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">exitUntilCollapsedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">BarraAplicacionTabs</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoTabs</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div></pre><div style="display: flex; justify-content: space-evenly; align-items: center; margin-top: 15px; margin-bottom: 15px">
<img height="200" src="assets/imagenes/tema_4_1/tabs_sin_scroll.png">
<img height="200" src="assets/imagenes/tema_4_1/tabs_con_scroll.png">
</div>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="barras-inferiores">Barras inferiores</h3>

<p>Son barras cuyo uso puede llevar a confusi&#xF3;n ya que est&#xE1;n situadas en la misma posici&#xF3;n. Por esta raz&#xF3;n, vamos a tratar de extraer unas pautas de uso de la documentaci&#xF3;n oficial de Material 3.</p>
<h4 class="mume-header" id="barra-de-navegaci%C3%B3n-o-navigationbar">Barra de navegaci&#xF3;n o NavigationBar</h4>

<ul>
<li>
<p>Enlaces de inter&#xE9;s de <strong>NavigationBar</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#NavigationBar(androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)">NavigationBar</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#(androidx.compose.foundation.layout.RowScope).NavigationBarItem(kotlin.Boolean,kotlin.Function0,kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Boolean,kotlin.Function0,kotlin.Boolean,androidx.compose.material3.NavigationBarItemColors,androidx.compose.foundation.interaction.MutableInteractionSource)">NavigationBarItem</a></strong></p>
</li>
<li>
<p>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=gg-KBGH9T8s">Stevdza-San</a></strong></p>
</li>
<li>
<p>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=c8XP_Ee7iqY">Philipp Lackner</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>Especificaciones de uso en el sistema de dise&#xF1;o de Material 3:</p>
<ol>
<li>
<p>Las barras de navegaci&#xF3;n ofrecen una forma persistente y correcta de cambiar entre destinos primarios en una app con <strong>layout compacto</strong>. Con persistente nos referimos a que siempre est&#xE1;n visibles y adem&#xE1;s no cambian a lo largo de la ejecuci&#xF3;n.</p>
</li>
<li>
<p>Solo deben contener de <strong>tres a cinco</strong> elementos de navegaci&#xF3;n, cada uno de ellos representando un <strong>destino singular en la misma jerarqu&#xED;a</strong> y sin ning&#xFA;n tipo de Scroll.</p>
</li>
<li>
<p>Las posicionaremos en la ranura o &apos;<em>slot</em>&apos; <strong><code>bottomBar</code></strong> del <strong><code>Scaffold</code></strong>.</p>
</li>
<li>
<p>Aunque se pueden representar solo con un icono, se recomienda que tengan un texto corto que describa el destino. Adem&#xE1;s, opcionalmente tambi&#xE9;n pueden representar un Badge.</p>
</li>
<li>
<p>Aunque, como sucede con TabRow, tenemos un &#xED;ndice que nos indica el elemento seleccionado. No debemos deslizar (&apos;<em>Swipe</em>&apos;) y por tanto, <strong>no podemos usar <code>HorizontalPager</code> para navegar entre los elementos de la barra de navegaci&#xF3;n</strong>.</p>
</li>
</ol>
<div style="page-break-after:always;"></div>
<p>Veamos un <strong><a href="assets/codigo/tema_4_1/EjemploNavigationBar.kt">ejemplo</a></strong> sencillo de c&#xF3;mo implementar este componente.</p>
<blockquote>
<p>&#x1F4CC; <strong>Nota</strong>: M&#xE1;s adelante veremos como gestionar la navegaci&#xF3;n de forma m&#xE1;s adecuada con el sistema de navegaci&#xF3;n de Jetpack Compose.</p>
</blockquote>
<p>Puesto que no vamos a implementar una navegaci&#xF3;n como tal, vamos ha hacer que el componente que muestra el contenido principal del Scaffold reciba un &#xED;ndice que nos indique el elemento seleccionado de la barra de navegaci&#xF3;n, cambiando su contenido en funci&#xF3;n del mismo.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ContenidoPrincipalNavBar</span><span class="token punctuation">(</span>
    indexScreenState<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> backgroundColor <span class="token operator">=</span> <span class="token keyword keyword-when">when</span> <span class="token punctuation">(</span>indexScreenState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token number">0</span> <span class="token operator">-&gt;</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>primaryContainer
        <span class="token number">1</span> <span class="token operator">-&gt;</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>secondaryContainer
        <span class="token keyword keyword-else">else</span> <span class="token operator">-&gt;</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>tertiaryContainer
    <span class="token punctuation">}</span>
    <span class="token function">Box</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> modifier<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
            Modifier
                <span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>color <span class="token operator">=</span> backgroundColor<span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        contentAlignment <span class="token operator">=</span> Alignment<span class="token punctuation">.</span>BottomCenter
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Text</span><span class="token punctuation">(</span>
            modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>bottom <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">,</span>
            text <span class="token operator">=</span> <span class="token string">&quot;Pantalla <span class="token interpolation"><span class="token delimiter variable">${</span>indexScreenState <span class="token operator">+</span> <span class="token number">1</span><span class="token delimiter variable">}</span></span>&quot;</span><span class="token punctuation">,</span>
            textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Center<span class="token punctuation">,</span>
            style <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>typography<span class="token punctuation">.</span>headlineLarge
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>La barra de navegaci&#xF3;n, al igual que deber&#xED;amos haber hecho con TabRow, recibir&#xE1; el &#xED;ndice del elemento seleccionado y un callback que nos permitir&#xE1; cambiar el &#xED;ndice cuando se pulse sobre un elemento de la barra de navegaci&#xF3;n.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">NavBar</span><span class="token punctuation">(</span>
    indexScreenState<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    onNavigateToScreen<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> titlesAndIcons <span class="token operator">=</span> remember <span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span>
            <span class="token string">&quot;Pantalla 1&quot;</span> <span class="token keyword keyword-to">to</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Filter1<span class="token punctuation">,</span>
            <span class="token string">&quot;Pantalla 2&quot;</span> <span class="token keyword keyword-to">to</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Filter2<span class="token punctuation">,</span>
            <span class="token string">&quot;Pantalla 3&quot;</span> <span class="token keyword keyword-to">to</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Filter3
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    NavigationBar <span class="token punctuation">{</span>
        titlesAndIcons<span class="token punctuation">.</span><span class="token function">forEachIndexed</span> <span class="token punctuation">{</span> index<span class="token punctuation">,</span> <span class="token punctuation">(</span>title<span class="token punctuation">,</span> icon<span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
            <span class="token function">NavigationBarItem</span><span class="token punctuation">(</span>
                icon <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Icon</span><span class="token punctuation">(</span>icon<span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> title<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                label <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                selected <span class="token operator">=</span> indexScreenState <span class="token operator">==</span> index<span class="token punctuation">,</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">onNavigateToScreen</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<p>Por &#xFA;ltimo, al componer nuestro <strong><code>Scaffold</code></strong>. En la ranura o &apos;<em>slot</em>&apos; <strong><code>bottomBar</code></strong> emitiremos nuestro componente <strong><code>NavBar</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[9-14] }" class="language-kotlin" data-line="9-14"><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaNavBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> indexScreenState <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScroll <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">pinnedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">BarraAplicacionNavBar</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        bottomBar <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">NavBar</span><span class="token punctuation">(</span>
                indexScreenState <span class="token operator">=</span> indexScreenState<span class="token punctuation">,</span>
                onNavigateToScreen <span class="token operator">=</span> <span class="token punctuation">{</span> indexScreenState <span class="token operator">=</span> it <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoPrincipalNavBar</span><span class="token punctuation">(</span>
                indexScreenState <span class="token operator">=</span> indexScreenState<span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">







<div aria-hidden="true" class="line-highlight" data-range="9-14" data-start="9" data-end="14">





</div></div></pre><p>Como puedes ver en las im&#xE1;genes de abajo donde se muestra un ejemplo de ejecuci&#xF3;n, el elemento de la navegaci&#xF3;n seleccionado se muestra resaltado respecto al resto.</p>
<div style="display: flex; justify-content: space-evenly; align-items: center; margin-top: 15px; margin-bottom: 15px">
<img height="200" src="assets/imagenes/tema_4_1/navbar_p1.png">
<img height="200" src="assets/imagenes/tema_4_1/navbar_p3.png">
</div>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="barra-de-aplicaci%C3%B3n-inferior-o-bottomappbar">Barra de aplicaci&#xF3;n inferior o BottomAppBar</h4>

<ul>
<li>
<p>Enlaces de inter&#xE9;s de <strong>BottomAppBar</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#BottomAppBar(kotlin.Function1,androidx.compose.ui.Modifier,kotlin.Function0,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.PaddingValues,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.BottomAppBarScrollBehavior)">BottomAppBar</a></strong></p>
</li>
<li>
<p>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=Dlav7VIAQ3E">Philipp Lackner</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>Si nos vamos a la documentaci&#xF3;n oficial de la implementaci&#xF3;n del sistema de dise&#xF1;o de Material 3 para Jetpack Compose, veremos que hay diferentes sobrecargas de la funci&#xF3;n composable <strong><code>BottomAppBar</code></strong>, resultado de la evoluci&#xF3;n de este componente en el sistema. Nosotros vamos a centrarnos en este interfaz que es el que m&#xE1;s se ajusta a las especificaciones de Material Design.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[4,6,10,12] }" class="language-kotlin" data-line="4,6,10,12"><span class="token annotation builtin">@ExperimentalMaterial3Api</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BottomAppBar</span><span class="token punctuation">(</span>
    actions<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> RowScope<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">,</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">,</span>
    floatingActionButton<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
    containerColor<span class="token operator">:</span> Color <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>containerColor<span class="token punctuation">,</span>
    contentColor<span class="token operator">:</span> Color <span class="token operator">=</span> <span class="token function">contentColorFor</span><span class="token punctuation">(</span>containerColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
    tonalElevation<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>ContainerElevation<span class="token punctuation">,</span>
    contentPadding<span class="token operator">:</span> PaddingValues <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>ContentPadding<span class="token punctuation">,</span>
    windowInsets<span class="token operator">:</span> WindowInsets <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>windowInsets<span class="token punctuation">,</span>
    scrollBehavior<span class="token operator">:</span> BottomAppBarScrollBehavior<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Unit
<div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div><div class="line-highlight-wrapper">








<div aria-hidden="true" class="line-highlight" data-range="10" data-start="10">
</div></div><div class="line-highlight-wrapper">










<div aria-hidden="true" class="line-highlight" data-range="12" data-start="12">
</div></div></pre><p>En &#xE9;l podemos ver que tenemos una ranura o &apos;<em>slot</em>&apos; para definir las acciones, otra para definir un bot&#xF3;n flotante de acci&#xF3;n y otra para definir el comportamiento ante el scroll en el contenedor principal del Scaffold hu&#xE9;sped.</p>
<p>F&#xED;jate que en otros prototipos de la funci&#xF3;n composable <strong><code>BottomAppBar</code></strong> como la siguiente, no tenemos ranura para definir el comportamiento ante el scroll y solo tenemos una ranura o &apos;<em>slot</em>&apos; para definir el contenido en un <strong><code>RowScope</code></strong> del componente.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=9 }" class="language-kotlin" data-line="9"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BottomAppBar</span><span class="token punctuation">(</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">,</span>
    containerColor<span class="token operator">:</span> Color <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>containerColor<span class="token punctuation">,</span>
    contentColor<span class="token operator">:</span> Color <span class="token operator">=</span> <span class="token function">contentColorFor</span><span class="token punctuation">(</span>containerColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
    tonalElevation<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>ContainerElevation<span class="token punctuation">,</span>
    contentPadding<span class="token operator">:</span> PaddingValues <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>ContentPadding<span class="token punctuation">,</span>
    windowInsets<span class="token operator">:</span> WindowInsets <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>windowInsets<span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> RowScope<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit
<span class="token punctuation">)</span><span class="token operator">:</span> Unit
<div class="line-highlight-wrapper">







<div aria-hidden="true" class="line-highlight" data-range="9" data-start="9">
</div></div></pre><p>Especificaciones de uso en el sistema de dise&#xF1;o de Material 3:</p>
<ol>
<li>Mostrar acciones para la pantalla actual. Algo similar a lo que hac&#xED;amos con la <strong><code>TopAppBar</code></strong>, pero aqu&#xED; tenemos m&#xE1;s espacio y podr&#xED;amos <strong>mostrar de dos hasta cinco acciones</strong> sin dejar algunas de ellas de forma impl&#xED;cita en un men&#xFA; desplegable de desbordamiento (overflow menu) y siendo m&#xE1;s accesibles para el usuario con el pulgar.</li>
<li>Podemos mostrar un <strong>bot&#xF3;n flotante de acci&#xF3;n</strong> FAB que nos permita realizar una acci&#xF3;n de <strong>especial relevancia</strong> para la pantalla actual. Obviamente si definimos dicho FAB en la ranura o &apos;<em>slot</em>&apos; <strong><code>floatingActionButton</code></strong> no tiene sentido definirlo en la ranura o &apos;<em>slot</em>&apos; <strong><code>bottomBar</code></strong> del <strong><code>Scaffold</code></strong>.</li>
<li>Material permite que alguna de estas acciones desencadenen la navegaci&#xF3;n a alguna otra pantalla.</li>
<li>Esta permitido un men&#xFA; desplegable de desbordamiento com m&#xE1;s acciones <strong>al principio</strong>.</li>
<li>Si se muestra un SnackBar, este se mostrar&#xE1; <strong>por encima</strong> de la barra de aplicaci&#xF3;n inferior y nunca la ocultar&#xE1; o se mostrar&#xE1; contenido en la misma debajo.</li>
<li>Pueden desaparecer al hacer scroll hacia arriba y aparecer al hacer scroll hacia abajo.</li>
<li>Est&#xE1;n permitidas transiciones entre acciones y FAB seg&#xFA;n el elemento seleccionado en la pantalla.</li>
</ol>
<p>Veamos un <strong><a href="assets/codigo/tema_4_1/EjemploBottomBar.kt">ejemplo</a></strong> sencillo de c&#xF3;mo usar este componente siguiendo las especificaciones de Material Design. En &#xE9;l, vamos a implementar un <strong><code>Scaffold</code></strong> sencillo con una barra de aplicaci&#xF3;n inferior que tendr&#xE1; un FAB y unas acciones. Adem&#xE1;s, el contenido principal del <strong><code>Scaffold</code></strong> ser&#xE1; un <strong><code>LazyColumn</code></strong> con una lista de items que nos permitir&#xE1; hacer scroll y cuando seleccionemos un elemento las acciones y el FAB ser&#xE1;n referentes al elemento seleccionado y cuando no lo est&#xE9;n ser&#xE1;n otros generales a la lista de items. Por &#xFA;ltimo, vamos a definir un comportamiento ante el scroll que har&#xE1; que la barra de aplicaci&#xF3;n inferior se oculte cuando hacemos scroll hacia arriba junto con la barra de aplicaci&#xF3;n superior.</p>
<p>En las siguientes im&#xE1;genes puedes ver un ejemplo del funcionamiento descrito anteriormente.</p>
<div style="display: flex; justify-content: space-evenly; align-items: center; margin-top: 15px; margin-bottom: 15px">
<img height="250" src="assets/imagenes/tema_4_1/bottomAppBar1.png">
<img height="250" src="assets/imagenes/tema_4_1/bottomAppBar2.png">
<img height="250" src="assets/imagenes/tema_4_1/bottomAppBar3.png">
</div>
<p>El contenedor principal, permitir&#xE1; seleccionar y deseleccionar un elemento de la lista de items. Para ello, recibir&#xE1; un estado que nos indique el elemento seleccionado y un callback que nos permitir&#xE1; cambiar el estado cuando se pulse sobre un elemento de la lista.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ContenidoPrincipalScaffoldConBarraAppInferior</span><span class="token punctuation">(</span>
    itemSeleccionadoState<span class="token operator">:</span> Int<span class="token operator">?</span><span class="token punctuation">,</span>
    onSeleccionarItem<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">,</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">LazyColumn</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> modifier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">items</span><span class="token punctuation">(</span>count <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Surface</span><span class="token punctuation">(</span>
                color <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">==</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>secondary
                <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                    MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>secondaryContainer
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier
                    <span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">clickable</span> <span class="token punctuation">{</span> <span class="token function">onSeleccionarItem</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">}</span>
                    <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span>
                        width <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span>
                        color <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>onSurface<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>alpha <span class="token operator">=</span> <span class="token number">0.12f</span><span class="token punctuation">)</span>
                    <span class="token punctuation">)</span>
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Text</span><span class="token punctuation">(</span>
                    text <span class="token operator">=</span> <span class="token string">&quot;Item <span class="token interpolation variable">$it</span>&quot;</span><span class="token punctuation">,</span>
                    modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    fontWeight <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">==</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        FontWeight<span class="token punctuation">.</span>ExtraBold
                    <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                        FontWeight<span class="token punctuation">.</span>Normal
                    <span class="token punctuation">}</span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<p>El componente que muestra el <strong><code>Scaffold</code></strong> gestionar&#xE1; el estado del elemento seleccionado (recuerda que esto deber&#xED;a &apos;<em>ascender</em>&apos; alg&#xFA;n tipo de ViewModel) as&#xED; como pasar&#xE1; al scaffold los observers que notificar&#xE1;n el scroll. Por &#xFA;ltimo, f&#xED;jate en la l&#xED;neas resaltadas que dependiendo de si hay un elemento seleccionado o no se emitir&#xE1; un <strong><code>BottomAppBar</code></strong> u otro.</p>
<pre data-role="codeBlock" data-info="kotlin {highlight=[15-20]}" class="language-kotlin" data-line="15-20"><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConScrollConBarraAppInferior</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScrollSup <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">exitUntilCollapsedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScrollInf <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span><span class="token function">exitAlwaysScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-var">var</span> itemSeleccionadoState<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> onSeleccionarItem<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span>
        itemSeleccionadoState <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> it<span class="token punctuation">)</span> it <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-null">null</span>
    <span class="token punctuation">}</span>
    <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier
            <span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScrollInf<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScrollSup<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">BarraAppSuperiorConBarraAppInferior</span><span class="token punctuation">(</span>comportamientoAnteScrollSup<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        bottomBar <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">==</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
                <span class="token function">BarraAppInferiorSinSeleccion</span><span class="token punctuation">(</span>comportamientoAnteScrollInf<span class="token punctuation">)</span>
            <span class="token keyword keyword-else">else</span>
                <span class="token function">BarraAppInferiorSeleccion</span><span class="token punctuation">(</span>comportamientoAnteScrollInf<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoPrincipalScaffoldConBarraAppInferior</span><span class="token punctuation">(</span>
                itemSeleccionadoState <span class="token operator">=</span> itemSeleccionadoState<span class="token punctuation">,</span>
                onSeleccionarItem <span class="token operator">=</span> onSeleccionarItem<span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15-20" data-start="15" data-end="20">





</div></div></pre><p>Por &#xFA;ltimo, vamos a ver c&#xF3;mo ser&#xED;a el composable que emite la barra de aplicaci&#xF3;n inferior cuando no hay ning&#xFA;n elemento seleccionado. La otra barra de aplicaci&#xF3;n inferior ser&#xED;a muy similar, pero con un FAB y unas acciones diferentes.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BarraAppInferiorSeleccion</span><span class="token punctuation">(</span>
    comportamientoAnteScroll<span class="token operator">:</span> BottomAppBarScrollBehavior
    <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span><span class="token function">exitAlwaysScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> descripcionEIconos <span class="token operator">=</span> remember <span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span>
            <span class="token string">&quot;Eliminar Item&quot;</span> <span class="token keyword keyword-to">to</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Delete<span class="token punctuation">,</span>
            <span class="token string">&quot;Completar Item&quot;</span> <span class="token keyword keyword-to">to</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Favorite<span class="token punctuation">,</span>
            <span class="token string">&quot;Descargar Item&quot;</span> <span class="token keyword keyword-to">to</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Download<span class="token punctuation">,</span>
            <span class="token string">&quot;Editar Item&quot;</span> <span class="token keyword keyword-to">to</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Share<span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">BottomAppBar</span><span class="token punctuation">(</span>
        actions <span class="token operator">=</span> <span class="token punctuation">{</span>
            descripcionEIconos<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>descripcion<span class="token punctuation">,</span> icono<span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
                <span class="token function">IconButton</span><span class="token punctuation">(</span>
                    onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">Icon</span><span class="token punctuation">(</span>
                        imageVector <span class="token operator">=</span> icono<span class="token punctuation">,</span>
                        tint <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>secondary<span class="token punctuation">,</span>
                        contentDescription <span class="token operator">=</span> descripcion
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        floatingActionButton <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">FloatingActionButton</span><span class="token punctuation">(</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                containerColor <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>bottomAppBarFabColor<span class="token punctuation">,</span>
                contentColor <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>primary<span class="token punctuation">,</span>
                elevation <span class="token operator">=</span> FloatingActionButtonDefaults<span class="token punctuation">.</span><span class="token function">bottomAppBarFabElevation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Edit<span class="token punctuation">,</span> <span class="token string">&quot;Localized description&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        scrollBehavior <span class="token operator">=</span> comportamientoAnteScroll
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h3 class="mume-header" id="men%C3%BAs-desplegables">Men&#xFA;s desplegables</h3>

<ul>
<li>
<p>Enlaces de inter&#xE9;s de <strong>Men&#xFA;s desplegables</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#DropdownMenu(kotlin.Boolean,kotlin.Function0,androidx.compose.ui.Modifier,androidx.compose.ui.unit.DpOffset,androidx.compose.foundation.ScrollState,androidx.compose.ui.window.PopupProperties,kotlin.Function1)">DropdownMenu</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#DropdownMenuItem(kotlin.Function0,kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function0,kotlin.Boolean,androidx.compose.material3.MenuItemColors,androidx.compose.foundation.layout.PaddingValues,androidx.compose.foundation.interaction.MutableInteractionSource)">DropdownMenuItem</a></strong></p>
</li>
<li>
<p>Video Tutorial (Castellano) <strong><a href="https://www.youtube.com/watch?v=dxBiEXvwSDk">Gibr&#xE1;n Garc&#xED;a</a></strong></p>
</li>
<li>
<p>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=QCSJfMqQY9A">Philipp Lackner</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>Es un elemento tradicional de las interfaces de usuario que nos permite mostrar un men&#xFA; de acciones/opciones desplegable.</p>
<p>Especificaciones de uso en el sistema de dise&#xF1;o de Material 3:</p>
<ol>
<li>
<p>Se pueden dar en diferentes contextos, pero los principales son:</p>
<ul>
<li><strong>En la TopAppbar</strong>: En este caso, el men&#xFA; desplegable se mostrar&#xE1; en la parte inferior de la barra de aplicaci&#xF3;n y se desplegar&#xE1; hacia abajo. Normalmente, se mostrar&#xE1; un <strong>men&#xFA; desplegable de desbordamiento</strong> con acciones que no caben en la barra de aplicaci&#xF3;n <strong>simbolizado por tres puntos verticales</strong>.</li>
<li><strong>De forma contextual</strong>: Realizaremos un <strong>tap largo sobre un elemento</strong> de la interfaz de usuario y se mostrar&#xE1; un men&#xFA; desplegable con acciones relacionadas con el elemento seleccionado.</li>
<li><strong>El tradicional <code>TextField</code> Desplegable</strong>: Implementado con el componente <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#ExposedDropdownMenuBox(kotlin.Boolean,kotlin.Function1,androidx.compose.ui.Modifier,kotlin.Function1)">ExposedDropdownMenuBox</a></strong> en el sistema de Material 3. Me permitir&#xE1; seleccionar un elemento de una lista de elementos dentro de un campo de texto con un men&#xFA; desplegable.</li>
<li><strong>En chips de filtrado</strong>: Donde se ofrecer&#xE1; una serie de opciones de filtrado simple.</li>
</ul>
</li>
<li>
<p>Pueden tener, de forma opcional, una l&#xED;nea de separaci&#xF3;n entre grupos de elementos usando <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#HorizontalDivider(androidx.compose.ui.Modifier,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Color)">HorizontalDivider</a></strong></p>
</li>
<li>
<p>Pueden contener submen&#xFA;s desplegables, pero en dispositivos compactos no se recomienda usarlos.</p>
</li>
</ol>
<div style="page-break-after:always;"></div>
<p>Veamos un <strong><a href="assets/codigo/tema_4_1/EjemploDropDownMenu.kt">ejemplo</a></strong> an&#xE1;logo al que hemos visto en la barra de aplicaci&#xF3;n inferior pero en este caso con un men&#xFA; desplegable de desbordamiento en la barra de aplicaci&#xF3;n superior.</p>
<p>Como antes, vamos a tener la posibilidad de seleccionar un item dentro de una lista,  si est&#xE1; seleccionado las acciones y por tanto el men&#xFA; de desbordamiento ser&#xE1;n unas y si no lo est&#xE1;, ser&#xE1;n otras. Tal y como se muestra en el siguiente ejemplo de ejecuci&#xF3;n.</p>
<div style="display: flex; justify-content: space-evenly; align-items: center; margin-top: 15px; margin-bottom: 15px">
<img height="200" src="assets/imagenes/tema_4_1/dropdown_menu1.png">
<img height="200" src="assets/imagenes/tema_4_1/dropdown_menu2.png">
</div>
<p>En primer lugar, para no repetir mucho c&#xF3;digo vamos a definir un <strong>componente reutilizable</strong> que nos permita mostrar un men&#xFA; desplegable de desbordamiento en la barra de aplicaci&#xF3;n superior, de tal manera que la primera acci&#xF3;n se muestre directamente en la barra y el resto de forma el&#xED;ptica a trav&#xE9;s del men&#xFA; desplegable.</p>
<p>En primer lugar, por ejemplo, podemos definir una clase de datos que nos permita definir un item del men&#xFA; desplegable de desbordamiento, incluyendo un callback que se ejecutar&#xE1; cuando se pulse sobre el item.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token comment">// Indica a Compose sus objetos son inmutable </span>
<span class="token comment">// y por tanto puede optimizar su renderizado</span>
<span class="token annotation builtin">@Immutable</span> 
<span class="token keyword keyword-data">data</span> <span class="token keyword keyword-class">class</span> <span class="token function">ItemMenuDesplegable</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-val">val</span> icono<span class="token operator">:</span> ImageVector<span class="token punctuation">,</span>
    <span class="token keyword keyword-val">val</span> descripcion<span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword keyword-val">val</span> onClick<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit
<span class="token punctuation">)</span>
</pre><p>Ahora definiremos un componente <strong><code>AccionesConMenuDesplegable</code></strong> que recibe una lista de <strong><code>ItemMenuDesplegable</code></strong> que como precondici&#xF3;n debe tener al menos 3 elementos. Esto es, si no hay 3 elementos o m&#xE1;s, se lanzar&#xE1; una excepci&#xF3;n ya que el men&#xFA; de desbordamiento no tendr&#xED;a sentido. Ya que, el primer elemento ser&#xE1; el que se muestre en la barra de aplicaci&#xF3;n y el resto se mostrar&#xE1;n en el men&#xFA; desplegable de desbordamiento (<strong>al menos 2</strong>).</p>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">AccionesConMenuDesplegable</span><span class="token punctuation">(</span>
    itemsMenu <span class="token operator">:</span> List<span class="token operator">&lt;</span>ItemMenuDesplegable<span class="token operator">&gt;</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemsMenu<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// Precondici&#xF3;n de uso</span>
        <span class="token keyword keyword-throw">throw</span> <span class="token function">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;Se requieren al menos 3 items en el men&#xFA; desplegable&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-var">var</span> expandidoState <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> cerrarMenu<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> expandidoState <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>

    <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> itemsMenu<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>onClick<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Icon</span><span class="token punctuation">(</span>
            imageVector <span class="token operator">=</span> itemsMenu<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>icono<span class="token punctuation">,</span>
            contentDescription <span class="token operator">=</span> itemsMenu<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>descripcion
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">{</span> expandidoState <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Icon</span><span class="token punctuation">(</span>imageVector <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>MoreVert<span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">DropdownMenu</span><span class="token punctuation">(</span>
        expanded <span class="token operator">=</span> expandidoState<span class="token punctuation">,</span>
        onDismissRequest <span class="token operator">=</span> cerrarMenu
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>i <span class="token keyword keyword-in">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token operator">&lt;</span>itemsMenu<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">DropdownMenuItem</span><span class="token punctuation">(</span>
                text <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>itemsMenu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>descripcion<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span>
                    itemsMenu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>onClick
                    <span class="token function">cerrarMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                leadingIcon <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token function">Icon</span><span class="token punctuation">(</span>
                        imageVector <span class="token operator">=</span> itemsMenu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>icono<span class="token punctuation">,</span>
                        contentDescription <span class="token operator">=</span> itemsMenu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>descripcion
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>F&#xED;jate que a trav&#xE9;s de un estado <strong><code>expandidoState</code></strong> controlamos si el men&#xFA; desplegable est&#xE1; expandido o no. Adem&#xE1;s, tenemos un callback <strong><code>cerrarMenu</code></strong> que nos permitir&#xE1; cerrar el men&#xFA; desplegable cuando se pulse sobre un item del mismo o se pulse fuera del men&#xFA; desplegable desech&#xE1;ndolo.</p>
<div style="page-break-after:always;"></div>
<p>Ya podemos usar nuestro componente <strong><code>AccionesConMenuDesplegable</code></strong> en el <strong><code>Scaffold</code></strong>. Para ello definiremos, dos listas de <strong><code>ItemMenuDesplegable</code></strong>. Una para cuando no hay ning&#xFA;n elemento seleccionado y otra para cuando hay un elemento seleccionado. Por ejemplo...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">AccionesConMenuDesplegableSinSeleccion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> descripcionEIconos <span class="token operator">=</span> remember <span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span>
            <span class="token function">ItemMenuDesplegable</span><span class="token punctuation">(</span>
                icono <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Search<span class="token punctuation">,</span> descripcion <span class="token operator">=</span> <span class="token string">&quot;Buscar Item&quot;</span><span class="token punctuation">,</span> onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">ItemMenuDesplegable</span><span class="token punctuation">(</span>
                icono <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Filter<span class="token punctuation">,</span> descripcion <span class="token operator">=</span> <span class="token string">&quot;Filtrar Item&quot;</span><span class="token punctuation">,</span> onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">ItemMenuDesplegable</span><span class="token punctuation">(</span>
                icono <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>SortByAlpha<span class="token punctuation">,</span> descripcion <span class="token operator">=</span> <span class="token string">&quot;Ordenar Item&quot;</span><span class="token punctuation">,</span> onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> <span class="token function">AccionesConMenuDesplegable</span><span class="token punctuation">(</span>itemsMenu <span class="token operator">=</span> descripcionEIconos<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">AccionesConMenuDesplegableSeleccion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
</pre><p>Por &#xFA;ltimo, dependiendo de si tenemos un elemento seleccionado o no, emitiremos un men&#xFA; desplegable u otro.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[15-18] }" class="language-kotlin" data-line="15-18"><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BarraAplicacionConDropDownMenu</span><span class="token punctuation">(</span>
    itemSeleccionadoState<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    comportamientoAnteScroll<span class="token operator">:</span> TopAppBarScrollBehavior
<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">TopAppBar</span><span class="token punctuation">(</span>
    title <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;Ejemplo DropDown&quot;</span><span class="token punctuation">,</span> maxLines <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> overflow <span class="token operator">=</span> TextOverflow<span class="token punctuation">.</span>Ellipsis<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    navigationIcon <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Icon</span><span class="token punctuation">(</span>imageVector <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>ArrowBackIosNew<span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    actions <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState<span class="token punctuation">)</span> <span class="token function">AccionesConMenuDesplegableSeleccion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword keyword-else">else</span> <span class="token function">AccionesConMenuDesplegableSinSeleccion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    scrollBehavior <span class="token operator">=</span> comportamientoAnteScroll
<span class="token punctuation">)</span>
<div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15-18" data-start="15" data-end="18">



</div></div></pre><h3 class="mume-header" id="snackbars">Snackbars</h3>

<ul>
<li>
<p>Enlaces de inter&#xE9;s de <strong>Snackbars</strong></p>
<ul>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#SnackbarHost(androidx.compose.material3.SnackbarHostState,androidx.compose.ui.Modifier,kotlin.Function1)">SnackBarHost</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#Snackbar(androidx.compose.material3.SnackbarData,androidx.compose.ui.Modifier,kotlin.Boolean,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color)">SnackBar</a></strong></li>
</ul>
</li>
</ul>
<p>Las Snackbars proporcionan <strong>mensajes breves</strong> sobre los procesos de la aplicaci&#xF3;n en la <strong>parte inferior de la pantalla</strong>. Esto es, informan a los usuarios de un proceso que una aplicaci&#xF3;n ha realizado o realizar&#xE1;.</p>
<p>Especificaciones de uso en el sistema de dise&#xF1;o de Material 3:</p>
<ol>
<li><strong>Suelen aparecer temporalmente</strong> no interrumpiendo la experiencia del usuario. Por tanto no requerir&#xE1;n de la acci&#xF3;n del usuario para desaparecer.</li>
<li>La <strong>diferencia con un di&#xE1;logo</strong> es que los mensajes son de baja prioridad y como hemos comentado no requieren de la verificaci&#xF3;n del usuario.</li>
<li>Ocasionalmente <strong>pueden contener una sola acci&#xF3;n</strong>. En este caso no deben autodesaparecer hasta que el usuario realice otra acci&#xF3;n.</li>
<li>No deben aparecer m&#xE1;s de una Snackbar a la vez.</li>
<li>No deben contener <strong>m&#xE1;s de dos l&#xED;neas de texto</strong> en un display compacto.</li>
<li>No deben contener iconos, ni enlaces.</li>
<li>Si tenemos una acci&#xF3;n en la Snackbar, esta debe ser <strong>una acci&#xF3;n de alto nivel</strong>. La acci&#xF3;n debe ser una acci&#xF3;n que permita al usuario resolver el mensaje y deber&#xED;a ir en la parte derecha de la Snackbar con un color diferente al del texto de la Snackbar. Por ejemplo, ante un error podemos mostrar acciones como &apos;<em><strong>Reintentar</strong></em>&apos; o &apos;<em><strong>Descartar</strong></em>&apos;.</li>
</ol>
<p>Aunque es posible emitir un <strong><code>SnackBar</code></strong> con un estado en cualquier jerarqu&#xED;a de compose al igual que hac&#xED;amos con un <strong><code>AlertDialog</code></strong>, lo m&#xE1;s habitual es que se emita gestionado dentro de un <strong><code>Scaffold</code></strong>. El <strong><code>Scaffold</code></strong> proporciona un <strong><code>SnackbarHost</code></strong> que nos permite emitir un <strong><code>SnackBar</code></strong> con un estado y se encarga de gestionar su ciclo de vida y la visibilidad respecto a otros componentes gestionados por el <strong><code>Scaffold</code></strong> por ejemplo:</p>
<ul>
<li>Apareciendo sobre la barra de aplicaci&#xF3;n inferior y no ocult&#xE1;ndola.</li>
<li>Si tenemos un FAB la Snackbar debe aparecer sobre el FAB y no debe ocultarlo o mostrarse debajo del mismo.</li>
</ul>
<p>El uso de <strong><code>SnackbarHost</code></strong> no es inmediato pues tiene m&#xFA;ltiples casu&#xED;sticas y personalizaciones que se pueden encontrar en la documentaci&#xF3;n oficial, justo debajo del ep&#xED;grafe de este apartado.<br>
Nosotros vamos a tratar un <strong><a href="assets/codigo/tema_4_1/EjemploSnackBar.kt">ejemplo</a></strong> sencillo de c&#xF3;mo usar este componente en los casos m&#xE1;s comunes. Para ello vamos a partir de un <strong><code>Scaffold</code></strong> sencillo con una <strong><code>TopAppBar</code></strong>, un <strong><code>FAB</code></strong> y un <strong><code>SnackBarHost</code></strong>. El contenido principal mostrar&#xE1; una lista de items como en otros ejemplos y la hacer click sobre uno nos mostrar&#xE1; un <strong><code>SnackBar</code></strong> temporal con un mensaje que nos indicar&#xE1; el item seleccionado. El FAB nos permitir&#xE1; mostrar un <strong><code>SnackBar</code></strong> de duraci&#xF3;n indefinida con un icono de cancelaci&#xF3;n tal y como se muestra en las siguientes im&#xE1;genes...</p>
<div style="display: flex; justify-content: space-evenly; align-items: center; margin-top: 15px; margin-bottom: 15px">
<img height="200" src="assets/imagenes/tema_4_1/snackbar1.png">
<img height="200" src="assets/imagenes/tema_4_1/snackbar2.png">
</div>
<p>Vamos a ver por partes, el <em>composable</em> que define este <strong><code>Scaffold</code></strong> y que denominaremos <strong><code>PantallaConScaffoldYConSnackBar</code></strong>.</p>
<p>Primero podemos considerar la definici&#xF3;n de un estado para nuestro <strong><code>SnackBarHost</code></strong> a trav&#xE9;s de la clase <strong><code>SnackbarHostState</code></strong>. Este estado nos permitir&#xE1; emitir un <strong><code>SnackBar</code></strong> a trav&#xE9;s de la funci&#xF3;n <strong><code>showSnackbar</code></strong> y nos permitir&#xE1; gestionar el ciclo de vida del mismo a trav&#xE9;s de la funci&#xF3;n <strong><code>currentSnackbarData</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[5,10-17] }" class="language-kotlin" data-line="5,10-17"><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConScaffoldYConSnackBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScrollSup <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">exitUntilCollapsedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> snackbarHostState <span class="token operator">=</span> remember <span class="token punctuation">{</span> <span class="token function">SnackbarHostState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> scope <span class="token operator">=</span> <span class="token function">rememberCoroutineScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-var">var</span> itemSeleccionadoState<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> onSeleccionarItem<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span>
        itemSeleccionadoState <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> it<span class="token punctuation">)</span> it <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-null">null</span>
        scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                snackbarHostState<span class="token punctuation">.</span>currentSnackbarData<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                snackbarHostState<span class="token punctuation">.</span><span class="token function">showSnackbar</span><span class="token punctuation">(</span>
                    message <span class="token operator">=</span> <span class="token string">&quot;Item <span class="token interpolation variable">$itemSeleccionadoState</span> seleccionado&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div><div class="line-highlight-wrapper">








<div aria-hidden="true" class="line-highlight" data-range="10-17" data-start="10" data-end="17">







</div></div></pre><p>F&#xED;jate que al seleccionar un item mostramos el <strong>SnackBar</strong> con <strong><code>snackbarHostState.showSnackbar</code></strong> que permitir&#xE1; mostrarlo con diferentes configuraciones simples.</p>
<div style="page-break-after:always;"></div>
<blockquote>
<p>&#x270B; <strong>Importante</strong>: Si antes de mostrar un <strong><code>SnackBar</code></strong> no llam&#xE1;semos a <strong><code>snackbarHostState.currentSnackbarData?.dismiss()</code></strong> y hubiese un <strong><code>SnackBar</code></strong> mostr&#xE1;ndose, este no se mostrar&#xED;a hasta que el anterior expirase. Con la anterior llamada pues, podemos forzar la expiraci&#xF3;n del <strong><code>SnackBar</code></strong> anterior y mostrar el nuevo.</p>
</blockquote>
<p>A continuaci&#xF3;n emitiremos el <strong><code>Scaffold</code></strong> donde definimos un <strong><code>SnackbarHost(snackbarHostState)</code></strong> por defecto, que ser&#xE1; el encargado de gestionar el ciclo de vida de los <strong><code>SnackBar</code></strong> que emitamos.</p>
<p>La gesti&#xF3;n a la hora de mostarlo al pulsa el FAB es similar a la anterior, pero en este caso usaremos la funci&#xF3;n <strong><code>showSnackbar</code></strong> con m&#xE1;s par&#xE1;metros para mostrarlo con un <strong>icono de cancelaci&#xF3;n</strong> y con una <strong>duraci&#xF3;n indefinida</strong>.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[5,11-16] }" class="language-kotlin" data-line="5,11-16">    <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>
            comportamientoAnteScrollSup<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">BarraAppSuperiorConSnackBar</span><span class="token punctuation">(</span>comportamientoAnteScrollSup<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        snackbarHost <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">SnackbarHost</span><span class="token punctuation">(</span>snackbarHostState<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        floatingActionButton <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">FloatingActionButton</span><span class="token punctuation">(</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span>
                    scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span>
                        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            snackbarHostState<span class="token punctuation">.</span>currentSnackbarData<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            snackbarHostState<span class="token punctuation">.</span><span class="token function">showSnackbar</span><span class="token punctuation">(</span>
                                message <span class="token operator">=</span> <span class="token string">&quot;Item <span class="token interpolation variable">$itemSeleccionadoState</span> borrado&quot;</span><span class="token punctuation">,</span>
                                withDismissAction <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                                duration <span class="token operator">=</span> SnackbarDuration<span class="token punctuation">.</span>Indefinite
                            <span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Icon</span><span class="token punctuation">(</span>imageVector <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Delete<span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoPrincipalScaffoldConSnackBar</span><span class="token punctuation">(</span>
                itemSeleccionadoState <span class="token operator">=</span> itemSeleccionadoState<span class="token punctuation">,</span>
                onSeleccionarItem <span class="token operator">=</span> onSeleccionarItem<span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11-16" data-start="11" data-end="16">





</div></div></pre><div style="page-break-after:always;"></div>
<h2 class="mume-header" id="hojas-desplegables">Hojas desplegables</h2>

<h3 class="mume-header" id="navigation-drawer">Navigation Drawer</h3>

<ul>
<li>
<p>Enlaces de inter&#xE9;s de <strong>Navigation Drawer</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#ModalNavigationDrawer(kotlin.Function0,androidx.compose.ui.Modifier,androidx.compose.material3.DrawerState,kotlin.Boolean,androidx.compose.ui.graphics.Color,kotlin.Function0)">ModalNavigationDrawer</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#ModalDrawerSheet(androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)">ModalDrawerSheet</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#NavigationDrawerItem(kotlin.Function0,kotlin.Boolean,kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function0,androidx.compose.ui.graphics.Shape,androidx.compose.material3.NavigationDrawerItemColors,androidx.compose.foundation.interaction.MutableInteractionSource)">NavigationDrawerItem</a></strong></p>
</li>
<li>
<p>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=aYSarwALlpI">Philipp Lackner</a></strong></p>
</li>
<li>
<p>V&#xED;deo Tutorial (Castellano): <strong><a href="https://www.youtube.com/watch?v=8sVYyUcuJgI">Gibr&#xE1;n Garc&#xED;a</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>El <strong>Navigation Drawer</strong> o <strong>Caj&#xF3;n de Navegaci&#xF3;n</strong> es un componente que nos permite mostrar un <strong>men&#xFA; de navegaci&#xF3;n lateral</strong>. Este componente se puede mostrar de varias formas, pero por simplificar nosotros nos vamos a centrar en el funcionamiento como <strong>hoja modal</strong> en el cual se muestra como una hoja que ocupa casi toda la pantalla y que se puede mostrar y ocultar con un gesto de deslizamiento hacia la derecha o hacia la izquierda. Este es el comportamiento recomendado por Material Design para <strong>dispositivos compactos</strong>.</p>
<div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px">
<div style="width: 50%">
<p>En el caso de <strong><code>Caj&#xF3;n de Navegaci&#xF3;n</code></strong>, ser&#xE1; el componente superior en la jerarqu&#xED;a de nuestra UI por encima del <strong><code>Scaffold</code></strong>. Por tanto, ser&#xE1; el componente &apos;<em>andamiaje</em>&apos; de orden superior que emitir&#xE1; el <strong><code>Scaffold</code></strong> y no al rev&#xE9;s como suced&#xED;a con el resto de componentes que hemos visto hasta ahora.</p>
</div>
<div style="width: auto">
<p align="center" style="zoom:0.5"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="458pt" height="289pt" viewBox="0.00 0.00 458.00 289.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 285)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-285 454,-285 454,4 -4,4"/>
<!-- ModalNavigationDrawer -->
<g id="node1" class="node">
<title>ModalNavigationDrawer</title>
<path fill="none" stroke="#36648b" stroke-width="4" d="M326.8403,-281C326.8403,-281 121.1597,-281 121.1597,-281 115.1597,-281 109.1597,-275 109.1597,-269 109.1597,-269 109.1597,-239 109.1597,-239 109.1597,-233 115.1597,-227 121.1597,-227 121.1597,-227 326.8403,-227 326.8403,-227 332.8403,-227 338.8403,-233 338.8403,-239 338.8403,-239 338.8403,-269 338.8403,-269 338.8403,-275 332.8403,-281 326.8403,-281"/>
<text text-anchor="middle" x="224" y="-248" font-family="Arial" font-size="20.00" fill="#36648b">ModalNavigationDrawer</text>
</g>
<!-- ModalDrawerSheet -->
<g id="node2" class="node">
<title>ModalDrawerSheet</title>
<path fill="none" stroke="#36648b" stroke-width="4" d="M204,-176C204,-176 12,-176 12,-176 6,-176 0,-170 0,-164 0,-164 0,-134 0,-134 0,-128 6,-122 12,-122 12,-122 204,-122 204,-122 210,-122 216,-128 216,-134 216,-134 216,-164 216,-164 216,-170 210,-176 204,-176"/>
<text text-anchor="middle" x="108" y="-143" font-family="Arial" font-size="20.00" fill="#36648b">ModalDrawerSheet</text>
</g>
<!-- ModalNavigationDrawer&#45;&gt;ModalDrawerSheet -->
<g id="edge1" class="edge">
<title>ModalNavigationDrawer-&gt;ModalDrawerSheet</title>
<path fill="none" stroke="#1e90ff" stroke-width="3" d="M194.1271,-226.9599C179.3588,-213.592 161.3802,-197.3183 145.6769,-183.1041"/>
<polygon fill="#1e90ff" stroke="#1e90ff" stroke-width="3" points="147.9375,-180.4294 138.1748,-176.3134 143.2399,-185.6191 147.9375,-180.4294"/>
</g>
<!-- Scaffold -->
<g id="node3" class="node">
<title>Scaffold</title>
<path fill="none" stroke="#36648b" stroke-width="4" d="M438,-176C438,-176 246,-176 246,-176 240,-176 234,-170 234,-164 234,-164 234,-134 234,-134 234,-128 240,-122 246,-122 246,-122 438,-122 438,-122 444,-122 450,-128 450,-134 450,-134 450,-164 450,-164 450,-170 444,-176 438,-176"/>
<text text-anchor="middle" x="342" y="-143" font-family="Arial" font-size="20.00" fill="#36648b">Scaffold</text>
</g>
<!-- ModalNavigationDrawer&#45;&gt;Scaffold -->
<g id="edge2" class="edge">
<title>ModalNavigationDrawer-&gt;Scaffold</title>
<path fill="none" stroke="#1e90ff" stroke-width="3" d="M254.3879,-226.9599C269.4109,-213.592 287.6994,-197.3183 303.6735,-183.1041"/>
<polygon fill="#1e90ff" stroke="#1e90ff" stroke-width="3" points="306.161,-185.5757 311.3049,-176.3134 301.5076,-180.3463 306.161,-185.5757"/>
</g>
<!-- NavigationDrawerItem -->
<g id="node4" class="node">
<title>NavigationDrawerItem</title>
<path fill="none" stroke="#36648b" stroke-width="4" d="M204,-54C204,-54 12,-54 12,-54 6,-54 0,-48 0,-42 0,-42 0,-12 0,-12 0,-6 6,0 12,0 12,0 204,0 204,0 210,0 216,-6 216,-12 216,-12 216,-42 216,-42 216,-48 210,-54 204,-54"/>
<text text-anchor="middle" x="108" y="-21" font-family="Arial" font-size="20.00" fill="#36648b">NavigationDrawerItem</text>
</g>
<!-- ModalDrawerSheet&#45;&gt;NavigationDrawerItem -->
<g id="edge3" class="edge">
<title>ModalDrawerSheet-&gt;NavigationDrawerItem</title>
<path fill="none" stroke="#1e90ff" stroke-width="3" d="M108,-121.9242C108,-104.9447 108,-82.8233 108,-64.2076"/>
<polygon fill="#1e90ff" stroke="#1e90ff" stroke-width="3" points="111.5001,-64 108,-54.0001 104.5001,-64.0001 111.5001,-64"/>
<text text-anchor="middle" x="119.2545" y="-83.5" font-family="Arial" font-size="15.00" fill="#1e90ff">5..*</text>
</g>
<!-- TopAppBar -->
<g id="node5" class="node">
<title>TopAppBar</title>
<path fill="none" stroke="#36648b" stroke-width="4" d="M438,-54C438,-54 246,-54 246,-54 240,-54 234,-48 234,-42 234,-42 234,-12 234,-12 234,-6 240,0 246,0 246,0 438,0 438,0 444,0 450,-6 450,-12 450,-12 450,-42 450,-42 450,-48 444,-54 438,-54"/>
<text text-anchor="middle" x="342" y="-21" font-family="Arial" font-size="20.00" fill="#36648b">TopAppBar</text>
</g>
<!-- Scaffold&#45;&gt;TopAppBar -->
<g id="edge4" class="edge">
<title>Scaffold-&gt;TopAppBar</title>
<path fill="none" stroke="#1e90ff" stroke-width="3" d="M342,-121.9242C342,-104.9447 342,-82.8233 342,-64.2076"/>
<polygon fill="#1e90ff" stroke="#1e90ff" stroke-width="3" points="345.5001,-64 342,-54.0001 338.5001,-64.0001 345.5001,-64"/>
</g>
</g>
</svg>
</p></div>
</div>
<p>Especificaciones de uso en el sistema de dise&#xF1;o de Material 3:</p>
<ol>
<li>Aplicaciones con <strong>5 o m&#xE1;s destinos de nivel superior</strong>. En caso contrario, se recomienda usar una barra de navegaci&#xF3;n inferior.</li>
<li>Aplicaciones con <strong>2 o m&#xE1;s niveles en la jerarqu&#xED;a de navegaci&#xF3;n</strong>.</li>
<li>Es el componente adecuado en pantallas grandes quedando fijo en la parte derecha.</li>
</ol>
<p>Veamos un <strong><a href="assets/codigo/tema_4_1/EjemploNavigationDrawer.kt">ejemplo</a></strong> sencillo de uso como el que se ilustra a continuaci&#xF3;n. En el cual tenemos un <strong><code>ModalNavigationDrawer</code></strong> que emite un <strong><code>ModalDrawerSheet</code></strong> con 3 opciones de navegaci&#xF3;n y un <strong><code>Scaffold</code></strong> con un <strong><code>TopAppBar</code></strong>.</p>
<p>El <strong><code>ModalDrawerSheet</code></strong> se mostrar&#xE1; al deslizar hacia la derecha desde el borde izquierdo de la pantalla 1&#xFE0F;&#x20E3; o al hacer click en el icono de men&#xFA; colapsado de la <strong><code>TopAppBar</code></strong> 2&#xFE0F;&#x20E3;. Para ocultarse podemos deslizar a la izquierda 1&#xFE0F;&#x20E3; o hacer tap en la parte que a&#xFA;n queda visible del <strong><code>Scaffold</code></strong> 2&#xFE0F;&#x20E3;. Tambi&#xE9;n se ocultar&#xE1; al hacer click sobre una de las opciones de navegaci&#xF3;n, desencadenando la navegaci&#xF3;n a la pantalla correspondiente y quedando seleccionada para la pr&#xF3;xima vez que se muestre el <strong><code>ModalDrawerSheet</code></strong>.</p>
<div style="display: flex; justify-content: space-evenly; align-items: center; margin-top: 15px; margin-bottom: 15px">
<img height="175" src="assets/imagenes/tema_4_1/drawer1.png">
<img height="175" src="assets/imagenes/tema_4_1/drawer2.png">
<img height="175" src="assets/imagenes/tema_4_1/drawer3.png">
</div>
<p>Para gestionar las opciones del men&#xFA; y guardar el estado de la opci&#xF3;n seleccionada, podemos definir por ejemplo un tipo enumerado como el siguiente:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token keyword keyword-enum">enum</span> <span class="token keyword keyword-class">class</span> <span class="token function">ItemMenuEjemploNavDrawer</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-val">val</span> index<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    <span class="token keyword keyword-val">val</span> icono<span class="token operator">:</span> ImageVector<span class="token punctuation">,</span>
    <span class="token keyword keyword-val">val</span> nombre<span class="token operator">:</span> String
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Pantalla1</span><span class="token punctuation">(</span>
        index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        icono <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Filter1<span class="token punctuation">,</span>
        nombre <span class="token operator">=</span> <span class="token string">&quot;Pantalla 1&quot;</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Pantalla2</span><span class="token punctuation">(</span>
        index <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
        icono <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Filter2<span class="token punctuation">,</span>
        nombre <span class="token operator">=</span> <span class="token string">&quot;Pantalla 2&quot;</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Pantalla3</span><span class="token punctuation">(</span>
        index <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
        icono <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Filter3<span class="token punctuation">,</span>
        nombre <span class="token operator">=</span> <span class="token string">&quot;Pantalla 3&quot;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><p>Definimos en primer lugar un <strong><code>ModalDrawerSheet</code></strong> que tiene dos ranuras o &apos;<em>slots</em>&apos;. Una para el contenido principal y otra para el contenido del caj&#xF3;n de navegaci&#xF3;n.</p>
<p>Este va a ser el nivel superior en nuestro ejemplo y por tanto ser&#xE1; aqu&#xED; donde definamos los estados y los callback que lo modifican. (En un ejemplo real, estos deber&#xED;an estar en un ViewModel).</p>
<ol>
<li>
<p>Mediante el estado de tipo DrawerState, podremos controlar cuando se muestra y cuando se oculta el caj&#xF3;n de navegaci&#xF3;n mediante los m&#xE9;todos de suspendidos <strong><code>open()</code></strong> y <strong><code>close()</code></strong>.</p>
</li>
<li>
<p><strong><code>selectedItem</code></strong> ser&#xE1; un estado del nuestro tipo <strong><code>ItemMenuEjemploNavDrawer</code></strong> que nos indicar&#xE1; la opci&#xF3;n seleccionada en el men&#xFA;.</p>
</li>
</ol>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConNavDrawer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> drawerState <span class="token operator">=</span> <span class="token function">rememberDrawerState</span><span class="token punctuation">(</span>DrawerValue<span class="token punctuation">.</span>Closed<span class="token punctuation">)</span>
    <span class="token keyword keyword-var">var</span> selectedItem <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span>ItemMenuEjemploNavDrawer<span class="token punctuation">.</span>Pantalla1<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> scope <span class="token operator">=</span> <span class="token function">rememberCoroutineScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> onItemSelected<span class="token operator">:</span> <span class="token punctuation">(</span>ItemMenuEjemploNavDrawer<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span>
        scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span> drawerState<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        selectedItem <span class="token operator">=</span> it
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> onClickActionMenu<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span>
        scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span> drawerState<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">ModalNavigationDrawer</span><span class="token punctuation">(</span>
        drawerState <span class="token operator">=</span> drawerState<span class="token punctuation">,</span>
        drawerContent <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">ContenidoNavDrawer</span><span class="token punctuation">(</span>
                selecteItemState <span class="token operator">=</span> selectedItem<span class="token punctuation">,</span>
                onItemSelected <span class="token operator">=</span> onItemSelected
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">ScaffoldDentroNavDrawer</span><span class="token punctuation">(</span>
                selecteItemState <span class="token operator">=</span> selectedItem<span class="token punctuation">,</span>
                onClickActionMenu <span class="token operator">=</span> onClickActionMenu<span class="token punctuation">,</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<p>El componente con el contenido del la hoja modal de navegaci&#xF3;n <strong><code>ModalDrawerSheet</code></strong> vemos que se encarga de emitir un <strong><code>NavigationDrawerItem</code></strong> por cada opci&#xF3;n de navegaci&#xF3;n. Para ello, pasando un icono, un texto y un callback que se ejecutar&#xE1; cuando se pulse sobre el elemento de navegaci&#xF3;n. Adem&#xE1;s, indicaremos si el elemento est&#xE1; seleccionado o no mediante el estado <strong><code>selecteItemState</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin"><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ContenidoNavDrawer</span><span class="token punctuation">(</span>
    selecteItemState<span class="token operator">:</span> ItemMenuEjemploNavDrawer<span class="token punctuation">,</span>
    onItemSelected<span class="token operator">:</span> <span class="token punctuation">(</span>ItemMenuEjemploNavDrawer<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">,</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> items <span class="token operator">=</span> remember <span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span>
            ItemMenuEjemploNavDrawer<span class="token punctuation">.</span>Pantalla1<span class="token punctuation">,</span> 
            ItemMenuEjemploNavDrawer<span class="token punctuation">.</span>Pantalla2<span class="token punctuation">,</span> 
            ItemMenuEjemploNavDrawer<span class="token punctuation">.</span>Pantalla3<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">ModalDrawerSheet</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> modifier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Spacer</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span>
        items<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> item <span class="token operator">-&gt;</span>
            <span class="token function">NavigationDrawerItem</span><span class="token punctuation">(</span>
                icon <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Icon</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>icono<span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> item<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                label <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                selected <span class="token operator">=</span> item<span class="token punctuation">.</span>index <span class="token operator">==</span> selecteItemState<span class="token punctuation">.</span>index<span class="token punctuation">,</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">onItemSelected</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>NavigationDrawerItemDefaults<span class="token punctuation">.</span>ItemPadding<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h3 class="mume-header" id="hoja-desplegable-inferior-bottom-sheet">Hoja desplegable inferior (Bottom Sheet)</h3>

<ul>
<li>
<p>Enlaces de inter&#xE9;s de <strong>Bottom Sheets</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#BottomSheetScaffold(kotlin.Function1,androidx.compose.ui.Modifier,androidx.compose.material3.BottomSheetScaffoldState,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,kotlin.Function0,kotlin.Boolean,kotlin.Function0,kotlin.Function1,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,kotlin.Function1)">BottomSheetScaffold</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#rememberBottomSheetScaffoldState(androidx.compose.material3.SheetState,androidx.compose.material3.SnackbarHostState)">rememberBottomSheetScaffoldState</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#ModalBottomSheet(kotlin.Function0,androidx.compose.ui.Modifier,androidx.compose.material3.SheetState,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Color,kotlin.Function0,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.ModalBottomSheetProperties,kotlin.Function1)">ModalBottomSheet</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#rememberModalBottomSheetState(kotlin.Boolean,kotlin.Function1)">rememberModalBottomSheetState</a></strong></p>
</li>
<li>
<p>Video Tutorial (Ingl&#xE9;s) <strong><a href="https://www.youtube.com/watch?v=VxgWUdOKgtI">Philipp Lackner</a></strong></p>
</li>
<li>
<p>V&#xED;deo Tutorial (Castellano): <strong><a href="https://www.youtube.com/watch?v=MmRpQ_fsM00">Gibr&#xE1;n Garc&#xED;a</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>Especificaciones de uso en el sistema de dise&#xF1;o de Material 3:</p>
<ol>
<li>
<p>Tenemos dos tipos:</p>
<ul>
<li><strong>Standard</strong> (<strong><code>BottomSheetScaffold</code></strong>): Se usa para mostrar <strong>contenido secundario o adicional</strong> que no requiere de la interacci&#xF3;n del usuario para continuar con la tarea principal. Podemos usarlo como componente superior en la jerarqu&#xED;a de nuestra UI y es preferible usar para la navegaci&#xF3;n un Navigation Drawer frente a un Bottom App Bar.<br>
En este caso la hoja no se deber&#xED;a ocultar completamente.</li>
<li><strong>Modal</strong> (<strong><code>ModalBottomSheet</code></strong>): Se usa para mostrar <strong>contenido secundario o adicional</strong> que requiere de la interacci&#xF3;n del usuario para continuar con la tarea principal. Puede ocultarse por completo y activarse con alguna acci&#xF3;n en la top app bar o en el contenido principal.<br>
En este caso la hoja se podr&#xE1; ocultar completamente.</li>
</ul>
</li>
<li>
<p>Las hojas desplegables inferiores son un <strong>componente vers&#xE1;til que puede contener una amplia variedad de informaci&#xF3;n y dise&#xF1;os</strong>, por ejemplo:</p>
<ul>
<li>Informaci&#xF3;n adicional con im&#xE1;genes y media.</li>
<li>Elementos de men&#xFA; (en dise&#xF1;os de lista o cuadr&#xED;cula).</li>
<li>Acciones (Modal).</li>
<li>Opciones de filtrado (Modal).</li>
<li>Incluso puede tener diferentes grupos separadas por una l&#xED;nea de separaci&#xF3;n u <strong><code>HorizontalDivider</code></strong>.</li>
</ul>
</li>
</ol>
<p>Vamos a ver un <strong><a href="assets/codigo/tema_4_1/EjemploBottomSheet.kt">ejemplo</a></strong> de uso de un <strong><code>BottomSheetScaffold</code></strong>, en el cual, tendremos una lista de elementos y al pulsar sobre uno de ellos el contenido del hoja inferior mostrar&#xE1; <em>&quot;informaci&#xF3;n adicional&quot;</em> sobre el elemento seleccionado y se expandir&#xE1; autom&#xE1;ticamente si estuviese colapsado.</p>
<p>Para colapsar, o deseleccionamos el elemento o <strong>deslizamos</strong> (<em>Swipe</em>) hacia abajo el <strong>manejador de arrastre</strong> (<em>Drag Handle</em>) que aparece en la parte superior de la <strong>hoja inferior</strong> (<em>Bottom Sheet</em>).</p>
<p>Si deseleccionamos un elemento aparecer&#xE1; un Snackbar gestionado por el <strong><code>BottomSheetScaffold</code></strong> avis&#xE1;ndonos y la hoja inferior ya no <em>emitir&#xE1;</em> ning&#xFA;n contenido.</p>
<p>Puedes ver un ejemplo de funcionamiento en las siguientes im&#xE1;genes...</p>
<div style="display: flex; justify-content: space-evenly; align-items: center; margin-top: 15px; margin-bottom: 15px">
<img height="200" src="assets/imagenes/tema_4_1/bottom_sheet1.png">
<img height="200" src="assets/imagenes/tema_4_1/bottom_sheet2.png">
</div>
<p>Vamos a definir la funci&#xF3;n de composici&#xF3;n <strong><code>PantallaConBottomSheetScaffold</code></strong> donde usaremos un <strong><code>BottomSheetScaffold</code></strong> como componente superior en la jerarqu&#xED;a de nuestra UI. Este componente nos permite definir un <strong><code>BottomSheetScaffoldState</code></strong> que nos permitir&#xE1; gestionar 2 cosas:</p>
<ol>
<li>El ciclo de vida de la <strong>hoja inferior</strong>, as&#xED; como expandirla y colapsarla a trav&#xE9;s de m&#xE9;todos de suspensi&#xF3;n.</li>
<li>Nos permitir&#xE1; emitir un <strong><code>Snackbar</code></strong> a trav&#xE9;s de su propiedad <strong><code>snackbarHostState</code></strong>.</li>
</ol>
<pre data-role="codeBlock" data-info="kotlin { highlight=[6, 14, 17] }" class="language-kotlin" data-line="6,14,17"><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConBottomSheetScaffold</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScrollSup <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">pinnedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword keyword-val">val</span> scaffoldState <span class="token operator">=</span> <span class="token function">rememberBottomSheetScaffoldState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> scope <span class="token operator">=</span> <span class="token function">rememberCoroutineScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword keyword-var">var</span> itemSeleccionadoState<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> onSeleccionarItem<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span>
        itemSeleccionadoState <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> it<span class="token punctuation">)</span> it <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-null">null</span>
        scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">==</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
                <span class="token comment">// Colapsar si ya no hay seleccion.</span>
                scaffoldState<span class="token punctuation">.</span>bottomSheetState<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-else">else</span>
                <span class="token comment">// Expandir ante una nueva selecci&#xF3;n.</span>
                scaffoldState<span class="token punctuation">.</span>bottomSheetState<span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div><div class="line-highlight-wrapper">












<div aria-hidden="true" class="line-highlight" data-range="14" data-start="14">
</div></div><div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div></pre><p>Ya podemos definir el <strong><code>BottomSheetScaffold</code></strong> que tendr&#xE1; diferentes par&#xE1;metros y ranuras para definir el contenido principal:</p>
<ol>
<li>Recibir&#xE1; el <strong><code>scaffoldState</code></strong> que como hemos comentado controla  <strong><code>BottomSheet</code></strong> y <strong><code>Snackbar</code></strong>.</li>
<li>Permite emitir una TopBars pero NO BottomBars ni FAB.</li>
<li>Podemos definir un <strong><code>SnackbarHost</code></strong> pero su estado debe ser <strong><code>scaffoldState.snackbarHostState</code></strong>.</li>
<li>El contenido de la hoja inferior <strong><code>sheetContent</code></strong> se emite a trav&#xE9;s de una ranura.</li>
<li>Otros par&#xE1;metros de configuraci&#xF3;n de la hoja inferior como la altura de la hoja inferior, su forma, etc.</li>
</ol>
<pre data-role="codeBlock" data-info="kotlin { highlight=[2, 8-17] }" class="language-kotlin" data-line="2,8-17">    <span class="token function">BottomSheetScaffold</span><span class="token punctuation">(</span>
        scaffoldState <span class="token operator">=</span> scaffoldState<span class="token punctuation">,</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScrollSup<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">BarraAppSuperiorBottomSheet</span><span class="token punctuation">(</span>comportamientoAnteScrollSup<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        snackbarHost <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">SnackbarHost</span><span class="token punctuation">(</span>scaffoldState<span class="token punctuation">.</span>snackbarHostState<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        sheetContent <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Text</span><span class="token punctuation">(</span>
                    modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    text <span class="token operator">=</span> <span class="token string">&quot;Item <span class="token interpolation variable">$itemSeleccionadoState</span> seleccionado&quot;</span><span class="token punctuation">,</span>
                    style <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>typography<span class="token punctuation">.</span>titleLarge<span class="token punctuation">,</span>
                    textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Center
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        sheetPeekHeight <span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span>
        sheetShape <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>ExpandedShape<span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoPrincipalBottomSheetScaffold</span><span class="token punctuation">(</span>
                itemSeleccionadoState <span class="token operator">=</span> itemSeleccionadoState<span class="token punctuation">,</span>
                onSeleccionarItem <span class="token operator">=</span> onSeleccionarItem<span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<div class="line-highlight-wrapper">
<div aria-hidden="true" class="line-highlight" data-range="2" data-start="2">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8-17" data-start="8" data-end="17">









</div></div></pre>
      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>