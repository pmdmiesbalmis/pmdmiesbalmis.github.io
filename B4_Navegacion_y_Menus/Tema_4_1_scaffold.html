<!DOCTYPE html><html><head>
      <title>PMDM 2ยบ DAM  Tema 4.1 - Scaffold</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:local("Material Icons"),local("MaterialIcons-Regular"),url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAfIAAsAAAAADDAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZW7kosY21hcAAAAYAAAADTAAACjtP6ytBnbHlmAAACVAAAAxgAAAQ4zRtvlGhlYWQAAAVsAAAALwAAADYRwZsnaGhlYQAABZwAAAAcAAAAJAeKAzxobXR4AAAFuAAAABIAAAA8OGQAAGxvY2EAAAXMAAAAIAAAACAG5AfwbWF4cAAABewAAAAfAAAAIAEfAERuYW1lAAAGDAAAAVcAAAKFkAhoC3Bvc3QAAAdkAAAAYgAAAK2vz7wkeJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2BkPsQ4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVLy4xKzzX4chhrmK4QpQmBEkBwAZygyweJzFkr0NwjAQhZ+TEP6CRUfHBEwRUWaQTICyQbpMwRCskA5RUIONxG0RnnNpKAIV4qzPku/8c353ACYAYrIjCWCuMAh2ptf0/hiL3p/gyPUWa3osqlt0L1zu9r71z8dGrJRykFoauXQd932Lj5vhG+MjxGeYI8MKETObMpslf5EyP8tg+vHun5r539PvlvXzaVhRFVQDTPEWKVQR90KhnnC5Ek67vUKN4VuFasM/ldARj43CCkCsEjpJSoVVgRyU0GVSK6wUpFFCx8lFgX0BiXpRPQB4nE2TTWjcRhTH3xttpDhxN7uxPlp3u/FK7moRPixafRijNosxSw/LUsIwNcaEHPZggo/FmEKMCKWU4kNOOftQSlhE8alnH0Ix9BqWnHooPRrTQ0+mnu2bXTu2pPdGM9LM/6c3fwECTM4gBBMYQNqxzLrZAjqYSlqu2TAHZQA0/DQJH6FtzqGDnvbt4Ggwvzw/nL8EfH8kW0fsuRqhgWXZnY7M1picaUL7Du5BHeDzMIl83dAt016wH1qmvtSMo5R6YRJHTR//FXsff/nj/tc/5K9P5d+nP22+fFK5u7v3K39SW3y+OtDKO3L85vD09PD9z5X17a2N1g4tqk01RlqX7gyoEmnsWQtVr4rtZMmukEaFBZxzefkCn11cyKMLZgshRwgTYNoLNXCBz2ja7HvZG7hDpPSNfoo5vs0knK/9hb+rNpu+8kHPgk/Ao4kK3tWtTpSEtvkA9c+wE6UaUdwieNkaHg55tBEtRiEPw1s0+FtrtTcc9two2lhMknV7PZF/cs6+uUFTmpTGbEx7sQCPSLOttHS3GRltqp7SNzVSKzl6aWnZT/CX5k6/v9N3Hh8fHBwffJVjhrC6OgH5dkIt/tPsq+d/PD5Qz7G7efzq1THFjdZVPe/N6ulQ3JnDWSE5junsFsVIiFwL/htf1S5gJ3BfOcUxfHKLnzqpFpyfZ9cX+/5WB6a+Y0pHpzkNrYNVDwMsikK+y7WuLCRg/oFHkA8VT3rDg5ZnU6ktzzINymV0m74Xd5pfIGXyFeVEQSShkzqG7TBBa2OxVRKitLXv7h3uuftXnXq7lz2tZ/WnWa9dx9dCjDhHzmuVQATlmljr9dZErUydSo2Hbi/b1vXtrOeGCk2/8s3ZlO8+ueJT8BVlw5pGw2oYccdSiHHqx0RlabHqdNR9jAETl6PreJcPBnnfpTLnOQ8C3OV8AmQGzouV1iZdeb5SSIoVc8W8/kcDtksUH5FrU6/aqBqNWcMEzxG4DAQ14qRQhi9mWU0rzepKezbjfgCwQKxVYq5ajRgpRqy45CqwkJydcEkbTkvRz8P5/2ZpDTN4nGNgZGBgAOKb6v+/xvPbfGXgZmEAgeuB2kkI+v8bFgbmKiCXg4EJJAoAPyAKhQB4nGNgZGBg1vmvwxDDwgACQJKRARXwAwAzZQHQeJxjYQCCFAYGFgbSMQAcWACdAAAAAAAAAAwALgBgAIQAmADSAQgBIgE8AVABoAHeAfwCHHicY2BkYGDgZ7BgYGMAASYg5gJCBob/YD4DAA/hAWQAeJxlkbtuwkAURMc88gApQomUJoq0TdIQzEOpUDokKCNR0BuzBiO/tF6QSJcPyHflE9Klyyekz2CuG8cr7547M3d9JQO4xjccnJ57vid2cMHqxDWc40G4Tv1JuEF+Fm6ijRfhM+oz4Ra6eBVu4wZvvMFpXLIa40PYQQefwjVc4Uu4Tv1HuEH+FW7i1mkKn6Hj3Am3sHC6wm08Ou8tpSZGe1av1PKggjSxPd8zJtSGTuinyVGa6/Uu8kxZludCmzxMEzV0B6U004k25W35fj2yNlCBSWM1paujKFWZSbfat+7G2mzc7weiu34aczzFNYGBhgfLfcV6iQP3ACkSaj349AxXSN9IT0j16JepOb01doiKbNWt1ovippz6sVYYwsXgX2rGVFIkq7Pl2PNrI6qW6eOshj0xaSq9mpNEZIWs8LZUfOouNkVXxp/d5woqebeYIf4D2J1ywQB4nG3LOw6AIBAE0B384B+PAkgEa+QwNnYmHt+EpXSal5lkSBBnoP8oCFSo0aCFRIceA0ZMmLFAYSW88rmvtMUjG3RiQ9HvpfusM6zWNmtc5H/iPewha50tOt5PS/QBx2IeSwAA") format("woff")}.admonition{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);position:relative;margin:1.5625em 0;padding:0 1.2rem;border-left:.4rem solid rgba(68,138,255,.8);border-radius:.2rem;background-color:rgba(255,255,255,.05);overflow:auto}.admonition>p{margin-top:.8rem}.admonition>.admonition-title{margin:0 -1.2rem;padding:.8rem 1.2rem .8rem 3.6rem;border-bottom:1px solid rgba(68,138,255,.2);background-color:rgba(68,138,255,.1);font-weight:700}.admonition>.admonition-title:before{position:absolute;left:1.2rem;font-size:1.5rem;color:rgba(68,138,255,.8);content:"\E3C9"}.admonition>.admonition-title:before{font-family:Material Icons;font-style:normal;font-variant:normal;font-weight:400;line-height:2rem;text-transform:none;white-space:nowrap;speak:none;word-wrap:normal;direction:ltr}.admonition.abstract,.admonition.summary,.admonition.tldr{border-left-color:rgba(0,176,255,.8)}.admonition.abstract>.admonition-title,.admonition.summary>.admonition-title,.admonition.tldr>.admonition-title{background-color:rgba(0,176,255,.1);border-bottom-color:rgba(0,176,255,.2)}.admonition.abstract>.admonition-title:before,.admonition.summary>.admonition-title:before,.admonition.tldr>.admonition-title:before{color:#00b0ff;content:"\E8D2"}.admonition.hint,.admonition.tip{border-left-color:rgba(0,191,165,.8)}.admonition.hint>.admonition-title,.admonition.tip>.admonition-title{background-color:rgba(0,191,165,.1);border-bottom-color:rgba(0,191,165,.2)}.admonition.hint>.admonition-title:before,.admonition.tip>.admonition-title:before{color:#00bfa5;content:"\E80E"}.admonition.info,.admonition.todo{border-left-color:rgba(0,184,212,.8)}.admonition.info>.admonition-title,.admonition.todo>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.info>.admonition-title:before,.admonition.todo>.admonition-title:before{color:#00b8d4;content:"\E88E"}.admonition.check,.admonition.done,.admonition.success{border-left-color:rgba(0,200,83,.8)}.admonition.check>.admonition-title,.admonition.done>.admonition-title,.admonition.success>.admonition-title{background-color:rgba(0,200,83,.1);border-bottom-color:rgba(0,200,83,.2)}.admonition.check>.admonition-title:before,.admonition.done>.admonition-title:before,.admonition.success>.admonition-title:before{color:#00c853;content:"\E876"}.admonition.faq,.admonition.help,.admonition.question{border-left-color:rgba(100,221,23,.8)}.admonition.faq>.admonition-title,.admonition.help>.admonition-title,.admonition.question>.admonition-title{background-color:rgba(100,221,23,.1);border-bottom-color:rgba(100,221,23,.2)}.admonition.faq>.admonition-title:before,.admonition.help>.admonition-title:before,.admonition.question>.admonition-title:before{color:#64dd17;content:"\E887"}.admonition.attention,.admonition.caution,.admonition.warning{border-left-color:rgba(255,145,0,.8)}.admonition.attention>.admonition-title,.admonition.caution>.admonition-title,.admonition.warning>.admonition-title{background-color:rgba(255,145,0,.1);border-bottom-color:rgba(255,145,0,.2)}.admonition.attention>.admonition-title:before{color:#ff9100;content:"\E417"}.admonition.caution>.admonition-title:before,.admonition.warning>.admonition-title:before{color:#ff9100;content:"\E002"}.admonition.fail,.admonition.failure,.admonition.missing{border-left-color:rgba(255,82,82,.8)}.admonition.fail>.admonition-title,.admonition.failure>.admonition-title,.admonition.missing>.admonition-title{background-color:rgba(255,82,82,.1);border-bottom-color:rgba(255,82,82,.2)}.admonition.fail>.admonition-title:before,.admonition.failure>.admonition-title:before,.admonition.missing>.admonition-title:before{color:#ff5252;content:"\E14C"}.admonition.bug,.admonition.danger,.admonition.error{border-left-color:rgba(255,23,68,.8)}.admonition.bug>.admonition-title,.admonition.danger>.admonition-title,.admonition.error>.admonition-title{background-color:rgba(255,23,68,.1);border-bottom-color:rgba(255,23,68,.2)}.admonition.danger>.admonition-title:before{color:#ff1744;content:"\E3E7"}.admonition.error>.admonition-title:before{color:#ff1744;content:"\E14C"}.admonition.bug>.admonition-title:before{color:#ff1744;content:"\E868"}.admonition.example,.admonition.snippet{border-left-color:rgba(0,184,212,.8)}.admonition.example>.admonition-title,.admonition.snippet>.admonition-title{background-color:rgba(0,184,212,.1);border-bottom-color:rgba(0,184,212,.2)}.admonition.example>.admonition-title:before,.admonition.snippet>.admonition-title:before{color:#00b8d4;content:"\E242"}.admonition.cite,.admonition.quote{border-left-color:rgba(158,158,158,.8)}.admonition.cite>.admonition-title,.admonition.quote>.admonition-title{background-color:rgba(158,158,158,.1);border-bottom-color:rgba(158,158,158,.2)}.admonition.cite>.admonition-title:before,.admonition.quote>.admonition-title:before{color:#9e9e9e;content:"\E244"}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v19/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.markdown-preview.markdown-preview .caso_estudio {
  background-color: #f5f5f5;
  border: 2px solid #969696;
  padding: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .ejercicio {
  background-color: #f5faf5;
  border: 2px solid #969b96;
  padding-left: 15px;
  padding-right: 15px;
  margin-top: 15px;
  margin-bottom: 15px;
  border-radius: 5px;
  box-shadow: 0 0 7px 0 rgba(78, 120, 158, 0.1);
}
.markdown-preview.markdown-preview .contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.markdown-preview.markdown-preview .fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.markdown-preview.markdown-preview .cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.markdown-preview.markdown-preview .abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.markdown-preview.markdown-preview .cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.markdown-preview.markdown-preview .autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
.markdown-preview.markdown-preview .flotante {
  display: flex;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: center;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    justify-content: space-between;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante {
    flex-direction: row;
  }
}
.markdown-preview.markdown-preview .flotante_izq {
  margin-right: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_izq {
    width: auto;
  }
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: 100%;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .flotante_der {
    width: auto;
  }
}
.markdown-preview.markdown-preview .galeria_imagenes {
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  margin-top: 15px;
  margin-bottom: 15px;
}
@media (max-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: column;
  }
}
@media (min-width: 550px) {
  .markdown-preview.markdown-preview .galeria_imagenes {
    flex-direction: row;
  }
}

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="tema-41---scaffold">Tema 4.1 - Scaffold </h1>
<p>Descargar estos apuntes <a href="./Tema_4_1_scaffold.pdf">pdf</a> o <a href="./Tema_4_1_scaffold.html">html</a></p>
<h2 id="รญndice">รndice </h2>

<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#introducciรณn" class="md-toc-link"><p>Introducciรณn</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#diseรฑo-basado-en-ranuras" class="md-toc-link">
            <p>Diseรฑo basado en ranuras</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#scaffold" class="md-toc-link"><p>Scaffold</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#barras-superiores" class="md-toc-link"><p>Barras superiores</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#barras-de-aplicaciรณn-superiores-topappbars" class="md-toc-link">
            <p>Barras de aplicaciรณn superiores (TopAppBars)</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#barras-de-pestaรฑas-tabrow" class="md-toc-link">
            <p>Barras de pestaรฑas (TabRow)</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#barras-inferiores" class="md-toc-link"><p>Barras inferiores</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#barra-de-navegaciรณn-o-navigationbar" class="md-toc-link">
            <p>Barra de navegaciรณn o NavigationBar</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#barra-de-aplicaciรณn-inferior-o-bottomappbar" class="md-toc-link">
            <p>Barra de aplicaciรณn inferior o BottomAppBar</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#menรบs-desplegables" class="md-toc-link">
            <p>Menรบs desplegables</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#snackbars" class="md-toc-link">
            <p>Snackbars</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#hojas-desplegables" class="md-toc-link"><p>Hojas desplegables</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#navigation-drawer" class="md-toc-link">
            <p>Navigation Drawer</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#hoja-desplegable-inferior-bottom-sheet" class="md-toc-link">
            <p>Hoja desplegable inferior (Bottom Sheet)</p>

          </a></div>
        </div>
      </details>
    
</div>
<div style="page-break-after:always;"></div>
<h2 id="introducciรณn">Introducciรณn </h2>
<p>Aunque en temas anteriores hemos visto cรณmo maquetar componentes con los los layouts de la capa '<em>Foundation</em>', como <strong><code>Surface</code></strong>, <strong><code>Box</code></strong>, <strong><code>Column</code></strong>, <strong><code>Row</code></strong>, etc. en este tema vamos a ver un componente que nos facilita la maquetaciรณn de la pantalla, el <strong><a href="https://developer.android.com/jetpack/compose/components/scaffold?hl=es-419">Scaffold</a></strong>.</p>
<p><strong><code>Scaffold</code></strong> es un componente de la capa Material y por tanto vendrรก definido en la librerรญa de <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#Scaffold(androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function0,kotlin.Function0,kotlin.Function0,androidx.compose.material3.FabPosition,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)">Material 3</a></strong>.</p>
<h3 id="diseรฑo-basado-en-ranuras">Diseรฑo basado en ranuras </h3>
<ul>
<li>Documentaciรณn oficial: <strong><a href="https://developer.android.com/jetpack/compose/layouts/basics#slot-based-layouts">Slot-based layouts</a></strong></li>
</ul>
<p>Aunque al final del <strong>Tema 3.2</strong> ya se comentรณ. En este tema se va a profundizar en el concepto de <strong>Ranuras</strong> o '<em>Slots</em>'. Es en lo que se basa el diseรฑo de <strong>Scaffold</strong> y me permite definir componentes de maquetaciรณn con <strong>Marcos</strong> o '<em>Frames</em>' relacionados y que pueden colaborar entre sรญ a travรฉs de estados.</p>
<p>Veamos un ejemplo definiendo el tรญpico layout de una pantalla con una cabecera, un piรฉ de pรกgina, un menรบ lateral y un contenido central o cuerpo.</p>
<p>En primer lugar definimos un componente que nos permita definir un '<em>Frame</em>' o marco dentro de una maquetaciรณn personalizada. Este componente serรก un <strong><code>Surface</code></strong> con un borde y un radio de esquina que le darรก un aspecto de marco y <strong>emitirรก un composable contenido en su interior</strong>.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ScaffoldFrame</span><span class="token punctuation">(</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">,</span>
    contenido<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">,</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Surface</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> modifier<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
            Modifier
                <span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>inverseSurface<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span><span class="token function">RoundedCornerShape</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">contenido</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Posteriormente definimos el componente <strong><code>MiScaffold</code></strong> que nos permitirรก definir un layout personalizado con una cabecera, un menรบ, un cuerpo y un piรฉ de pรกgina. Siendo cada uno de ellos un <strong><code>ScaffoldFrame</code></strong> que emitirรก un contenido que se recibe en el parรกmetro de tipo <strong><code>@Composable () -&gt; Unit</code></strong> que serรก lo que denominaremos <strong>Ranura</strong> o '<em>Slot</em>'.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[3-6,11,16,17,19] }" class="language-kotlin kotlin" data-line="3-6,11,16,17,19"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">MiScaffold</span><span class="token punctuation">(</span>
    cabecera<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    menu<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    cuerpo<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    pie<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Column</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">ScaffoldFrame</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">cabecera</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        <span class="token function">Row</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier
            <span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">10f</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">ScaffoldFrame</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">2f</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
            <span class="token function">ScaffoldFrame</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">10f</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">cuerpo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token function">ScaffoldFrame</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">weight</span><span class="token punctuation">(</span><span class="token number">1f</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">pie</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3-6" data-start="3" data-end="6">



</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11" data-start="11">
</div></div><div class="line-highlight-wrapper">














<div aria-hidden="true" class="line-highlight" data-range="16" data-start="16">
</div></div><div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div><div class="line-highlight-wrapper">

















<div aria-hidden="true" class="line-highlight" data-range="19" data-start="19">
</div></div></pre><div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px">
<div style="width: 70%">
<p>Por รบltimo, vamos a definir un preview de nuestro componente <strong><code>MiScaffold</code></strong> para ver cรณmo se comporta, emitiendo en cada ranura un texto con el nombre de la ranura y un padding.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Preview</span><span class="token punctuation">(</span>showBackground <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">MiScaffoldPreview</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    EjemplosScaffoldTheme <span class="token punctuation">{</span>
        <span class="token function">MiScaffold</span><span class="token punctuation">(</span>
            cabecera <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Cabecera"</span></span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            menu <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Menu"</span></span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            cuerpo <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Cuerpo"</span></span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            pie <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Pie"</span></span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div style="width: auto">
<img height="400px" src="assets/imagenes/tema_4_1/mi_scaffold.png">  
</div>
</div>
<div style="page-break-after:always;"></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Puedes descargar el cรณdigo usado para todos los ejemplo de este tema del siguiente enlace: <strong><a href="assets/codigo/tema_4_1/ejemplos_scaffolding_recurso.zip">Proyecto ejemplos scaffolding</a></strong></p>
</div>
<h2 id="scaffold">Scaffold </h2>
<ul>
<li>
<p>Enlaces de interรฉs sobre <strong>Scaffold</strong></p>
<ul>
<li>Documentaciรณn oficial: <strong><a href="https://developer.android.com/jetpack/compose/components/scaffold?hl=es-419">Scaffold</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#Scaffold(androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function0,kotlin.Function0,kotlin.Function0,androidx.compose.material3.FabPosition,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)">Scaffold</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#BottomSheetScaffold(kotlin.Function1,androidx.compose.ui.Modifier,androidx.compose.material3.BottomSheetScaffoldState,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,kotlin.Function0,kotlin.Boolean,kotlin.Function0,kotlin.Function1,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,kotlin.Function1)">BottomSheetScaffold</a></strong></li>
<li>Video Tutorial (Inglรฉs) <strong><a href="https://www.youtube.com/watch?v=VxgWUdOKgtI">Philipp Lackner</a></strong></li>
</ul>
</li>
</ul>
<p>En Material Design, un '<em>scaffold</em>' o andamiaje es una estructura fundamental que proporciona una plataforma estandarizada para interfaces de usuario complejas. Mantiene diferentes partes de la IU, como las barras de la app y los botones de acciรณn flotantes, lo que les da a las apps un aspecto coherente.</p>
<p>Este componente proporciona una API para reunir varios componentes materiales para construir su pantalla, asegurando una estrategia de diseรฑo adecuada para ellos y recopilando los datos necesarios para que estos componentes funcionen juntos correctamente. Por ejemplo, si aparece un mensaje en un Snackbar, Scaffold se asegura de que el mensaje se muestre correctamente en la pantalla desplazando otros componentes como podrรญa ser un botรณn flotante.</p>
<p>Estos componentes que se pueden aรฑadir al Scaffold tambiรฉn definidos en Material 3 son:</p>
<ul>
<li><strong>Barras de aplicaciรณn</strong>:
<ul>
<li>Superiores <strong><code>TopAppBar</code></strong>, <strong><code>CenterAlignedTopAppBar</code></strong>, <strong><code>MediumTopAppBar</code></strong> o <strong><code>LargeTopAppBar</code></strong></li>
<li>Inferiores como <strong><code>BottomAppBar</code></strong> o <strong><code>NavigationBar</code></strong></li>
</ul>
</li>
<li><strong>Barras de mensaje</strong> o estado (<strong><code>SnackBar</code></strong>)</li>
<li><strong>Botones flotantes</strong> de acciรณn (<strong><code>Fab</code></strong>)</li>
<li><strong>Layouts desplegables</strong> inferiores no modales (<strong><code>BottomSheets</code></strong>)</li>
</ul>
<p>Puesto que todo estรก definido en el sistema de diseรฑo de Material, los componentes se combinan de forma coherente y se comportan de forma predecible y siguen las directrices de '<em>layout</em>' descritas en <strong><a href="https://m3.material.io/foundations/layout/understanding-layout/parts-of-layout">Material</a></strong>, en nuestro caso para <strong><a href="https://m3.material.io/foundations/layout/applying-layout/compact">pantallas compactas</a></strong>.</p>
<p>Ademรกs, dispones de la App para Android denominada <strong><a href="https://github.com/android/nowinandroid?tab=readme-ov-file">Now in Android</a></strong> que te permite ver cรณmo se comportan los diferentes componentes de Material 3 en un dispositivo real. Puedes descargarla desde <strong><a href="https://play.google.com/store/apps/details?id=com.google.samples.apps.nowinandroid&amp;pli=1">Google Play</a></strong>.</p>
<p>En el prototipo de de la funciรณn composable <strong><code>Scaffold</code></strong> podemos apreciar las diferentes <strong>ranuras</strong> o '<em>slots</em>' que nos permite definir:</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[4-7] }" class="language-kotlin kotlin" data-line="4-7"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">,</span>
    topBar<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    bottomBar<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    snackbarHost<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    floatingActionButton<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    floatingActionButtonPosition<span class="token operator">:</span> FabPosition <span class="token operator">=</span> FabPosition<span class="token punctuation">.</span>End<span class="token punctuation">,</span>
    containerColor<span class="token operator">:</span> Color <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>background<span class="token punctuation">,</span>
    contentColor<span class="token operator">:</span> Color <span class="token operator">=</span> <span class="token function">contentColorFor</span><span class="token punctuation">(</span>containerColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
    contentWindowInsets<span class="token operator">:</span> WindowInsets <span class="token operator">=</span> ScaffoldDefaults<span class="token punctuation">.</span>contentWindowInsets<span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span>PaddingValues<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit
<span class="token punctuation">)</span>
</code><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4-7" data-start="4" data-end="7">



</div></div></pre><p>Disponemos de otra funciรณn de prototipo <strong><code>BottomSheetScaffold</code></strong> que nos permite definir un layout con un contenido principal y <strong>un contenido secundario que se muestra en una hoja inferior desplegable no modal</strong>. Del protipo de la funciรณn composable <strong><code>BottomSheetScaffold</code></strong> deducir las diferentes <strong>ranuras</strong> o '<em>slots</em>' que nos permite definir que este tipo de Scaffold no es compatible con barras inferiores como <strong><code>BottomAppBar</code></strong> o <strong><code>NavigationBar</code></strong>, ni con botones flotantes de acciรณn (<strong><code>Fab</code></strong>).</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[3,5,15,16] }" class="language-kotlin kotlin" data-line="3,5,15,16"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BottomSheetScaffold</span><span class="token punctuation">(</span>
    sheetContent<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> ColumnScope<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">,</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">,</span>
    scaffoldState<span class="token operator">:</span> BottomSheetScaffoldState <span class="token operator">=</span> <span class="token function">rememberBottomSheetScaffoldState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    sheetPeekHeight<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>SheetPeekHeight<span class="token punctuation">,</span>
    sheetMaxWidth<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>SheetMaxWidth<span class="token punctuation">,</span>
    sheetShape<span class="token operator">:</span> Shape <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>ExpandedShape<span class="token punctuation">,</span>
    sheetContainerColor<span class="token operator">:</span> Color <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>ContainerColor<span class="token punctuation">,</span>
    sheetContentColor<span class="token operator">:</span> Color <span class="token operator">=</span> <span class="token function">contentColorFor</span><span class="token punctuation">(</span>sheetContainerColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
    sheetTonalElevation<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>Elevation<span class="token punctuation">,</span>
    sheetShadowElevation<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>Elevation<span class="token punctuation">,</span>
    sheetDragHandle<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token punctuation">{</span> BottomSheetDefaults<span class="token punctuation">.</span><span class="token function">DragHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    sheetSwipeEnabled<span class="token operator">:</span> Boolean <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    topBar<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
    snackbarHost<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span>SnackbarHostState<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">SnackbarHost</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    containerColor<span class="token operator">:</span> Color <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>surface<span class="token punctuation">,</span>
    contentColor<span class="token operator">:</span> Color <span class="token operator">=</span> <span class="token function">contentColorFor</span><span class="token punctuation">(</span>containerColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span>PaddingValues<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit
<span class="token punctuation">)</span><span class="token operator">:</span> Unit
</code><div class="line-highlight-wrapper">

<div aria-hidden="true" class="line-highlight" data-range="3" data-start="3">
</div></div><div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div><div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15" data-start="15">
</div></div><div class="line-highlight-wrapper">














<div aria-hidden="true" class="line-highlight" data-range="16" data-start="16">
</div></div></pre><div style="page-break-after:always;"></div>
<h3 id="barras-superiores">Barras superiores </h3>
<p>Cรณmo su nombre indica pueden ir situadas en la parte superior de la pantalla.</p>
<h4 id="barras-de-aplicaciรณn-superiores-topappbars">Barras de aplicaciรณn superiores (TopAppBars) </h4>
<ul>
<li>
<p>Enlaces de interรฉs de <strong>Barras de aplicaciรณn superiores</strong></p>
<ul>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#TopAppBar(kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function1,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.TopAppBarColors,androidx.compose.material3.TopAppBarScrollBehavior)">TopAppBar</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#BottomAppBar(androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.PaddingValues,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)">BottomAppBar</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#CenterAlignedTopAppBar(kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function1,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.TopAppBarColors,androidx.compose.material3.TopAppBarScrollBehavior)">CenterAlignedTopAppBar</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#MediumTopAppBar(kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function1,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.TopAppBarColors,androidx.compose.material3.TopAppBarScrollBehavior)">MediumTopAppBar</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#LargeTopAppBar(kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function1,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.TopAppBarColors,androidx.compose.material3.TopAppBarScrollBehavior)">LargeTopAppBar</a></strong></li>
<li>Video Tutorial (Inglรฉs) <strong><a href="https://www.youtube.com/watch?v=hQJpd78RUVg">Stevdza-San</a></strong></li>
<li>Video Tutorial (Inglรฉs) <strong><a href="https://www.youtube.com/watch?v=EqCvUETekjk">Philipp Lackner</a></strong></li>
</ul>
</li>
</ul>
<p>Especificaciones de uso en el sistema de diseรฑo de Material 3:</p>
<ol>
<li>
<p>Contiene un <strong>tรญtulo</strong> y <strong>acciones</strong> relacionadas con la <strong>pantalla actual</strong>. Por ejemplo, puede contener un <strong>botรณn de navegaciรณn</strong> para volver a la pantalla anterior, un <strong>menรบ desplegable</strong> para mostrar acciones adicionales y <strong>acciones</strong> para realizar tareas relacionadas con la pantalla actual.</p>
</li>
<li>
<p>Al desplazarse, aplica un color de relleno del contenedor para separar la barra de la aplicaciรณn del contenido del cuerpo, deben tener el mismo ancho que la ventana del dispositivo y no deben superponerse con el contenido del cuerpo.</p>
</li>
<li>
<p>Tendremos <strong>cuatro tipos</strong>: regular (o pequeรฑo), alineado al centro, mediano y grande. Aunque en dispositivos Compactos solo se recomienda el uso de los dos primeros <strong><code>TopAppBar</code></strong> y <strong><code>CenterAlignedTopAppBar</code></strong>.</p>
</li>
</ol>
<p>En <strong><code>EjemploToAppBar.kt</code></strong> de uso de <strong><code>TopAppBar</code></strong> en el cual le pasamos un parรกmetro de tipo <strong><code>TopAppBarScrollBehavior</code></strong> donde le definimos como se tiene que comportar ante un scroll en el contenido principal en el Scaffold.</p>
<p>En nuestro caso serรก de tipo ...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token keyword keyword-val">val</span> comportamientoAnteScroll <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">pinnedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><p>que harรก que se quede '<em>pinneada</em>' (fija) en la parte superior de la pantalla cuando se haga scroll, pero de acuerdo al sistema de Material cambie ligeramente su color de fondo indicando si tenemos scroll o no.</p>
<p>Otros valores pueden ser: <strong><code>enterAlwaysScrollBehavior()</code></strong> y <strong><code>exitUntilCollapsedScrollBehavior()</code></strong></p>
<p>Fรญjate que nos ofrece Ranuras o '<em>Slots</em>' para definir el tรญtulo, el icono de navegaciรณn y las acciones.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BarraAplicacion</span><span class="token punctuation">(</span>
    comportamientoAnteScroll<span class="token operator">:</span> TopAppBarScrollBehavior
<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">TopAppBar</span><span class="token punctuation">(</span>
    title <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token comment">// El texto en TopAppBar solo puede tener una lรญnea</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Tรญtulo de una lรญnea"</span></span><span class="token punctuation">,</span> maxLines <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> overflow <span class="token operator">=</span> TextOverflow<span class="token punctuation">.</span>Ellipsis<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    navigationIcon <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Icon</span><span class="token punctuation">(</span>painter <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>menu_24px<span class="token punctuation">)</span><span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    actions <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Icon</span><span class="token punctuation">(</span>painter <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>first_page_24px<span class="token punctuation">)</span><span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Icon</span><span class="token punctuation">(</span>painter <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>refresh_24px<span class="token punctuation">)</span><span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    scrollBehavior <span class="token operator">=</span> comportamientoAnteScroll
<span class="token punctuation">)</span>
</code></pre><p>El contenido del Scaffold serรก un <strong><code>LazyColumn</code></strong> que nos permitirรก hacer scroll.</p>
<div class="admonition tip">
<p class="admonition-title">Importante</p>
<p>Fรญjate que <strong><code>ContenidoPrincipalScaffold</code></strong> recibe un modificador, esto es porque el lambda que emite el contenido del Scaffold recibe un parรกmetro de tipo <strong><code>PaddingValues</code></strong> que ajustarรก este contenido respecto al resto de componentes del mismo.</p>
</div>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ContenidoPrincipalScaffold</span><span class="token punctuation">(</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> colors <span class="token operator">=</span> remember <span class="token punctuation">{</span> <span class="token function">listOf</span><span class="token punctuation">(</span><span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0xFF50A2E4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Color</span><span class="token punctuation">(</span><span class="token number">0xFFFFFFFF</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token function">LazyColumn</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> modifier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">items</span><span class="token punctuation">(</span>count <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Box</span><span class="token punctuation">(</span>
                Modifier
                    <span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span>it <span class="token operator">%</span> colors<span class="token punctuation">.</span>size<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Text</span><span class="token punctuation">(</span>text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">it</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>La variable <strong><code>comportamientoAnteScroll</code></strong> que pasamos a la  <strong><code>BarraAplicacion</code></strong> la tenemos que pasar el Scaffold como modificador que indique que debe propagar el evento de scroll travรฉs de ella a los elementos suscritos a ella.</p>
<pre data-role="codeBlock" data-info="kotlin {highlight=6}" class="language-kotlin kotlin" data-line="6"><code><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScroll <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">pinnedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        
        <span class="token comment">// Ranura que emite la barra de aplicaciรณn</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">BarraAplicacion</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        
        <span class="token comment">// Ranura que emite el contenido principal qeu recibe el padding</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoPrincipalScaffold</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div></pre><div style="page-break-after:always;"></div>
<p>Si ejecutamos <strong><code>PantallaConScroll</code></strong> en nuestro dispositivo virtual, veremos que la barra de aplicaciรณn se queda fija en la parte superior de la pantalla cuando hacemos scroll y ademรกs <strong>se oscurece ligeramente</strong> el color en el scroll.</p>
<div class="admonition warning">
<p class="admonition-title">Aviso</p>
<p>Este comportamiento de escurecimiento no se aprecia en la previsualizaciรณn de Android Studio pero sรญ en el dispositivo virtual.</p>
</div>
<div class="galeria_imagenes">
    <img height="200" src="assets/imagenes/tema_4_1/contenido_principal.png">
    <img height="200" src="assets/imagenes/tema_4_1/contenido_principal_con_scroll.png">
</div>
<div style="page-break-after:always;"></div>
<h3 id="barras-de-pestaรฑas-tabrow">Barras de pestaรฑas (TabRow) </h3>
<ul>
<li>
<p>Enlaces de interรฉs sobre <strong>Barras pestaรฑas</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#Tab(kotlin.Boolean,kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Boolean,kotlin.Function0,kotlin.Function0,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.foundation.interaction.MutableInteractionSource)">Tab</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#PrimaryTabRow(kotlin.Int,androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,kotlin.Function1,kotlin.Function0,kotlin.Function0)">PrimaryTabRow</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#SecondaryTabRow(kotlin.Int,androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,kotlin.Function1,kotlin.Function0,kotlin.Function0)">SecondaryTabRow</a></strong></p>
</li>
<li>
<p>Video Tutorial (Inglรฉs) <strong><a href="https://www.youtube.com/watch?v=2K3to2puVDM">Stevdza-San</a></strong></p>
</li>
<li>
<p>Video Tutorial (Inglรฉs) <strong><a href="https://www.youtube.com/watch?v=9r4st6dmyNE">Philipp Lackner</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>Especificaciones de uso en el sistema de diseรฑo de Material 3:</p>
<ol>
<li>
<p>Son รบtiles para <strong>agrupar contenido en categorรญas</strong>.</p>
</li>
<li>
<p>Pueden desplazarse horizontalmente con scroll.</p>
</li>
<li>
<p>Tambiรฉn pueden <strong>utilizarse para navegar</strong> entre pantallas horizontales en dispositivos compactos usando por ejemplo un <strong><code>HorizontalPager</code></strong> y deslizando con el dedo (<em>Swipe</em>). En este caso no se recomienda Scroll y por tanto tendremos mรกs de 3 o 4 pestaรฑas.</p>
</li>
<li>
<p>Se recomienda usar <strong><code>LazyGrid</code></strong> en el caso de mostrar algรบn tipo de colecciรณn.</p>
</li>
<li>
<p>Si el contenedor principal es scrollable, las pestaรฑas <strong>quedarรกn fijas</strong> y no se ocultarรกn verticalmente con el contenido.</p>
</li>
</ol>
<p>Tipos de pestaรฑas:</p>
<div class="flotante" ,="" style="align-items: center;">
<div class="flotante_izq">
<ol>
<li>
<p><strong>Pestaรฑas primarias</strong>: Con <strong><code>PrimaryTabRow</code></strong> y <strong><code>PrimaryScrollableTabRow</code></strong></p>
<ul>
<li>En estas pestaรฑas tendremos un icono y un texto.</li>
<li>Estรกs estรกn <strong>situadas en la parte superior de la pantalla</strong>, justo debajo de la barra de aplicaciรณn.</li>
<li>Pueden tener un componente <strong><code>Badge</code></strong> visto en temas anteriores de forma opcional.</li>
</ul>
</li>
</ol>
</div>
<div class="flotante_der">
    <img width="300px" src="assets/imagenes/tema_4_1/primary_tab.png">
</div>
</div>
<div class="flotante" ,="" style="align-items: center;">
<div class="flotante_izq">
<ol start="2">
<li>
<p><strong>Pestaรฑas secundarias</strong>: Con <strong><code>SecondaryTabRow</code></strong> y <strong><code>SecondaryScrollableTabRow</code></strong></p>
<ul>
<li>En estas pestaรฑas tendremos solo un texto.</li>
<li>Pueden estar situadas en contenido intermedio de la pantalla, separando contenido relacionado de forma jerรกrquica.</li>
</ul>
</li>
</ol>
</div>
<div class="flotante_der">
    <img width="350px" src="assets/imagenes/tema_4_1/secondary_tab.png">
</div>
</div>
<div style="page-break-after:always;"></div>
<p>En <strong><code>EjemploTabs.kt</code></strong> tienes una ejemplo de uso de <strong><code>PrimaryTabRow</code></strong> bajo un <strong><code>TopAppBar</code></strong>.</p>
<p>Definimos un componente con nuestras pestaรฑas. Fรญjate que <strong>necesitamos un estado con un รญndice</strong> que nos indique la pestaรฑa seleccionada. Esto va ha hacer muy sencillo su uso con <strong><code>HorizontalPager</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">Tabs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> tabIndexState <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> titlesAndIcons <span class="token operator">=</span> remember <span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span>
            <span class="token string-literal singleline"><span class="token string">"Todos"</span></span> <span class="token keyword keyword-to">to</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_1_24px<span class="token punctuation">,</span>
            <span class="token string-literal singleline"><span class="token string">"Pares"</span></span> <span class="token keyword keyword-to">to</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_2_24px<span class="token punctuation">,</span>
            <span class="token string-literal singleline"><span class="token string">"Impares"</span></span> <span class="token keyword keyword-to">to</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_3_24px
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">PrimaryTabRow</span><span class="token punctuation">(</span>selectedTabIndex <span class="token operator">=</span> tabIndexState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        titlesAndIcons<span class="token punctuation">.</span><span class="token function">forEachIndexed</span> <span class="token punctuation">{</span> index<span class="token punctuation">,</span> <span class="token punctuation">(</span>title<span class="token punctuation">,</span> icon<span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
            <span class="token function">Tab</span><span class="token punctuation">(</span>
                selected <span class="token operator">=</span> tabIndexState <span class="token operator">==</span> index<span class="token punctuation">,</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span> tabIndexState <span class="token operator">=</span> index <span class="token punctuation">}</span><span class="token punctuation">,</span>
                text <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>
                    text <span class="token operator">=</span> title<span class="token punctuation">,</span>
                    maxLines <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
                    overflow <span class="token operator">=</span> TextOverflow<span class="token punctuation">.</span>Ellipsis<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                icon <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Icon</span><span class="token punctuation">(</span><span class="token function">painterResource</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Como sucedรญa antes, es importante que apliquemos un <strong><code>padding</code></strong> al contenedor principal del Scaffold para que no se solape con las pestaรฑas. Puedes verlo en el siguiente cรณdigo...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ContenidoTabs</span><span class="token punctuation">(</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Column</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> modifier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Tabs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">LazyVerticalGrid</span><span class="token punctuation">(</span>
            columns <span class="token operator">=</span> GridCells<span class="token punctuation">.</span><span class="token function">Adaptive</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">items</span><span class="token punctuation">(</span>count <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">ElevatedCard</span><span class="token punctuation">(</span>
                    modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">widthIn</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">Text</span><span class="token punctuation">(</span>
                        text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">it</span></span><span class="token string">"</span></span><span class="token punctuation">,</span>
                        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                        textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Center
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Tambiรฉn hemos aplicado un nuevo comportamiento de scroll a la barra de aplicaciรณn, en este caso <strong><code>enterAlwaysScrollBehavior()</code></strong> que harรก que la barra de aplicaciรณn se oculte cuando hacemos scroll hacia abajo y se muestre cuando volvemos con el scroll al primer elemento.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=4 }" class="language-kotlin kotlin" data-line="4"><code><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConTabs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScroll <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">exitUntilCollapsedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">BarraAplicacionTabs</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoTabs</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div></pre><div class="galeria_imagenes">
    <img height="200" src="assets/imagenes/tema_4_1/tabs_sin_scroll.png">
    <img height="200" src="assets/imagenes/tema_4_1/tabs_con_scroll.png">
</div>
<h3 id="barras-inferiores">Barras inferiores </h3>
<p>Son barras cuyo uso puede llevar a confusiรณn ya que estรกn situadas en la misma posiciรณn. Por esta razรณn, vamos a tratar de extraer unas pautas de uso de la documentaciรณn oficial de Material 3.</p>
<h4 id="barra-de-navegaciรณn-o-navigationbar">Barra de navegaciรณn o NavigationBar </h4>
<ul>
<li>
<p>Enlaces de interรฉs de <strong>NavigationBar</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#NavigationBar(androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)">NavigationBar</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#(androidx.compose.foundation.layout.RowScope).NavigationBarItem(kotlin.Boolean,kotlin.Function0,kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Boolean,kotlin.Function0,kotlin.Boolean,androidx.compose.material3.NavigationBarItemColors,androidx.compose.foundation.interaction.MutableInteractionSource)">NavigationBarItem</a></strong></p>
</li>
<li>
<p>Video Tutorial (Inglรฉs) <strong><a href="https://www.youtube.com/watch?v=gg-KBGH9T8s">Stevdza-San</a></strong></p>
</li>
<li>
<p>Video Tutorial (Inglรฉs) <strong><a href="https://www.youtube.com/watch?v=c8XP_Ee7iqY">Philipp Lackner</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>Especificaciones de uso en el sistema de diseรฑo de Material 3:</p>
<ol>
<li>
<p>Las barras de navegaciรณn ofrecen una forma persistente y correcta de cambiar entre destinos primarios en una app con <strong>layout compacto</strong>. Con persistente nos referimos a que siempre estรกn visibles y ademรกs no cambian a lo largo de la ejecuciรณn.</p>
</li>
<li>
<p>Solo deben contener de <strong>tres a cinco</strong> elementos de navegaciรณn, cada uno de ellos representando un <strong>destino singular en la misma jerarquรญa</strong> y sin ningรบn tipo de Scroll.</p>
</li>
<li>
<p>Las posicionaremos en la ranura o '<em>slot</em>' <strong><code>bottomBar</code></strong> del <strong><code>Scaffold</code></strong>.</p>
</li>
<li>
<p>Aunque se pueden representar solo con un icono, se recomienda que tengan un texto corto que describa el destino. Ademรกs, opcionalmente tambiรฉn pueden representar un Badge.</p>
</li>
<li>
<p>Aunque, como sucede con <strong><code>TabRow</code></strong>, tenemos un รญndice que nos indica el elemento seleccionado. No debemos deslizar ('<em>Swipe</em>') y por tanto, <strong>no podemos usar <code>HorizontalPager</code> para navegar entre los elementos de la barra de navegaciรณn</strong>.</p>
</li>
</ol>
<div style="page-break-after:always;"></div>
<p>En <strong><code>EjemploNavigationBar.kt</code></strong> tienes un ejemplo sencillo de cรณmo implementar este componente.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Mรกs adelante veremos como gestionar la navegaciรณn de forma mรกs adecuada con el sistema de navegaciรณn de Jetpack Compose.</p>
</div>
<p>Puesto que no vamos a implementar una navegaciรณn como tal, vamos ha hacer que el componente que muestra el contenido principal del Scaffold reciba un รญndice que nos indique el elemento seleccionado de la barra de navegaciรณn, cambiando su contenido en funciรณn del mismo.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ContenidoPrincipalNavBar</span><span class="token punctuation">(</span>
    indexScreenState<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> backgroundColor <span class="token operator">=</span> <span class="token keyword keyword-when">when</span> <span class="token punctuation">(</span>indexScreenState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token number">0</span> <span class="token operator">-&gt;</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>primaryContainer
        <span class="token number">1</span> <span class="token operator">-&gt;</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>secondaryContainer
        <span class="token keyword keyword-else">else</span> <span class="token operator">-&gt;</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>tertiaryContainer
    <span class="token punctuation">}</span>
    <span class="token function">Box</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> modifier<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
            Modifier
                <span class="token punctuation">.</span><span class="token function">fillMaxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>color <span class="token operator">=</span> backgroundColor<span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        contentAlignment <span class="token operator">=</span> Alignment<span class="token punctuation">.</span>BottomCenter
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Text</span><span class="token punctuation">(</span>
            modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>bottom <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">,</span>
            text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Pantalla </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">indexScreenState <span class="token operator">+</span> <span class="token number">1</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span>
            textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Center<span class="token punctuation">,</span>
            style <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>typography<span class="token punctuation">.</span>headlineLarge
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>La barra de navegaciรณn, al igual que deberรญamos haber hecho con TabRow, recibirรก el รญndice del elemento seleccionado y un callback que nos permitirรก cambiar el รญndice cuando se pulse sobre un elemento de la barra de navegaciรณn.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">NavBar</span><span class="token punctuation">(</span>
    indexScreenState<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    onNavigateToScreen<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> titlesAndIcons <span class="token operator">=</span> remember <span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span>
            <span class="token string-literal singleline"><span class="token string">"Pantalla 1"</span></span> <span class="token keyword keyword-to">to</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_1_24px<span class="token punctuation">,</span>
            <span class="token string-literal singleline"><span class="token string">"Pantalla 2"</span></span> <span class="token keyword keyword-to">to</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_2_24px<span class="token punctuation">,</span>
            <span class="token string-literal singleline"><span class="token string">"Pantalla 3"</span></span> <span class="token keyword keyword-to">to</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_3_24px
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    NavigationBar <span class="token punctuation">{</span>
        titlesAndIcons<span class="token punctuation">.</span><span class="token function">forEachIndexed</span> <span class="token punctuation">{</span> index<span class="token punctuation">,</span> <span class="token punctuation">(</span>title<span class="token punctuation">,</span> icon<span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
            <span class="token function">NavigationBarItem</span><span class="token punctuation">(</span>
                icon <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Icon</span><span class="token punctuation">(</span>painter <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> title<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                label <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                selected <span class="token operator">=</span> indexScreenState <span class="token operator">==</span> index<span class="token punctuation">,</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">onNavigateToScreen</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>Por รบltimo, al componer nuestro <strong><code>Scaffold</code></strong>. En la ranura o '<em>slot</em>' <strong><code>bottomBar</code></strong> emitiremos nuestro componente <strong><code>NavBar</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[9-14] }" class="language-kotlin kotlin" data-line="9-14"><code><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaNavBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-var">var</span> indexScreenState <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScroll <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">pinnedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">BarraAplicacionNavBar</span><span class="token punctuation">(</span>comportamientoAnteScroll<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        bottomBar <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">NavBar</span><span class="token punctuation">(</span>
                indexScreenState <span class="token operator">=</span> indexScreenState<span class="token punctuation">,</span>
                onNavigateToScreen <span class="token operator">=</span> <span class="token punctuation">{</span> indexScreenState <span class="token operator">=</span> it <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoPrincipalNavBar</span><span class="token punctuation">(</span>
                indexScreenState <span class="token operator">=</span> indexScreenState<span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">







<div aria-hidden="true" class="line-highlight" data-range="9-14" data-start="9" data-end="14">





</div></div></pre><p>Como puedes ver en las imรกgenes de abajo donde se muestra un ejemplo de ejecuciรณn, el elemento de la navegaciรณn seleccionado se muestra resaltado respecto al resto.</p>
<div class="galeria_imagenes">
    <img height="200" src="assets/imagenes/tema_4_1/navbar_p1.png">
    <img height="200" src="assets/imagenes/tema_4_1/navbar_p3.png">
</div>
<div style="page-break-after:always;"></div>
<h4 id="barra-de-aplicaciรณn-inferior-o-bottomappbar">Barra de aplicaciรณn inferior o BottomAppBar </h4>
<ul>
<li>
<p>Enlaces de interรฉs de <strong>BottomAppBar</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#BottomAppBar(kotlin.Function1,androidx.compose.ui.Modifier,kotlin.Function0,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.PaddingValues,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.BottomAppBarScrollBehavior)">BottomAppBar</a></strong></p>
</li>
<li>
<p>Video Tutorial (Inglรฉs) <strong><a href="https://www.youtube.com/watch?v=Dlav7VIAQ3E">Philipp Lackner</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>Si nos vamos a la documentaciรณn oficial de la implementaciรณn del sistema de diseรฑo de Material 3 para Jetpack Compose, veremos que hay diferentes sobrecargas de la funciรณn composable <strong><code>BottomAppBar</code></strong>, resultado de la evoluciรณn de este componente en el sistema. Nosotros vamos a centrarnos en este interfaz que es el que mรกs se ajusta a las especificaciones de Material Design.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[4,6,10,12] }" class="language-kotlin kotlin" data-line="4,6,10,12"><code><span class="token annotation builtin">@ExperimentalMaterial3Api</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BottomAppBar</span><span class="token punctuation">(</span>
    actions<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> RowScope<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">,</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">,</span>
    floatingActionButton<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token annotation builtin">@Composable</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">)</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">,</span>
    containerColor<span class="token operator">:</span> Color <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>containerColor<span class="token punctuation">,</span>
    contentColor<span class="token operator">:</span> Color <span class="token operator">=</span> <span class="token function">contentColorFor</span><span class="token punctuation">(</span>containerColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
    tonalElevation<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>ContainerElevation<span class="token punctuation">,</span>
    contentPadding<span class="token operator">:</span> PaddingValues <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>ContentPadding<span class="token punctuation">,</span>
    windowInsets<span class="token operator">:</span> WindowInsets <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>windowInsets<span class="token punctuation">,</span>
    scrollBehavior<span class="token operator">:</span> BottomAppBarScrollBehavior<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword keyword-null">null</span>
<span class="token punctuation">)</span><span class="token operator">:</span> Unit
</code><div class="line-highlight-wrapper">


<div aria-hidden="true" class="line-highlight" data-range="4" data-start="4">
</div></div><div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div><div class="line-highlight-wrapper">








<div aria-hidden="true" class="line-highlight" data-range="10" data-start="10">
</div></div><div class="line-highlight-wrapper">










<div aria-hidden="true" class="line-highlight" data-range="12" data-start="12">
</div></div></pre><p>En รฉl podemos ver que tenemos una ranura o '<em>slot</em>' para definir las acciones, otra para definir un botรณn flotante de acciรณn y otra para definir el comportamiento ante el scroll en el contenedor principal del Scaffold huรฉsped.</p>
<p>Fรญjate que en otros prototipos de la funciรณn composable <strong><code>BottomAppBar</code></strong> como la siguiente, no tenemos ranura para definir el comportamiento ante el scroll y solo tenemos una ranura o '<em>slot</em>' para definir el contenido en un <strong><code>RowScope</code></strong> del componente.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=9 }" class="language-kotlin kotlin" data-line="9"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BottomAppBar</span><span class="token punctuation">(</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier<span class="token punctuation">,</span>
    containerColor<span class="token operator">:</span> Color <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>containerColor<span class="token punctuation">,</span>
    contentColor<span class="token operator">:</span> Color <span class="token operator">=</span> <span class="token function">contentColorFor</span><span class="token punctuation">(</span>containerColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
    tonalElevation<span class="token operator">:</span> Dp <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>ContainerElevation<span class="token punctuation">,</span>
    contentPadding<span class="token operator">:</span> PaddingValues <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>ContentPadding<span class="token punctuation">,</span>
    windowInsets<span class="token operator">:</span> WindowInsets <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>windowInsets<span class="token punctuation">,</span>
    content<span class="token operator">:</span> <span class="token annotation builtin">@Composable</span> RowScope<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit
<span class="token punctuation">)</span><span class="token operator">:</span> Unit
</code><div class="line-highlight-wrapper">







<div aria-hidden="true" class="line-highlight" data-range="9" data-start="9">
</div></div></pre><p>Especificaciones de uso en el sistema de diseรฑo de Material 3:</p>
<ol>
<li>Mostrar acciones para la pantalla actual. Algo similar a lo que hacรญamos con la <strong><code>TopAppBar</code></strong>, pero aquรญ tenemos mรกs espacio y podrรญamos <strong>mostrar de dos hasta cinco acciones</strong> sin dejar algunas de ellas de forma implรญcita en un menรบ desplegable de desbordamiento (overflow menu) y siendo mรกs accesibles para el usuario con el pulgar.</li>
<li>Podemos mostrar un <strong>botรณn flotante de acciรณn</strong> FAB que nos permita realizar una acciรณn de <strong>especial relevancia</strong> para la pantalla actual. Obviamente si definimos dicho FAB en la ranura o '<em>slot</em>' <strong><code>floatingActionButton</code></strong> no tiene sentido definirlo en la ranura o '<em>slot</em>' <strong><code>bottomBar</code></strong> del <strong><code>Scaffold</code></strong>.</li>
<li>Material permite que alguna de estas acciones desencadenen la navegaciรณn a alguna otra pantalla.</li>
<li>Esta permitido un menรบ desplegable de desbordamiento com mรกs acciones <strong>al principio</strong>.</li>
<li>Si se muestra un <strong><code>SnackBar</code></strong>, este se mostrarรก <strong>por encima</strong> de la barra de aplicaciรณn inferior y nunca la ocultarรก o se mostrarรก contenido en la misma debajo.</li>
<li>Pueden desaparecer al hacer scroll hacia arriba y aparecer al hacer scroll hacia abajo.</li>
<li>Estรกn permitidas transiciones entre acciones y <strong><code>FAB</code></strong> segรบn el elemento seleccionado en la pantalla.</li>
</ol>
<p>Em <strong><code>EjemploBottomBar.kt</code></strong> tenemos un ejemplo sencillo de cรณmo usar este componente siguiendo las especificaciones de Material Design. En รฉl, vamos a implementar un <strong><code>Scaffold</code></strong> sencillo con una barra de aplicaciรณn inferior que tendrรก un FAB y unas acciones. Ademรกs, el contenido principal del <strong><code>Scaffold</code></strong> serรก un <strong><code>LazyColumn</code></strong> con una lista de items que nos permitirรก hacer scroll y cuando seleccionemos un elemento las acciones y el FAB serรกn referentes al elemento seleccionado y cuando no lo estรฉn serรกn otros generales a la lista de items. Por รบltimo, vamos a definir un comportamiento ante el scroll que harรก que la barra de aplicaciรณn inferior se oculte cuando hacemos scroll hacia arriba junto con la barra de aplicaciรณn superior.</p>
<p>En las siguientes imรกgenes puedes ver un ejemplo del funcionamiento descrito anteriormente.</p>
<div class="galeria_imagenes">
    <img height="250" src="assets/imagenes/tema_4_1/bottomAppBar1.png">
    <img height="250" src="assets/imagenes/tema_4_1/bottomAppBar2.png">
    <img height="250" src="assets/imagenes/tema_4_1/bottomAppBar3.png">
</div>
<p>El contenedor principal, permitirรก seleccionar y deseleccionar un elemento de la lista de items. Para ello, recibirรก un estado que nos indique el elemento seleccionado y un callback que nos permitirรก cambiar el estado cuando se pulse sobre un elemento de la lista.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ContenidoPrincipalScaffoldConBarraAppInferior</span><span class="token punctuation">(</span>
    itemSeleccionadoState<span class="token operator">:</span> Int<span class="token operator">?</span><span class="token punctuation">,</span>
    onSeleccionarItem<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">,</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">LazyColumn</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> modifier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">items</span><span class="token punctuation">(</span>count <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Surface</span><span class="token punctuation">(</span>
                color <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">==</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>secondary
                <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                    MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>secondaryContainer
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier
                    <span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">clickable</span> <span class="token punctuation">{</span> <span class="token function">onSeleccionarItem</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">}</span>
                    <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span>
                        width <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span>
                        color <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>onSurface<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>alpha <span class="token operator">=</span> <span class="token number">0.12f</span><span class="token punctuation">)</span>
                    <span class="token punctuation">)</span>
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Text</span><span class="token punctuation">(</span>
                    text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">it</span></span><span class="token string">"</span></span><span class="token punctuation">,</span>
                    modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    fontWeight <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">==</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        FontWeight<span class="token punctuation">.</span>ExtraBold
                    <span class="token punctuation">}</span> <span class="token keyword keyword-else">else</span> <span class="token punctuation">{</span>
                        FontWeight<span class="token punctuation">.</span>Normal
                    <span class="token punctuation">}</span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>El componente que muestra el <strong><code>Scaffold</code></strong> gestionarรก el estado del elemento seleccionado (recuerda que esto deberรญa '<em>ascender</em>' algรบn tipo de ViewModel) asรญ como pasarรก al scaffold los observers que notificarรกn el scroll. Por รบltimo, fรญjate en la lรญneas resaltadas que dependiendo de si hay un elemento seleccionado o no se emitirรก un <strong><code>BottomAppBar</code></strong> u otro.</p>
<pre data-role="codeBlock" data-info="kotlin {highlight=[15-20]}" class="language-kotlin kotlin" data-line="15-20"><code><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConScrollConBarraAppInferior</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScrollSup <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">exitUntilCollapsedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScrollInf <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span><span class="token function">exitAlwaysScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-var">var</span> itemSeleccionadoState<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> onSeleccionarItem<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span>
        itemSeleccionadoState <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> it<span class="token punctuation">)</span> it <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-null">null</span>
    <span class="token punctuation">}</span>
    <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier
            <span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScrollInf<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScrollSup<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">BarraAppSuperiorConBarraAppInferior</span><span class="token punctuation">(</span>comportamientoAnteScrollSup<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        bottomBar <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">==</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
                <span class="token function">BarraAppInferiorSinSeleccion</span><span class="token punctuation">(</span>comportamientoAnteScrollInf<span class="token punctuation">)</span>
            <span class="token keyword keyword-else">else</span>
                <span class="token function">BarraAppInferiorSeleccion</span><span class="token punctuation">(</span>comportamientoAnteScrollInf<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoPrincipalScaffoldConBarraAppInferior</span><span class="token punctuation">(</span>
                itemSeleccionadoState <span class="token operator">=</span> itemSeleccionadoState<span class="token punctuation">,</span>
                onSeleccionarItem <span class="token operator">=</span> onSeleccionarItem<span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15-20" data-start="15" data-end="20">





</div></div></pre><p>Por รบltimo, vamos a ver cรณmo serรญa el composable que emite la barra de aplicaciรณn inferior cuando no hay ningรบn elemento seleccionado. La otra barra de aplicaciรณn inferior serรญa muy similar, pero con un FAB y unas acciones diferentes.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BarraAppInferiorSinSeleccion</span><span class="token punctuation">(</span>
    comportamientoAnteScroll<span class="token operator">:</span> BottomAppBarScrollBehavior
    <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span><span class="token function">exitAlwaysScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> descripcionEIconos <span class="token operator">=</span> remember <span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span>
            <span class="token string-literal singleline"><span class="token string">"Buscar Items"</span></span> <span class="token keyword keyword-to">to</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>search_24px<span class="token punctuation">,</span>
            <span class="token string-literal singleline"><span class="token string">"Filtrar Items"</span></span> <span class="token keyword keyword-to">to</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_list_24px<span class="token punctuation">,</span>
            <span class="token string-literal singleline"><span class="token string">"Ordenar Items"</span></span> <span class="token keyword keyword-to">to</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sort_by_alpha_24px
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">BottomAppBar</span><span class="token punctuation">(</span>
        actions <span class="token operator">=</span> <span class="token punctuation">{</span>
            descripcionEIconos<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>descripcion<span class="token punctuation">,</span> icono<span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
                <span class="token function">IconButton</span><span class="token punctuation">(</span>
                    onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">Icon</span><span class="token punctuation">(</span>
                        painter <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>icono<span class="token punctuation">)</span><span class="token punctuation">,</span>
                        tint <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>secondary<span class="token punctuation">,</span>
                        contentDescription <span class="token operator">=</span> descripcion
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        floatingActionButton <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">FloatingActionButton</span><span class="token punctuation">(</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">/* do something */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                containerColor <span class="token operator">=</span> BottomAppBarDefaults<span class="token punctuation">.</span>bottomAppBarFabColor<span class="token punctuation">,</span>
                contentColor <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>colorScheme<span class="token punctuation">.</span>primary<span class="token punctuation">,</span>
                elevation <span class="token operator">=</span> FloatingActionButtonDefaults<span class="token punctuation">.</span><span class="token function">bottomAppBarFabElevation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Icon</span><span class="token punctuation">(</span>painter <span class="token operator">=</span> Filled<span class="token punctuation">.</span><span class="token function">getAddIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"Localized description"</span></span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        scrollBehavior <span class="token operator">=</span> comportamientoAnteScroll
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<h3 id="menรบs-desplegables">Menรบs desplegables </h3>
<ul>
<li>
<p>Enlaces de interรฉs de <strong>Menรบs desplegables</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#DropdownMenu(kotlin.Boolean,kotlin.Function0,androidx.compose.ui.Modifier,androidx.compose.ui.unit.DpOffset,androidx.compose.foundation.ScrollState,androidx.compose.ui.window.PopupProperties,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,androidx.compose.foundation.BorderStroke,kotlin.Function1)">DropdownMenu</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#DropdownMenuItem(kotlin.Function0,kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function0,kotlin.Boolean,androidx.compose.material3.MenuItemColors,androidx.compose.foundation.layout.PaddingValues,androidx.compose.foundation.interaction.MutableInteractionSource)">DropdownMenuItem</a></strong></p>
</li>
<li>
<p>Video Tutorial (Castellano) <strong><a href="https://www.youtube.com/watch?v=dxBiEXvwSDk">Gibrรกn Garcรญa</a></strong></p>
</li>
<li>
<p>Video Tutorial (Inglรฉs) <strong><a href="https://www.youtube.com/watch?v=QCSJfMqQY9A">Philipp Lackner</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>Es un elemento tradicional de las interfaces de usuario que nos permite mostrar un menรบ de acciones/opciones desplegable.</p>
<p>Especificaciones de uso en el sistema de diseรฑo de Material 3:</p>
<ol>
<li>
<p>Se pueden dar en diferentes contextos, pero los principales son:</p>
<ul>
<li><strong>En la TopAppbar</strong>: En este caso, el menรบ desplegable se mostrarรก en la parte inferior de la barra de aplicaciรณn y se desplegarรก hacia abajo. Normalmente, se mostrarรก un <strong>menรบ desplegable de desbordamiento</strong> con acciones que no caben en la barra de aplicaciรณn <strong>simbolizado por tres puntos verticales</strong>.</li>
<li><strong>De forma contextual</strong>: Realizaremos un <strong>tap largo sobre un elemento</strong> de la interfaz de usuario y se mostrarรก un menรบ desplegable con acciones relacionadas con el elemento seleccionado.</li>
<li><strong>El tradicional <code>TextField</code> Desplegable</strong>: Implementado con el componente <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#ExposedDropdownMenuBox(kotlin.Boolean,kotlin.Function1,androidx.compose.ui.Modifier,kotlin.Function1)">ExposedDropdownMenuBox</a></strong> en el sistema de Material 3. Me permitirรก seleccionar un elemento de una lista de elementos dentro de un campo de texto con un menรบ desplegable.</li>
<li><strong>En chips de filtrado</strong>: Donde se ofrecerรก una serie de opciones de filtrado simple.</li>
</ul>
</li>
<li>
<p>Pueden tener, de forma opcional, una lรญnea de separaciรณn entre grupos de elementos usando <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#HorizontalDivider(androidx.compose.ui.Modifier,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Color)">HorizontalDivider</a></strong></p>
</li>
<li>
<p>Pueden contener submenรบs desplegables, pero en dispositivos compactos no se recomienda usarlos.</p>
</li>
</ol>
<div style="page-break-after:always;"></div>
<p>En <strong><code>EjemploDropDownMenu.kt</code></strong> dispones de un ejemplo anรกlogo al que hemos visto en la barra de aplicaciรณn inferior pero en este caso con un menรบ desplegable de desbordamiento en la barra de aplicaciรณn superior.</p>
<p>Como antes, vamos a tener la posibilidad de seleccionar un item dentro de una lista,  si estรก seleccionado las acciones y por tanto el menรบ de desbordamiento serรกn unas y si no lo estรก, serรกn otras. Tal y como se muestra en el siguiente ejemplo de ejecuciรณn.</p>
<div class="galeria_imagenes">
    <img height="200" src="assets/imagenes/tema_4_1/dropdown_menu1.png">
    <img height="200" src="assets/imagenes/tema_4_1/dropdown_menu2.png">
</div>
<p>En primer lugar, para no repetir mucho cรณdigo vamos a definir un <strong>componente reutilizable</strong> que nos permita mostrar un menรบ desplegable de desbordamiento en la barra de aplicaciรณn superior, de tal manera que la primera acciรณn se muestre directamente en la barra y el resto de forma elรญptica a travรฉs del menรบ desplegable.</p>
<p>En primer lugar, por ejemplo, podemos definir una clase de datos que nos permita definir un item del menรบ desplegable de desbordamiento, incluyendo un callback que se ejecutarรก cuando se pulse sobre el item.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token comment">// Indica a Compose sus objetos son inmutable </span>
<span class="token comment">// y por tanto puede optimizar su renderizado</span>
<span class="token annotation builtin">@Immutable</span> 
<span class="token keyword keyword-data">data</span> <span class="token keyword keyword-class">class</span> <span class="token function">ItemMenuDesplegable</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-val">val</span> icono<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    <span class="token keyword keyword-val">val</span> descripcion<span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token keyword keyword-val">val</span> onClick<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit
<span class="token punctuation">)</span>
</code></pre><p>Ahora definiremos un componente <strong><code>AccionesConMenuDesplegable</code></strong> que recibe una lista de <strong><code>ItemMenuDesplegable</code></strong> que como precondiciรณn debe tener al menos 3 elementos. Esto es, si no hay 3 elementos o mรกs, se lanzarรก una excepciรณn ya que el menรบ de desbordamiento no tendrรญa sentido. Ya que, el primer elemento serรก el que se muestre en la barra de aplicaciรณn y el resto se mostrarรกn en el menรบ desplegable de desbordamiento (<strong>al menos 2</strong>).</p>
<div style="page-break-after:always;"></div>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">AccionesConMenuDesplegable</span><span class="token punctuation">(</span>
    itemsMenu <span class="token operator">:</span> List<span class="token operator">&lt;</span>ItemMenuDesplegable<span class="token operator">&gt;</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Precondiciรณn de uso</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemsMenu<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token keyword keyword-throw">throw</span> <span class="token function">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Se requieren al menos 3 items en el menรบ desplegable"</span></span><span class="token punctuation">)</span>
    <span class="token keyword keyword-var">var</span> expandidoState <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> cerrarMenu<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span> expandidoState <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>

    <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> itemsMenu<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>onClick<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Icon</span><span class="token punctuation">(</span>
            painter <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>itemsMenu<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>icono<span class="token punctuation">)</span><span class="token punctuation">,</span>
            contentDescription <span class="token operator">=</span> itemsMenu<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>descripcion
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">{</span> expandidoState <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Icon</span><span class="token punctuation">(</span>painter <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>more_vert_24px<span class="token punctuation">)</span><span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">DropdownMenu</span><span class="token punctuation">(</span>
        expanded <span class="token operator">=</span> expandidoState<span class="token punctuation">,</span>
        onDismissRequest <span class="token operator">=</span> cerrarMenu
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span>i <span class="token keyword keyword-in">in</span> <span class="token number">1</span><span class="token operator">..</span><span class="token operator">&lt;</span>itemsMenu<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">DropdownMenuItem</span><span class="token punctuation">(</span>
                text <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>itemsMenu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>descripcion<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span>
                    itemsMenu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>onClick
                    <span class="token function">cerrarMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                leadingIcon <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token function">Icon</span><span class="token punctuation">(</span>
                        painter <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>itemsMenu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>icono<span class="token punctuation">)</span><span class="token punctuation">,</span>
                        contentDescription <span class="token operator">=</span> itemsMenu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>descripcion
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Fรญjate que a travรฉs de un estado <strong><code>expandidoState</code></strong> controlamos si el menรบ desplegable estรก expandido o no. Ademรกs, tenemos un callback <strong><code>cerrarMenu</code></strong> que nos permitirรก cerrar el menรบ desplegable cuando se pulse sobre un item del mismo o se pulse fuera del menรบ desplegable desechรกndolo.</p>
<p>Ya podemos usar nuestro componente <strong><code>AccionesConMenuDesplegable</code></strong> en el <strong><code>Scaffold</code></strong>. Para ello definiremos, dos listas de <strong><code>ItemMenuDesplegable</code></strong>. Una para cuando no hay ningรบn elemento seleccionado y otra para cuando hay un elemento seleccionado. Por ejemplo...</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">AccionesConMenuDesplegableSinSeleccion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> descripcionEIconos <span class="token operator">=</span> remember <span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span>
            <span class="token function">ItemMenuDesplegable</span><span class="token punctuation">(</span>
                icono <span class="token operator">=</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>search_24px<span class="token punctuation">,</span>
                descripcion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Buscar Item"</span></span><span class="token punctuation">,</span> onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">ItemMenuDesplegable</span><span class="token punctuation">(</span>
                icono <span class="token operator">=</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_list_24px<span class="token punctuation">,</span>
                descripcion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Filtrar Item"</span></span><span class="token punctuation">,</span> onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">ItemMenuDesplegable</span><span class="token punctuation">(</span>
                icono <span class="token operator">=</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>sort_by_alpha_24px<span class="token punctuation">,</span>
                descripcion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Ordenar Item"</span></span><span class="token punctuation">,</span> onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-return">return</span> <span class="token function">AccionesConMenuDesplegable</span><span class="token punctuation">(</span>itemsMenu <span class="token operator">=</span> descripcionEIconos<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">AccionesConMenuDesplegableSeleccion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">..</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
</code></pre><p>Por รบltimo, dependiendo de si tenemos un elemento seleccionado o no, emitiremos un menรบ desplegable u otro.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[15-18] }" class="language-kotlin kotlin" data-line="15-18"><code><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">BarraAplicacionConDropDownMenu</span><span class="token punctuation">(</span>
    itemSeleccionadoState<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
    comportamientoAnteScroll<span class="token operator">:</span> TopAppBarScrollBehavior
<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">TopAppBar</span><span class="token punctuation">(</span>
    title <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Ejemplo DropDown"</span></span><span class="token punctuation">,</span> maxLines <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> overflow <span class="token operator">=</span> TextOverflow<span class="token punctuation">.</span>Ellipsis<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    navigationIcon <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">IconButton</span><span class="token punctuation">(</span>onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">Icon</span><span class="token punctuation">(</span>painter <span class="token operator">=</span> Filled<span class="token punctuation">.</span><span class="token function">getArrowBackIosIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    actions <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState<span class="token punctuation">)</span> <span class="token function">AccionesConMenuDesplegableSeleccion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword keyword-else">else</span> <span class="token function">AccionesConMenuDesplegableSinSeleccion</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    scrollBehavior <span class="token operator">=</span> comportamientoAnteScroll
<span class="token punctuation">)</span>
</code><div class="line-highlight-wrapper">













<div aria-hidden="true" class="line-highlight" data-range="15-18" data-start="15" data-end="18">



</div></div></pre><h3 id="snackbars">Snackbars </h3>
<ul>
<li>
<p>Enlaces de interรฉs de <strong>Snackbars</strong></p>
<ul>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#SnackbarHost(androidx.compose.material3.SnackbarHostState,androidx.compose.ui.Modifier,kotlin.Function1)">SnackBarHost</a></strong></li>
<li>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#Snackbar(androidx.compose.material3.SnackbarData,androidx.compose.ui.Modifier,kotlin.Boolean,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color)">SnackBar</a></strong></li>
</ul>
</li>
</ul>
<p>Las Snackbars proporcionan <strong>mensajes breves</strong> sobre los procesos de la aplicaciรณn en la <strong>parte inferior de la pantalla</strong>. Esto es, informan a los usuarios de un proceso que una aplicaciรณn ha realizado o realizarรก.</p>
<p>Especificaciones de uso en el sistema de diseรฑo de Material 3:</p>
<ol>
<li><strong>Suelen aparecer temporalmente</strong> no interrumpiendo la experiencia del usuario. Por tanto no requerirรกn de la acciรณn del usuario para desaparecer.</li>
<li>La <strong>diferencia con un diรกlogo</strong> es que los mensajes son de baja prioridad y como hemos comentado no requieren de la verificaciรณn del usuario.</li>
<li>Ocasionalmente <strong>pueden contener una sola acciรณn</strong>. En este caso no deben autodesaparecer hasta que el usuario realice otra acciรณn.</li>
<li>No deben aparecer mรกs de una Snackbar a la vez.</li>
<li>No deben contener <strong>mรกs de dos lรญneas de texto</strong> en un display compacto.</li>
<li>No deben contener iconos, ni enlaces.</li>
<li>Si tenemos una acciรณn en la Snackbar, esta debe ser <strong>una acciรณn de alto nivel</strong>. La acciรณn debe ser una acciรณn que permita al usuario resolver el mensaje y deberรญa ir en la parte derecha de la Snackbar con un color diferente al del texto de la Snackbar. Por ejemplo, ante un error podemos mostrar acciones como '<em><strong>Reintentar</strong></em>' o '<em><strong>Descartar</strong></em>'.</li>
</ol>
<p>Aunque es posible emitir un <strong><code>SnackBar</code></strong> con un estado en cualquier jerarquรญa de compose al igual que hacรญamos con un <strong><code>AlertDialog</code></strong>, lo mรกs habitual es que se emita gestionado dentro de un <strong><code>Scaffold</code></strong>. El <strong><code>Scaffold</code></strong> proporciona un <strong><code>SnackbarHost</code></strong> que nos permite emitir un <strong><code>SnackBar</code></strong> con un estado y se encarga de gestionar su ciclo de vida y la visibilidad respecto a otros componentes gestionados por el <strong><code>Scaffold</code></strong> por ejemplo:</p>
<ul>
<li>Apareciendo sobre la barra de aplicaciรณn inferior y no ocultรกndola.</li>
<li>Si tenemos un FAB la Snackbar debe aparecer sobre el FAB y no debe ocultarlo o mostrarse debajo del mismo.</li>
</ul>
<p>El uso de <strong><code>SnackbarHost</code></strong> no es inmediato pues tiene mรบltiples casuรญsticas y personalizaciones que se pueden encontrar en la documentaciรณn oficial, justo debajo del epรญgrafe de este apartado.</p>
<p>En <strong><code>EjemploSnackBar.kt</code></strong> tenemos un ejemplo sencillo de cรณmo usar este componente en los casos mรกs comunes. Para ello vamos a partir de un <strong><code>Scaffold</code></strong> sencillo con una <strong><code>TopAppBar</code></strong>, un <strong><code>FAB</code></strong> y un <strong><code>SnackBarHost</code></strong>. El contenido principal mostrarรก una lista de items como en otros ejemplos y la hacer click sobre uno nos mostrarรก un <strong><code>SnackBar</code></strong> temporal con un mensaje que nos indicarรก el item seleccionado. El FAB nos permitirรก mostrar un <strong><code>SnackBar</code></strong> de duraciรณn indefinida con un icono de cancelaciรณn tal y como se muestra en las siguientes imรกgenes...</p>
<div class="galeria_imagenes">
    <img height="200" src="assets/imagenes/tema_4_1/snackbar1.png">
    <img height="200" src="assets/imagenes/tema_4_1/snackbar2.png">
</div>
<p>Vamos a ver por partes, el <em>composable</em> que define este <strong><code>Scaffold</code></strong> y que denominaremos <strong><code>PantallaConScaffoldYConSnackBar</code></strong>.</p>
<p>Primero podemos considerar la definiciรณn de un estado para nuestro <strong><code>SnackBarHost</code></strong> a travรฉs de la clase <strong><code>SnackbarHostState</code></strong>. Este estado nos permitirรก emitir un <strong><code>SnackBar</code></strong> a travรฉs de la funciรณn <strong><code>showSnackbar</code></strong> y nos permitirรก gestionar el ciclo de vida del mismo a travรฉs de la funciรณn <strong><code>currentSnackbarData</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[5,10-17] }" class="language-kotlin kotlin" data-line="5,10-17"><code><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConScaffoldYConSnackBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScrollSup <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">exitUntilCollapsedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> snackbarHostState <span class="token operator">=</span> remember <span class="token punctuation">{</span> <span class="token function">SnackbarHostState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> scope <span class="token operator">=</span> <span class="token function">rememberCoroutineScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-var">var</span> itemSeleccionadoState<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> onSeleccionarItem<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span>
        itemSeleccionadoState <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> it<span class="token punctuation">)</span> it <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-null">null</span>
        scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                snackbarHostState<span class="token punctuation">.</span>currentSnackbarData<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                snackbarHostState<span class="token punctuation">.</span><span class="token function">showSnackbar</span><span class="token punctuation">(</span>
                    message <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">itemSeleccionadoState</span></span><span class="token string"> seleccionado"</span></span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div><div class="line-highlight-wrapper">








<div aria-hidden="true" class="line-highlight" data-range="10-17" data-start="10" data-end="17">







</div></div></pre><p>Fรญjate que al seleccionar un item mostramos el <strong>SnackBar</strong> con <strong><code>snackbarHostState.showSnackbar</code></strong> que permitirรก mostrarlo con diferentes configuraciones simples.</p>
<div class="admonition tip">
<p class="admonition-title">Importante</p>
<p>Si antes de mostrar un <strong><code>SnackBar</code></strong> no llamรกsemos a <strong><code>snackbarHostState.currentSnackbarData?.dismiss()</code></strong> y hubiese un <strong><code>SnackBar</code></strong> mostrรกndose, este no se mostrarรญa hasta que el anterior expirase. Con la anterior llamada pues, podemos forzar la expiraciรณn del <strong><code>SnackBar</code></strong> anterior y mostrar el nuevo.</p>
</div>
<p>A continuaciรณn emitiremos el <strong><code>Scaffold</code></strong> donde definimos un <strong><code>SnackbarHost(snackbarHostState)</code></strong> por defecto, que serรก el encargado de gestionar el ciclo de vida de los <strong><code>SnackBar</code></strong> que emitamos.</p>
<p>La gestiรณn a la hora de mostarlo al pulsa el FAB es similar a la anterior, pero en este caso usaremos la funciรณn <strong><code>showSnackbar</code></strong> con mรกs parรกmetros para mostrarlo con un <strong>icono de cancelaciรณn</strong> y con una <strong>duraciรณn indefinida</strong>.</p>
<pre data-role="codeBlock" data-info="kotlin { highlight=[5,11-16] }" class="language-kotlin kotlin" data-line="5,11-16"><code>    <span class="token function">Scaffold</span><span class="token punctuation">(</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>
            comportamientoAnteScrollSup<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">BarraAppSuperiorConSnackBar</span><span class="token punctuation">(</span>comportamientoAnteScrollSup<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        snackbarHost <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">SnackbarHost</span><span class="token punctuation">(</span>snackbarHostState<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        floatingActionButton <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">FloatingActionButton</span><span class="token punctuation">(</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span>
                    scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span>
                        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            snackbarHostState<span class="token punctuation">.</span>currentSnackbarData<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            snackbarHostState<span class="token punctuation">.</span><span class="token function">showSnackbar</span><span class="token punctuation">(</span>
                                message <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">itemSeleccionadoState</span></span><span class="token string"> borrado"</span></span><span class="token punctuation">,</span>
                                withDismissAction <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                                duration <span class="token operator">=</span> SnackbarDuration<span class="token punctuation">.</span>Indefinite
                            <span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Icon</span><span class="token punctuation">(</span>imageVector <span class="token operator">=</span> Icons<span class="token punctuation">.</span>Filled<span class="token punctuation">.</span>Delete<span class="token punctuation">,</span> contentDescription <span class="token operator">=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoPrincipalScaffoldConSnackBar</span><span class="token punctuation">(</span>
                itemSeleccionadoState <span class="token operator">=</span> itemSeleccionadoState<span class="token punctuation">,</span>
                onSeleccionarItem <span class="token operator">=</span> onSeleccionarItem<span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">



<div aria-hidden="true" class="line-highlight" data-range="5" data-start="5">
</div></div><div class="line-highlight-wrapper">









<div aria-hidden="true" class="line-highlight" data-range="11-16" data-start="11" data-end="16">





</div></div></pre><div style="page-break-after:always;"></div>
<h2 id="hojas-desplegables">Hojas desplegables </h2>
<h3 id="navigation-drawer">Navigation Drawer </h3>
<ul>
<li>
<p>Enlaces de interรฉs de <strong>Navigation Drawer</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#ModalNavigationDrawer(kotlin.Function0,androidx.compose.ui.Modifier,androidx.compose.material3.DrawerState,kotlin.Boolean,androidx.compose.ui.graphics.Color,kotlin.Function0)">ModalNavigationDrawer</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#ModalDrawerSheet(androidx.compose.ui.Modifier,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.foundation.layout.WindowInsets,kotlin.Function1)">ModalDrawerSheet</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#NavigationDrawerItem(kotlin.Function0,kotlin.Boolean,kotlin.Function0,androidx.compose.ui.Modifier,kotlin.Function0,kotlin.Function0,androidx.compose.ui.graphics.Shape,androidx.compose.material3.NavigationDrawerItemColors,androidx.compose.foundation.interaction.MutableInteractionSource)">NavigationDrawerItem</a></strong></p>
</li>
<li>
<p>Video Tutorial (Inglรฉs) <strong><a href="https://www.youtube.com/watch?v=aYSarwALlpI">Philipp Lackner</a></strong></p>
</li>
<li>
<p>Vรญdeo Tutorial (Castellano): <strong><a href="https://www.youtube.com/watch?v=8sVYyUcuJgI">Gibrรกn Garcรญa</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>El <strong>Navigation Drawer</strong> o <strong>Cajรณn de Navegaciรณn</strong> es un componente que nos permite mostrar un <strong>menรบ de navegaciรณn lateral</strong>. Este componente se puede mostrar de varias formas, pero por simplificar nosotros nos vamos a centrar en el funcionamiento como <strong>hoja modal</strong> en el cual se muestra como una hoja que ocupa casi toda la pantalla y que se puede mostrar y ocultar con un gesto de deslizamiento hacia la derecha o hacia la izquierda. Este es el comportamiento recomendado por Material Design para <strong>dispositivos compactos</strong>.</p>
<div class="flotante" ,="" style="align-items: center;">
<div class="flotante_izq">
<p>En el caso de <strong><code>Cajรณn de Navegaciรณn</code></strong>, serรก el componente superior en la jerarquรญa de nuestra UI por encima del <strong><code>Scaffold</code></strong>. Por tanto, serรก el componente '<em>andamiaje</em>' de orden superior que emitirรก el <strong><code>Scaffold</code></strong> y no al revรฉs como sucedรญa con el resto de componentes que hemos visto hasta ahora.</p>
</div>
<div class="flotante_der">
<p align="center" style="zoom:0.5" class="dot"><!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->

<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: G Pages: 1 -->
<svg width="458pt" height="289pt" viewBox="0.00 0.00 458.00 289.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 285)">
<title>G</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-285 454,-285 454,4 -4,4"></polygon>
<!-- ModalNavigationDrawer -->
<g id="node1" class="node">
<title>ModalNavigationDrawer</title>
<path fill="none" stroke="#36648b" stroke-width="4" d="M326.71,-281C326.71,-281 121.29,-281 121.29,-281 115.29,-281 109.29,-275 109.29,-269 109.29,-269 109.29,-239 109.29,-239 109.29,-233 115.29,-227 121.29,-227 121.29,-227 326.71,-227 326.71,-227 332.71,-227 338.71,-233 338.71,-239 338.71,-239 338.71,-269 338.71,-269 338.71,-275 332.71,-281 326.71,-281"></path>
<text text-anchor="middle" x="224" y="-248" font-family="Arial" font-size="20.00" fill="#36648b">ModalNavigationDrawer</text>
</g>
<!-- ModalDrawerSheet -->
<g id="node2" class="node">
<title>ModalDrawerSheet</title>
<path fill="none" stroke="#36648b" stroke-width="4" d="M204,-176C204,-176 12,-176 12,-176 6,-176 0,-170 0,-164 0,-164 0,-134 0,-134 0,-128 6,-122 12,-122 12,-122 204,-122 204,-122 210,-122 216,-128 216,-134 216,-134 216,-164 216,-164 216,-170 210,-176 204,-176"></path>
<text text-anchor="middle" x="108" y="-143" font-family="Arial" font-size="20.00" fill="#36648b">ModalDrawerSheet</text>
</g>
<!-- ModalNavigationDrawer&#45;&gt;ModalDrawerSheet -->
<g id="edge1" class="edge">
<title>ModalNavigationDrawer-&gt;ModalDrawerSheet</title>
<path fill="none" stroke="dodgerblue" stroke-width="3" d="M192.61,-225.13C179.58,-213.56 164.27,-199.97 150.28,-187.55"></path>
<polygon fill="dodgerblue" stroke="dodgerblue" stroke-width="3" points="152.61,-184.93 142.81,-180.91 147.97,-190.17 152.61,-184.93"></polygon>
</g>
<!-- Scaffold -->
<g id="node3" class="node">
<title>Scaffold</title>
<path fill="none" stroke="#36648b" stroke-width="4" d="M438,-176C438,-176 246,-176 246,-176 240,-176 234,-170 234,-164 234,-164 234,-134 234,-134 234,-128 240,-122 246,-122 246,-122 438,-122 438,-122 444,-122 450,-128 450,-134 450,-134 450,-164 450,-164 450,-170 444,-176 438,-176"></path>
<text text-anchor="middle" x="342" y="-143" font-family="Arial" font-size="20.00" fill="#36648b">Scaffold</text>
</g>
<!-- ModalNavigationDrawer&#45;&gt;Scaffold -->
<g id="edge2" class="edge">
<title>ModalNavigationDrawer-&gt;Scaffold</title>
<path fill="none" stroke="dodgerblue" stroke-width="3" d="M255.93,-225.13C269.31,-213.45 285.06,-199.7 299.41,-187.18"></path>
<polygon fill="dodgerblue" stroke="dodgerblue" stroke-width="3" points="301.39,-190.09 306.62,-180.88 296.79,-184.82 301.39,-190.09"></polygon>
</g>
<!-- NavigationDrawerItem -->
<g id="node4" class="node">
<title>NavigationDrawerItem</title>
<path fill="none" stroke="#36648b" stroke-width="4" d="M204,-54C204,-54 12,-54 12,-54 6,-54 0,-48 0,-42 0,-42 0,-12 0,-12 0,-6 6,0 12,0 12,0 204,0 204,0 210,0 216,-6 216,-12 216,-12 216,-42 216,-42 216,-48 210,-54 204,-54"></path>
<text text-anchor="middle" x="108" y="-21" font-family="Arial" font-size="20.00" fill="#36648b">NavigationDrawerItem</text>
</g>
<!-- ModalDrawerSheet&#45;&gt;NavigationDrawerItem -->
<g id="edge3" class="edge">
<title>ModalDrawerSheet-&gt;NavigationDrawerItem</title>
<path fill="none" stroke="dodgerblue" stroke-width="3" d="M108,-120.17C108,-105.33 108,-86.75 108,-70.18"></path>
<polygon fill="dodgerblue" stroke="dodgerblue" stroke-width="3" points="111.5,-70.22 108,-60.22 104.5,-70.22 111.5,-70.22"></polygon>
<text text-anchor="middle" x="119.26" y="-83.5" font-family="Arial" font-size="15.00" fill="dodgerblue">5..*</text>
</g>
<!-- TopAppBar -->
<g id="node5" class="node">
<title>TopAppBar</title>
<path fill="none" stroke="#36648b" stroke-width="4" d="M438,-54C438,-54 246,-54 246,-54 240,-54 234,-48 234,-42 234,-42 234,-12 234,-12 234,-6 240,0 246,0 246,0 438,0 438,0 444,0 450,-6 450,-12 450,-12 450,-42 450,-42 450,-48 444,-54 438,-54"></path>
<text text-anchor="middle" x="342" y="-21" font-family="Arial" font-size="20.00" fill="#36648b">TopAppBar</text>
</g>
<!-- Scaffold&#45;&gt;TopAppBar -->
<g id="edge4" class="edge">
<title>Scaffold-&gt;TopAppBar</title>
<path fill="none" stroke="dodgerblue" stroke-width="3" d="M342,-120.17C342,-105.33 342,-86.75 342,-70.18"></path>
<polygon fill="dodgerblue" stroke="dodgerblue" stroke-width="3" points="345.5,-70.22 342,-60.22 338.5,-70.22 345.5,-70.22"></polygon>
</g>
</g>
</svg>
</p></div>
</div>
<p>Especificaciones de uso en el sistema de diseรฑo de Material 3:</p>
<ol>
<li>Aplicaciones con <strong>5 o mรกs destinos de nivel superior</strong>. En caso contrario, se recomienda usar una barra de navegaciรณn inferior.</li>
<li>Aplicaciones con <strong>2 o mรกs niveles en la jerarquรญa de navegaciรณn</strong>.</li>
<li>Es el componente adecuado en pantallas grandes quedando fijo en la parte derecha.</li>
</ol>
<p>En <strong><code>EjemploNavigationDrawer.kt</code></strong> disponemos de un ejemplo sencillo de uso como el que se ilustra a continuaciรณn. En el cual tenemos un <strong><code>ModalNavigationDrawer</code></strong> que emite un <strong><code>ModalDrawerSheet</code></strong> con 3 opciones de navegaciรณn y un <strong><code>Scaffold</code></strong> con un <strong><code>TopAppBar</code></strong>.</p>
<p>El <strong><code>ModalDrawerSheet</code></strong> se mostrarรก al deslizar hacia la derecha desde el borde izquierdo de la pantalla 1๏ธโฃ o al hacer click en el icono de menรบ colapsado de la <strong><code>TopAppBar</code></strong> 2๏ธโฃ. Para ocultarse podemos deslizar a la izquierda 1๏ธโฃ o hacer tap en la parte que aรบn queda visible del <strong><code>Scaffold</code></strong> 2๏ธโฃ. Tambiรฉn se ocultarรก al hacer click sobre una de las opciones de navegaciรณn, desencadenando la navegaciรณn a la pantalla correspondiente y quedando seleccionada para la prรณxima vez que se muestre el <strong><code>ModalDrawerSheet</code></strong>.</p>
<div class="galeria_imagenes">
    <img height="175" src="assets/imagenes/tema_4_1/drawer1.png">
    <img height="175" src="assets/imagenes/tema_4_1/drawer2.png">
    <img height="175" src="assets/imagenes/tema_4_1/drawer3.png">
</div>
<p>Para gestionar las opciones del menรบ y guardar el estado de la opciรณn seleccionada, podemos definir por ejemplo un tipo enumerado como el siguiente:</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token keyword keyword-enum">enum</span> <span class="token keyword keyword-class">class</span> <span class="token function">ItemMenuEjemploNavDrawer</span><span class="token punctuation">(</span>
    <span class="token keyword keyword-val">val</span> index<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    <span class="token keyword keyword-val">val</span> icono<span class="token operator">:</span> Int<span class="token punctuation">,</span>
    <span class="token keyword keyword-val">val</span> nombre<span class="token operator">:</span> String
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Pantalla1</span><span class="token punctuation">(</span>index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> icono <span class="token operator">=</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_1_24px<span class="token punctuation">,</span> nombre <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Pantalla 1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Pantalla2</span><span class="token punctuation">(</span>index <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> icono <span class="token operator">=</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_2_24px<span class="token punctuation">,</span> nombre <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Pantalla 2"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Pantalla3</span><span class="token punctuation">(</span>index <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> icono <span class="token operator">=</span> R<span class="token punctuation">.</span>drawable<span class="token punctuation">.</span>filter_3_24px<span class="token punctuation">,</span> nombre <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Pantalla 3"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p>Definimos en primer lugar un <strong><code>ModalDrawerSheet</code></strong> que tiene dos ranuras o '<em>slots</em>'. Una para el contenido principal y otra para el contenido del cajรณn de navegaciรณn.</p>
<p>Este va a ser el nivel superior en nuestro ejemplo y por tanto serรก aquรญ donde definamos los estados y los callback que lo modifican. (En un ejemplo real, estos deberรญan estar en un ViewModel).</p>
<ol>
<li>
<p>Mediante el estado de tipo <strong><code>DrawerState</code></strong>, podremos controlar cuando se muestra y cuando se oculta el cajรณn de navegaciรณn mediante los mรฉtodos de suspendidos <strong><code>open()</code></strong> y <strong><code>close()</code></strong>.</p>
</li>
<li>
<p><strong><code>selectedItem</code></strong> serรก un estado del nuestro tipo <strong><code>ItemMenuEjemploNavDrawer</code></strong> que nos indicarรก la opciรณn seleccionada en el menรบ.</p>
</li>
</ol>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConNavDrawer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> drawerState <span class="token operator">=</span> <span class="token function">rememberDrawerState</span><span class="token punctuation">(</span>DrawerValue<span class="token punctuation">.</span>Closed<span class="token punctuation">)</span>
    <span class="token keyword keyword-var">var</span> selectedItem <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span>ItemMenuEjemploNavDrawer<span class="token punctuation">.</span>Pantalla1<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> scope <span class="token operator">=</span> <span class="token function">rememberCoroutineScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> onItemSelected<span class="token operator">:</span> <span class="token punctuation">(</span>ItemMenuEjemploNavDrawer<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span>
        scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span> drawerState<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        selectedItem <span class="token operator">=</span> it
    <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> onClickActionMenu<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span>
        scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span> drawerState<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">ModalNavigationDrawer</span><span class="token punctuation">(</span>
        drawerState <span class="token operator">=</span> drawerState<span class="token punctuation">,</span>
        drawerContent <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">ContenidoNavDrawer</span><span class="token punctuation">(</span>
                selecteItemState <span class="token operator">=</span> selectedItem<span class="token punctuation">,</span>
                onItemSelected <span class="token operator">=</span> onItemSelected
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">ScaffoldDentroNavDrawer</span><span class="token punctuation">(</span>
                selecteItemState <span class="token operator">=</span> selectedItem<span class="token punctuation">,</span>
                onClickActionMenu <span class="token operator">=</span> onClickActionMenu<span class="token punctuation">,</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<p>El componente con el contenido del la hoja modal de navegaciรณn <strong><code>ModalDrawerSheet</code></strong> vemos que se encarga de emitir un <strong><code>NavigationDrawerItem</code></strong> por cada opciรณn de navegaciรณn. Para ello, pasando un icono, un texto y un callback que se ejecutarรก cuando se pulse sobre el elemento de navegaciรณn. Ademรกs, indicaremos si el elemento estรก seleccionado o no mediante el estado <strong><code>selecteItemState</code></strong>.</p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin kotlin"><code><span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">ContenidoNavDrawer</span><span class="token punctuation">(</span>
    selecteItemState<span class="token operator">:</span> ItemMenuEjemploNavDrawer<span class="token punctuation">,</span>
    onItemSelected<span class="token operator">:</span> <span class="token punctuation">(</span>ItemMenuEjemploNavDrawer<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit<span class="token punctuation">,</span>
    modifier<span class="token operator">:</span> Modifier <span class="token operator">=</span> Modifier
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> items <span class="token operator">=</span> remember <span class="token punctuation">{</span>
        <span class="token function">listOf</span><span class="token punctuation">(</span>
            ItemMenuEjemploNavDrawer<span class="token punctuation">.</span>Pantalla1<span class="token punctuation">,</span> 
            ItemMenuEjemploNavDrawer<span class="token punctuation">.</span>Pantalla2<span class="token punctuation">,</span> 
            ItemMenuEjemploNavDrawer<span class="token punctuation">.</span>Pantalla3<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">ModalDrawerSheet</span><span class="token punctuation">(</span>modifier <span class="token operator">=</span> modifier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">Spacer</span><span class="token punctuation">(</span>Modifier<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span>
        items<span class="token punctuation">.</span><span class="token function">forEach</span> <span class="token punctuation">{</span> item <span class="token operator">-&gt;</span>
            <span class="token function">NavigationDrawerItem</span><span class="token punctuation">(</span>
                icon <span class="token operator">=</span> <span class="token punctuation">{</span> 
                    <span class="token function">Icon</span><span class="token punctuation">(</span>
                        painter <span class="token operator">=</span> <span class="token function">painterResource</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>icono<span class="token punctuation">)</span><span class="token punctuation">,</span> 
                        contentDescription <span class="token operator">=</span> item<span class="token punctuation">.</span>nombre
                    <span class="token punctuation">)</span> 
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                label <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>nombre<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                selected <span class="token operator">=</span> item<span class="token punctuation">.</span>index <span class="token operator">==</span> selecteItemState<span class="token punctuation">.</span>index<span class="token punctuation">,</span>
                onClick <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">onItemSelected</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>NavigationDrawerItemDefaults<span class="token punctuation">.</span>ItemPadding<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div style="page-break-after:always;"></div>
<h3 id="hoja-desplegable-inferior-bottom-sheet">Hoja desplegable inferior (Bottom Sheet) </h3>
<ul>
<li>
<p>Enlaces de interรฉs de <strong>Bottom Sheets</strong></p>
<ul>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#BottomSheetScaffold(kotlin.Function1,androidx.compose.ui.Modifier,androidx.compose.material3.BottomSheetScaffoldState,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.ui.unit.Dp,kotlin.Function0,kotlin.Boolean,kotlin.Function0,kotlin.Function1,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,kotlin.Function1)">BottomSheetScaffold</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#rememberBottomSheetScaffoldState(androidx.compose.material3.SheetState,androidx.compose.material3.SnackbarHostState)">rememberBottomSheetScaffoldState</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#ModalBottomSheet(kotlin.Function0,androidx.compose.ui.Modifier,androidx.compose.material3.SheetState,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Shape,androidx.compose.ui.graphics.Color,androidx.compose.ui.graphics.Color,androidx.compose.ui.unit.Dp,androidx.compose.ui.graphics.Color,kotlin.Function0,androidx.compose.foundation.layout.WindowInsets,androidx.compose.material3.ModalBottomSheetProperties,kotlin.Function1)">ModalBottomSheet</a></strong></p>
</li>
<li>
<p>Material 3 Jetpack Compose: <strong><a href="https://developer.android.com/reference/kotlin/androidx/compose/material3/package-summary#rememberModalBottomSheetState(kotlin.Boolean,kotlin.Function1)">rememberModalBottomSheetState</a></strong></p>
</li>
<li>
<p>Video Tutorial (Inglรฉs): <strong><a href="https://www.youtube.com/watch?v=VxgWUdOKgtI">Philipp Lackner</a></strong></p>
</li>
<li>
<p>Vรญdeo Tutorial (Castellano): <strong><a href="https://www.youtube.com/watch?v=MmRpQ_fsM00">Gibrรกn Garcรญa</a></strong></p>
</li>
</ul>
</li>
</ul>
<p>Especificaciones de uso en el sistema de diseรฑo de Material 3:</p>
<ol>
<li>
<p>Tenemos dos tipos:</p>
<ul>
<li><strong>Standard</strong> (<strong><code>BottomSheetScaffold</code></strong>): Se usa para mostrar <strong>contenido secundario o adicional</strong> que no requiere de la interacciรณn del usuario para continuar con la tarea principal. Podemos usarlo como componente superior en la jerarquรญa de nuestra UI y es preferible usar para la navegaciรณn un <strong><code>Navigation Drawer</code></strong> frente a un Bottom App Bar.<br>
En este caso la hoja <strong>no se deberรญa ocultar completamente</strong>.</li>
<li><strong>Modal</strong> (<strong><code>ModalBottomSheet</code></strong>): Se usa para mostrar <strong>contenido secundario o adicional</strong> que requiere de la interacciรณn del usuario para continuar con la tarea principal. Puede ocultarse por completo y activarse con alguna acciรณn en la top app bar o en el contenido principal.<br>
En este caso la hoja se podrรก ocultar completamente.</li>
</ul>
</li>
<li>
<p>Las hojas desplegables inferiores son un <strong>componente versรกtil que puede contener una amplia variedad de informaciรณn y diseรฑos</strong>, por ejemplo:</p>
<ul>
<li>Informaciรณn adicional con imรกgenes y media.</li>
<li>Elementos de menรบ (en diseรฑos de lista o cuadrรญcula).</li>
<li>Acciones (Modal).</li>
<li>Opciones de filtrado (Modal).</li>
<li>Incluso puede tener diferentes grupos separadas por una lรญnea de separaciรณn u <strong><code>HorizontalDivider</code></strong>.</li>
</ul>
</li>
</ol>
<p>En <strong><code>EjemploBottomSheet.kt</code></strong> tenemos un ejemplos de uso de un <strong><code>BottomSheetScaffold</code></strong>, en el cual, tendremos una lista de elementos y al pulsar sobre uno de ellos el contenido del hoja inferior mostrarรก <em>"informaciรณn adicional"</em> sobre el elemento seleccionado y se expandirรก automรกticamente si estuviese colapsado.</p>
<p>Para colapsar, o deseleccionamos el elemento o <strong>deslizamos</strong> (<em>Swipe</em>) hacia abajo el <strong>manejador de arrastre</strong> (<em>Drag Handle</em>) que aparece en la parte superior de la <strong>hoja inferior</strong> (<em>Bottom Sheet</em>).</p>
<p>Si deseleccionamos un elemento aparecerรก un Snackbar gestionado por el <strong><code>BottomSheetScaffold</code></strong> avisรกndonos y la hoja inferior ya no <em>emitirรก</em> ningรบn contenido.</p>
<p>Puedes ver un ejemplo de funcionamiento en las siguientes imรกgenes...</p>
<div class="galeria_imagenes">
    <img height="200" src="assets/imagenes/tema_4_1/bottom_sheet1.png">
    <img height="200" src="assets/imagenes/tema_4_1/bottom_sheet2.png">
</div>
<p>Vamos a definir la funciรณn de composiciรณn <strong><code>PantallaConBottomSheetScaffold</code></strong> donde usaremos un <strong><code>BottomSheetScaffold</code></strong> como componente superior en la jerarquรญa de nuestra UI. Este componente nos permite definir un <strong><code>BottomSheetScaffoldState</code></strong> que nos permitirรก gestionar 2 cosas:</p>
<ol>
<li>El ciclo de vida de la <strong>hoja inferior</strong>, asรญ como expandirla y colapsarla a travรฉs de mรฉtodos de suspensiรณn.</li>
<li>Nos permitirรก emitir un <strong><code>Snackbar</code></strong> a travรฉs de su propiedad <strong><code>snackbarHostState</code></strong>.</li>
</ol>
<pre data-role="codeBlock" data-info="kotlin { highlight=[6, 14, 17] }" class="language-kotlin kotlin" data-line="6,14,17"><code><span class="token annotation builtin">@OptIn</span><span class="token punctuation">(</span>ExperimentalMaterial3Api<span class="token operator">::</span><span class="token keyword keyword-class">class</span><span class="token punctuation">)</span>
<span class="token annotation builtin">@Composable</span>
<span class="token keyword keyword-fun">fun</span> <span class="token function">PantallaConBottomSheetScaffold</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-val">val</span> comportamientoAnteScrollSup <span class="token operator">=</span> TopAppBarDefaults<span class="token punctuation">.</span><span class="token function">pinnedScrollBehavior</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword keyword-val">val</span> scaffoldState <span class="token operator">=</span> <span class="token function">rememberBottomSheetScaffoldState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword keyword-val">val</span> scope <span class="token operator">=</span> <span class="token function">rememberCoroutineScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword keyword-var">var</span> itemSeleccionadoState<span class="token operator">:</span> Int<span class="token operator">?</span> <span class="token keyword keyword-by">by</span> remember <span class="token punctuation">{</span> <span class="token function">mutableStateOf</span><span class="token punctuation">(</span><span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword keyword-val">val</span> onSeleccionarItem<span class="token operator">:</span> <span class="token punctuation">(</span>Int<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Unit <span class="token operator">=</span> <span class="token punctuation">{</span>
        itemSeleccionadoState <span class="token operator">=</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> it<span class="token punctuation">)</span> it <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-null">null</span>
        scope<span class="token punctuation">.</span><span class="token function">launch</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">==</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span>
                <span class="token comment">// Colapsar si ya no hay seleccion.</span>
                scaffoldState<span class="token punctuation">.</span>bottomSheetState<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-else">else</span>
                <span class="token comment">// Expandir ante una nueva selecciรณn.</span>
                scaffoldState<span class="token punctuation">.</span>bottomSheetState<span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">




<div aria-hidden="true" class="line-highlight" data-range="6" data-start="6">
</div></div><div class="line-highlight-wrapper">












<div aria-hidden="true" class="line-highlight" data-range="14" data-start="14">
</div></div><div class="line-highlight-wrapper">















<div aria-hidden="true" class="line-highlight" data-range="17" data-start="17">
</div></div></pre><p>Ya podemos definir el <strong><code>BottomSheetScaffold</code></strong> que tendrรก diferentes parรกmetros y ranuras para definir el contenido principal:</p>
<ol>
<li>Recibirรก el <strong><code>scaffoldState</code></strong> que como hemos comentado controla  <strong><code>BottomSheet</code></strong> y <strong><code>Snackbar</code></strong>.</li>
<li>Permite emitir una TopBars pero NO BottomBars ni FAB.</li>
<li>Podemos definir un <strong><code>SnackbarHost</code></strong> pero su estado debe ser <strong><code>scaffoldState.snackbarHostState</code></strong>.</li>
<li>El contenido de la hoja inferior <strong><code>sheetContent</code></strong> se emite a travรฉs de una ranura.</li>
<li>Otros parรกmetros de configuraciรณn de la hoja inferior como la altura de la hoja inferior, su forma, etc.</li>
</ol>
<pre data-role="codeBlock" data-info="kotlin { highlight=[2, 8-17] }" class="language-kotlin kotlin" data-line="2,8-17"><code>    <span class="token function">BottomSheetScaffold</span><span class="token punctuation">(</span>
        scaffoldState <span class="token operator">=</span> scaffoldState<span class="token punctuation">,</span>
        modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">nestedScroll</span><span class="token punctuation">(</span>comportamientoAnteScrollSup<span class="token punctuation">.</span>nestedScrollConnection<span class="token punctuation">)</span><span class="token punctuation">,</span>
        topBar <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function">BarraAppSuperiorBottomSheet</span><span class="token punctuation">(</span>comportamientoAnteScrollSup<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        snackbarHost <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function">SnackbarHost</span><span class="token punctuation">(</span>scaffoldState<span class="token punctuation">.</span>snackbarHostState<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        sheetContent <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>itemSeleccionadoState <span class="token operator">!=</span> <span class="token keyword keyword-null">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">Text</span><span class="token punctuation">(</span>
                    modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">fillMaxWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">.</span>dp<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    text <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Item </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">itemSeleccionadoState</span></span><span class="token string"> seleccionado"</span></span><span class="token punctuation">,</span>
                    style <span class="token operator">=</span> MaterialTheme<span class="token punctuation">.</span>typography<span class="token punctuation">.</span>titleLarge<span class="token punctuation">,</span>
                    textAlign <span class="token operator">=</span> TextAlign<span class="token punctuation">.</span>Center
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        sheetPeekHeight <span class="token operator">=</span> <span class="token number">45</span><span class="token punctuation">.</span>dp<span class="token punctuation">,</span>
        sheetShape <span class="token operator">=</span> BottomSheetDefaults<span class="token punctuation">.</span>ExpandedShape<span class="token punctuation">,</span>
        content <span class="token operator">=</span> <span class="token punctuation">{</span> innerPadding <span class="token operator">-&gt;</span>
            <span class="token function">ContenidoPrincipalBottomSheetScaffold</span><span class="token punctuation">(</span>
                itemSeleccionadoState <span class="token operator">=</span> itemSeleccionadoState<span class="token punctuation">,</span>
                onSeleccionarItem <span class="token operator">=</span> onSeleccionarItem<span class="token punctuation">,</span>
                modifier <span class="token operator">=</span> Modifier<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span>innerPadding<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code><div class="line-highlight-wrapper">
<div aria-hidden="true" class="line-highlight" data-range="2" data-start="2">
</div></div><div class="line-highlight-wrapper">






<div aria-hidden="true" class="line-highlight" data-range="8-17" data-start="8" data-end="17">









</div></div></pre>
      </div>
      
      
    
    
    
    
    
    
  
    </body></html>