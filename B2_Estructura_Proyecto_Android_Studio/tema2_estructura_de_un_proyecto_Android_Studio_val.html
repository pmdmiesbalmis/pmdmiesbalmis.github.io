<!DOCTYPE html><html><head>
      <title>PMDM 2&#xBA; DAM  Tema 2. Estructura d&apos;un projecte Android Studio</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
.markdown-preview.markdown-preview .slides > section {
  height: 100%;
  font-size: 90%;
  overflow-y: auto !important;
}
.markdown-preview.markdown-preview .slide code {
  color: yellow;
}

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <style>/* 
Añade 

@import "../EstilosPersonalizadosMarkdownEnhanced.less"

justo después del front matter 
*/
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */
@font-face {
  font-family: 'Catamaran';
  font-style: normal;
  font-weight: 400;
  src: url(https://fonts.gstatic.com/s/catamaran/v17/o-0bIpQoyXQa2RxT7-5B6Ryxs2E_6n1iPHjd5a7dvg.ttf) format('truetype');
}
.contenedor {
  display: flex;
  justify-content: center;
  margin: 30px auto 30px auto;
}
.fondo {
  background: url(https://programacioniesbalmis.github.io/Imagenes/BannersMoodle/banner.png);
  background-size: cover;
  width: 75%;
  height: 160px;
  border-radius: 10px;
  position: relative;
}
.cita {
  font-family: Arial;
  font-style: italic;
  font-weight: 600;
  text-align: justify;
  line-height: 1.5rem;
  opacity: 0.6;
  color: white;
  padding: 5rem;
  position: relative;
  top: 50%;
  left: 50%;
  font-size: 1.3rem;
  transform: translate(-50%, -50%);
}
.abre_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-left: 30px;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, -15%);
}
.cierra_comilla {
  font-family: "Catamaran";
  font-weight: 600;
  color: white;
  padding-right: 30px;
  right: 0%;
  position: absolute;
  font-size: 6rem;
  transform: translate(0%, 55%);
}
.autor {
  font-family: Arial;
  color: white;
  margin: 0px;
  padding-left: 30px;
  position: absolute;
  top: 83%;
  font-size: 1rem;
}
</style>
<h1 class="mume-header undefined" id="apunts">Apunts</h1>

<p>Descarregar aquests apunts <a href="./tema2_estructura_de_un_proyecto_Android_Studio_val.pdf">pdf</a> o <a href="./tema2_estructura_de_un_proyecto_Android_Studio_val.html">html</a></p>
<h1 class="mume-header undefined" id="tema-2-estructura-dun-projecte-android-studio">Tema 2 . Estructura d&apos;un projecte  Android Studio</h1>

<h2 class="mume-header undefined" id="%C3%ADndex">&#xCD;ndex</h2>

<ol>
<li><a href="#creant-el-primer-projecte-dandroid">Creant el primer projecte d&apos;Android</a></li>
<li><a href="#estructura-dun-projecte-en-android-studio">Estructura d&apos;un projecte en Android Studio</a></li>
<li><a href="#recursos-en-android">Recursos en Android</a>
<ol>
<li><a href="#la-carpeta-layout">La carpeta Layout</a></li>
<li><a href="#les-carpetes-mipmap-i-drawable">Les carpetes Mipmap i Drawable</a></li>
<li><a href="#la-carpeta-values">La carpeta values</a></li>
<li><a href="#accedir-als-recursos-en-android">Accedir als Recursos en Android</a></li>
</ol>
</li>
<li><a href="#android-manifest">Android Manifest</a></li>
<li><a href="#gradle">Gradle</a>
<ol>
<li><a href="#projectes-tasques-i-accions">Projectes, tasques i accions</a></li>
<li><a href="#arxius-de-configuraci%C3%B3-de-gradle">Arxius de configuraci&#xF3; de Gradle</a></li>
</ol>
</li>
</ol>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="creant-el-primer-projecte-dandroid">Creant el primer projecte d&apos;Android</h3>

<p>Realitzarem el nostre primer exemple en Android, ens servir&#xE0; b&#xE0;sicament per a con&#xE9;ixer l&apos;entorn Android Studio i les carpetes de les quals consta un projecte Android creades amb aquest entorn. Una vegada instal&#xB7;lada l&apos;aplicaci&#xF3; i si no s&apos;ha creat un projecte amb anterioritat, en obrir l&apos;entorn ens trobarem amb una finestra com la que segueix:</p>
<div align="center">
    <img height="300" src="./imagenes/entorno1.png">
</div>
<p>Com podem veure, aquesta finestra ens permet crear un projecte nou, obrir un existent o realitzar altres opcions, premerem en <strong>Create a New Project</strong>.</p>
<div align="center">
    <img height="50" src="./imagenes/entorno2.png">
</div>
<p>Haurem de seleccionar el tipus d&apos;activitat que es crear&#xE0; com a inici del nostre projecte, l&apos;opci&#xF3; que necessitarem al llarg del curs &#xE9;s una <strong>Empty Activity</strong>, que ens crear&#xE0; una activitat buida.</p>
<div align="center">
    <img height="350" src="./imagenes/entorno3.png">
</div>
<p>A partir d&apos;ac&#xED; haurem de seleccionar el nom de paquet que donarem a la nostra aplicaci&#xF3; que si no es modifica coincidir&#xE0; amb el <a href="https://developer.android.com/studio/build/application-id?hl=es-419">ID de l&apos;aplicaci&#xF3;</a>, la localitzaci&#xF3; i el nom de l&apos;aplicaci&#xF3; que sol estar incl&#xF2;s al paquet, a m&#xE9;s tamb&#xE9; haurem de seleccionar el Llenguatge amb el qual volem treballar (Java o Kotlin).  En <strong>Save location</strong> podem seleccionar on volem deixar la nostra aplicaci&#xF3;.</p>
<div align="center">
    <img height="350" src="./imagenes/entorno4.png">
</div>
<p>L&apos;&#xFA;ltima opci&#xF3; permetr&#xE0; seleccionar el <strong>SDK m&#xED;nim</strong> amb el qual vulgueu que c&#xF3;rrega la vostra aplicaci&#xF3;. El m&#xE0;xim no fa falta seleccionar-ho perqu&#xE8; el projecte agafar&#xE0; el SDK m&#xE9;s actualitzat que tingues instal&#xB7;lat. Al costat del selector del sdk, podeu veure una explicaci&#xF3; i un enlla&#xE7; en el qual es poden veure les estad&#xED;stiques actualitzades del percentatge de m&#xF2;bils que podran c&#xF3;rrer la vostra aplicaci&#xF3;, segons el m&#xED;nim SDK seleccionat.</p>
<p>A partir d&apos;ac&#xED; haurem d&apos;esperar una mica fins que es genere el nostre projecte i aparega una finestra semblant a la seg&#xFC;ent:</p>
<div align="center">
    <img height="300" src="./imagenes/entorno_proyecto.png">
</div>
<h3 class="mume-header" id="estructura-dun-projecte-en-android-studio">Estructura d&apos;un projecte en Android Studio</h3>

<p>Una vegada arribats ac&#xED;, s&apos;haur&#xE0; obert l&apos;arbre de carpetes de l&apos;aplicaci&#xF3; a l&apos;esquerra (encara que aquesta finestra &#xE9;s movible. Per si us resulta m&#xE9;s &#xFA;til en un altre lloc de la finestra d&apos;Android Studio, sapieu que podeu moure-la prement i arrossegant la pestanya amb nom <strong>1: Project</strong> a qualsevol part. Tamb&#xE9; podeu moure la resta de les finestres que estan obertes.<br>
En l&apos;arbre de directoris teniu diverses maneres de llistar les carpetes i arxius de l&apos;aplicaci&#xF3;. Les dos principals s&#xF3;n <strong>Android, Project, i Package</strong>, per&#xF2; hi ha unes altres que podeu usar, per exemple: <strong>Problems</strong> mostrar&#xE0; nom&#xE9;s els arxius que tenen errors.</p>
<p>La <strong>carpeta app</strong> &#xE9;s la que cont&#xE9; tot el relacionat amb el teu projecte, &#xE9;s la carpeta que ens interessa de moment i on inclourem els arxius necessaris perqu&#xE8; la nostra aplicaci&#xF3; siga empaquetada. Si desplegues el seu contingut veur&#xE0;s tres carpetes: <strong><code>build</code></strong>, <strong><code>libs</code></strong> i <strong><code>src</code></strong>. Ara com ara ignorarem els altres arxius.</p>
<div align="center">
    <img height="100" src="./imagenes/entorno5.png">
</div>
<p>Normalment la major part del temps i forces les usarem en la carpeta <strong><code>src</code></strong>(Source). Dins d&apos;ella se situa la carpeta <strong><code>main</code></strong>, la qual cont&#xE9; tots els arxius font Java i Kotlin per a la nostra aplicaci&#xF3;. La carpeta <strong><code>res</code></strong> (Resources) que cont&#xE9; els recursos del projecte (icones, so, dissenys, etc.) i l&apos;arxiu <strong><code>AndroidManifest.xml</code></strong> , m&#xE9;s endavant aprofundirem en ell.</p>
<div align="center">
    <img height="350" src="./imagenes/entorno6.png">
</div>
<p>La Activity (o Activities) que hem creat, es troben en <strong><code>Nom de la vostra App-&gt;src-&gt;main-&gt;java-&gt;Paquet de la vostra App</code></strong>.</p>
<div align="center">
    <img height="85" src="./imagenes/entorno7.png">
</div>
<p>Alguns dels altres arxius imprescindibles de tota aplicaci&#xF3; Android, s&#xF3;n <strong>els recursos</strong> que es troben en la carpeta <strong><code>Nom de la vostra App-&gt;src-&gt;main-&gt;res</code></strong>. Una vegada dins podeu veure, entre altres, les carpetes <strong><code>layout</code></strong>, <strong><code>drawable</code></strong> i <strong><code>mipmap</code></strong></p>
<div align="center">
    <img height="150" src="./imagenes/entorno8.png">
</div>
<h3 class="mume-header" id="recursos-en-android">Recursos en Android</h3>

<p>Els recursos s&#xF3;n arxivaments o dades externes que suporten el comportament de la nostra aplicaci&#xF3; Android per exemple imatges, strings, colors, estils, etc.<br>
Formalment en un projecte, aquests elements es troben en la carpeta <strong>res</strong> nomenat anteriorment. All&#xED; es troben subdirectoris que agrupen els diferents tipus de recursos.</p>
<p>La idea de l&apos;&#xFA;s de recursos &#xE9;s dividir el codi de la teua app per a mantindre independ&#xE8;ncia. Tot amb la finalitat d&apos;agregar variacions dels arxius per a adaptar l&apos;aplicaci&#xF3; a diferents tipus de pantalles, idiomes, versions, dimensions, configuracions d&apos;orientaci&#xF3;, etc. Per exemple: <em>no &#xE9;s el mateix l&apos;espai d&apos;un tel&#xE8;fon m&#xF2;bil a una tauleta (tablet). No obstant aix&#xF2; es poden crear variacions dels recursos perqu&#xE8; l&apos;aplicaci&#xF3; s&apos;adapte a la densitat de pantalla de cadascun.</em></p>
<p>Els grups de recursos es divideixen en subdirectoris. Cadascun d&apos;ells cont&#xE9; arxius que compleixen una funci&#xF3; espec&#xED;fica dins de l&apos;aplicaci&#xF3;. Has de respectar aquesta estructura de documents per a no tindre problemes en l&apos;execuci&#xF3;. En la seg&#xFC;ent <a href="https://developer.android.com/guide/topics/resources/providing-resources.html?hl=es">Taula de Recursos</a>, podem veure un resum dels m&#xE9;s usats.</p>
<table>
<thead>
<tr>
<th>Nom del subdirectori</th>
<th>Contingut</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>drawable</code></strong></td>
<td>Recursos gr&#xE0;fics que puguen ser projectats en pantalla. Generalment trobar&#xE0;s arxius d&apos;imatge com <strong><code>.png</code></strong>, <strong><code>.jpg</code></strong> o <strong><code>.gif</code></strong>, no obstant aix&#xF2; &#xE9;s possible usar altres com: arxius nine-patch, llistes d&apos;estat, drawables amb m&#xFA;ltiples nivells, drawables amb figures 2D definides en XML, i moltes m&#xE9;s.</td>
</tr>
<tr>
<td><strong><code>mipmap</code></strong></td>
<td>Cont&#xE9; la o les icones de l&apos;aplicaci&#xF3; per a evitar distorsi&#xF3; entre diverses densitats de pantalla.</td>
</tr>
<tr>
<td><strong><code>layout</code></strong></td>
<td>Arxius XML que contenen definicions de la interf&#xED;cie d&apos;usuari.</td>
</tr>
<tr>
<td><strong><code>menu</code></strong></td>
<td>Arxius XML que estableixen les caracter&#xED;stiques per als men&#xFA;s usats en la interf&#xED;cie. Normalment contenen definicions sobre els &#xED;tems albergats en un men&#xFA; i les agrupacions entre ells.</td>
</tr>
<tr>
<td><strong><code>values</code></strong></td>
<td>Arxius XML que contenen dades simples com a sencers, strings, booleans, colors.</td>
</tr>
</tbody>
</table>
<h5 class="mume-header" id="recursos-alternatius-en-android">Recursos Alternatius En Android</h5>

<p>Un recurs alternatiu &#xE9;s una variaci&#xF3; d&apos;un recurs, que s&apos;ajusta a una caracter&#xED;stica de configuraci&#xF3; en el dispositiu m&#xF2;bil on s&apos;executa l&apos;aplicaci&#xF3;. Aix&#xF2; s&apos;aconsegueix a trav&#xE9;s d&apos;una <a href="https://developer.android.com/guide/topics/resources/providing-resources.html?hl=es#table2">taula</a> de qualificadors creada per Google que estandarditza totes les configuracions possibles que es puguen presentar.<br>
Un qualificador &#xE9;s un mecanisme gramatical que especifica el prop&#xF2;sit d&apos;un recurs. La seua sintaxi &#xE9;s la seg&#xFC;ent: <strong><code>&lt;nom_recurs&gt;-&lt;qualificador&gt;</code></strong></p>
<p>Per exemple: <em><strong>mipmap-hdpi</strong> contindr&#xE0; la variaci&#xF3; del recurs ic_launcher.png per a dispositius amb densitat de pantalla de 240dpi. Aquesta condici&#xF3; &#xE9;s especificada pel qualificador hdpi</em>.</p>
<blockquote>
<p>&#x270B; <strong>Important:</strong> tots els arxius que corresponguen al mateix recursos hauran de tindre el mateix nom, s&apos;identificaran gr&#xE0;cies al qualificador afegit a l&apos;identificador de carpeta.</p>
</blockquote>
<p>Si cal indicar m&#xE9;s d&apos;un qualificador, se separen per guions i l&apos;ordre de prefer&#xE8;ncia &#xE9;s el que se segueix en la taula, el primer qualificador ser&#xE0; el de m&#xE9;s prefer&#xE8;ncia. Per exemple: <em>dispositius en angl&#xE9;s dels Estats Units i en orientaci&#xF3; horitzontal, tindran un nom de recurs alternatiu en el drawable, de la seg&#xFC;ent manera <strong>drawable-en-rUS-land</strong></em>.</p>
<blockquote>
<p>&#x270B; <strong>Important:</strong> Una vegada que guardes els recursos alternatius en directoris denominats amb aquests qualificadors, Android aplicar&#xE0; autom&#xE0;ticament els recursos en la teua aplicaci&#xF3; d&apos;acord amb la configuraci&#xF3; del dispositiu actual</p>
</blockquote>
<h4 class="mume-header" id="la-carpeta-layout">La carpeta Layout</h4>

<p>En la carpeta layout trobar&#xE0;s els arxius que contenen les vistes de les activitats o fragments. En crear el projecte cont&#xE9; l&apos;arxiu <strong><code>activiy_main.xml</code></strong>. Aquest arxiu representa el disseny de la interf&#xED;cie de la meua activitat principal.</p>
<p>Construir la interf&#xED;cie a trav&#xE9;s de nodes XML &#xE9;s molt m&#xE9;s senzill que la creaci&#xF3; a trav&#xE9;s de codi Java o Kotlin. Addicionalment Android Studio ens ha dotat d&apos;un panell de disseny estil <strong>Drag and Drop</strong>, la qual cosa &#xE9;s una benedicci&#xF3; per als desenvolupadors, ja que facilita la creaci&#xF3; de la interf&#xED;cie d&apos;usuari.</p>
<p>Aquest arxiu de disseny comen&#xE7;a amb un node arrel anomenat <strong><code>&lt;ConstraintLayout&gt;</code></strong>. Un Layout &#xE9;s el contenidor principal que defineix l&apos;ordre i seq&#xFC;&#xE8;ncia en qu&#xE8; s&apos;organitzaran els widgets en la nostra activitat. Existeixen diversos tipus de Layouts, com per exemple el <strong><code>LinearLayout, GridLayout, FrameLayout, ConstraintLayout, etc</code></strong>.</p>
<p>Android Studio crea per defecte un <strong><code>ConstraintLayout</code></strong> perqu&#xE8; permet crear un grup de components amb ubicacions relatives i a m&#xE9;s permet tot el control a trav&#xE9;s de l&apos;Editor de Disseny. Si obris l&apos;arxiu <strong><code>activiy_main.xml</code></strong> de la teua aplicaci&#xF3; veur&#xE0;s alguna cosa com aix&#xF2;:</p>
<div align="center">
    <img height="350" src="./imagenes/entorno9.png">
</div>
<p>M&#xE9;s endavant aprofundirem sobre els elements de disseny tipus Layouts.</p>
<h4 class="mume-header" id="les-carpetes-mipmap-i-drawable">Les carpetes Mipmap i Drawable</h4>

<p>Com ja has vist, hi ha una s&#xE8;rie de carpetes que comencen pel cualificador mipmap i drawable. Aquestes carpetes es relacionen directament amb la mena de densitat de pantalla on s&apos;executar&#xE0; la nostra aplicaci&#xF3;.</p>
<div align="center">
    <img height="200" src="./imagenes/entorno12.png">
</div>
<p>La majoria de dispositius m&#xF2;bils actuals tenen un d&apos;aquests 4 tipus de densitats:</p>
<ul>
<li><strong>Mediun Dots per Inch (<code>mdpi</code>)</strong>: Aquest tipus de pantalles tenen una densitat de <strong>160 punts</strong> per polzada.</li>
<li><strong>High Dots per Inch (<code>hdpi</code>)</strong>: En aquesta classificaci&#xF3; trobarem tel&#xE8;fons la resoluci&#xF3; dels quals &#xE9;s de <strong>240 punts</strong> per polzada.</li>
<li><strong>Extra high dots per inch (<code>xhdpi</code>)</strong>: Resolucions majors a <strong>340 punts</strong> per polzada</li>
<li><strong>Extra Extra high dots per inch (<code>xxhdpi</code>)</strong>: Rangs de resolucions majors a <strong>480 punts</strong> per polzada.</li>
<li><strong>Extra Extra Extra high dots per inch (<code>xxxhdpi</code>)</strong>: Rangs de resolucions majors a <strong>640 punts</strong> per polzada.</li>
</ul>
<p>Mirem una xicoteta imatge il&#xB7;lustrativa:</p>
<div align="center">
    <img height="300" src="./imagenes/entorno11.png">
</div>
<p>La imatge mostra alguns exemples de dispositius m&#xF2;bils la densitat dels quals es troba dins dels rangs establits. Al final podem veure una categoria extra anomenada <strong><code>xxxhdpi</code></strong>. Aquesta denominaci&#xF3; descriu a la densitat de televisors d&apos;&#xFA;ltima generaci&#xF3; que executen Android.</p>
<p>Android Studio 3 crea un <a href="https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive">icona adaptativa</a> per a la seua aplicaci&#xF3; que nom&#xE9;s est&#xE0; disponible en SDK 26 i posteriors. Aquestes icones adaptatives s&apos;inclouen en la carpeta <strong><code>mipmap-anydpi-v26</code></strong>, s&#xF3;n arxius .xml que s&apos;adapten a la tecnologia del dispositiu. Per exemple: <em>una icona de selector adaptable es pot mostrar amb una forma circular en un dispositiu OEM i amb un quadrat amb cantonades arredonides en un altre</em>.</p>
<p>La carpeta <strong>drawable</strong> serveix per a col&#xB7;locar totes les imatges que vaja a utilitzar la nostra aplicaci&#xF3;, seguint el mateix esquema de sufixos que mipmap. Mentre que en la carpeta mipmap &#xFA;nicament col&#xB7;locarem la icona de l&apos;app. Com podem observar, quan creguem un projecte en Android Studio, per defecte, ja ens col&#xB7;loca ac&#xED; la icona amb el nom de <strong><code>ic_launcher</code></strong>.</p>
<h4 class="mume-header" id="la-carpeta-values">La carpeta values</h4>

<p>Dins de la carpeta <strong>values</strong> es creen per defecte tres arxius <strong><code>colors, strings, themes</code></strong>, comentarem els dos primers i deixem el de themes per a m&#xE9;s endavant, ja que necessita una explicaci&#xF3; mes detallada.</p>
<p>Dins de l&apos;arxiu de colors <strong>colors.xml</strong> els elements han de ser declarats amb l&apos;etiqueta <strong><code>&lt;color&gt;</code></strong>. S&apos;ha d&apos;assignar un nom &#xFA;nic amb l&apos;atribut name i el seu contingut &#xE9;s un color en forma hexadecimal que comen&#xE7;a pel s&#xED;mbol numeral &apos;#&apos;. Es pot accedir a la paleta de colors en pr&#xE9;mer sobre qualsevol dels quadres de color de l&apos;esquerra.</p>
<div align="center">
    <img height="200" src="./imagenes/entorno13.png">
</div>
<p>Un dels recursos m&#xE9;s rellevants &#xE9;s l&apos;arxivament <strong>strings.xml</strong>. Aquest fitxer emmagatzema totes les cadenes que es mostren en els widgets (controls, formes, botons, vistes, etc.) de les nostres activitats. Per a declarar el nostre recurs de strings usarem el node arrel <strong><code>&lt;resources&gt;</code></strong>. Per a declarar les cadenes usarem l&apos;etiqueta <strong><code>&lt;string&gt;</code></strong> i establirem l&apos;atribut name com a identificador. Dins d&apos;aquesta etiqueta posarem el text que <strong>es visualitzar&#xE0; en el component d&apos;interf&#xED;cie</strong>.</p>
<div align="center">
    <img height="50" src="./imagenes/entorno14.png">
</div> 
<p>Per exemple, si tingueres un bot&#xF3; el t&#xED;tol del qual &#xE9;s &quot;<em>Pressiona ac&#xED;</em>&quot;, &#xE9;s recomanable incloure aquesta cadena en el teu arxiu <strong><code>strings.xml</code></strong>.</p>
<p>L&apos;etiqueta <strong><code>app_name</code></strong> cont&#xE9; el nom de l&apos;aplicaci&#xF3;. En aquest cas &#xE9;s &quot;<em>My Application</em>&quot;.</p>
<p>L&apos;arxiu strings.xml &#xE9;s molt &#xFA;til per als desenvolupadors. Una de les seues grans utilitats &#xE9;s facilitar l&apos;&#xFA;s de m&#xFA;ltiples idiomes en l&apos;aplicaci&#xF3;. Aix&#xF2; es deu al fet que pots externalitzar les cadenes del codi i el sistema s&apos;encarregara de seleccionar la versi&#xF3; de l&apos;arxiu strings.xml amb el llenguatge necessitat, segons la configuraci&#xF3; del dispositiu.</p>
<div style="page-break-after:always;"></div>
<blockquote>
<p>&#x1F393; <strong>Cas d&apos;estudi</strong>: Definirem la nostra aplicaci&#xF3; per a poder configurar-la en tres idiomes: espanyol, angl&#xE8;s i franc&#xE8;s, per a una aplicaci&#xF3; multi-idioma seria necessari incloure recursos de tipus cadena per a cada idioma que tinga l&apos;aplicaci&#xF3;, per a aix&#xF2; crear&#xED;em tres versions del fitxer strings.xml i ho guardar&#xED;em en els recursos addicionals de values segons l&apos;idioma, per a saber les extensions dels <a href="https://www.loc.gov/standards/iso639-2/php/code_list.php">idiomes</a>, encara que Android Studio ens proporciona l&apos;opci&#xF3; de crear recursos f&#xE0;cilment. Per exemple, si dins de la carpeta res, selecciones <strong><code>new -&gt; Android Resources File</code></strong> i seleccionem value, podrem crear els recursos addicionals per localitat:</p>
<div align="center">
   <img height="350" src="./imagenes/entorno15.png">
</div>
<p>En afegir els tres recursos addicionals, les carpetes quedarien de la seg&#xFC;ent manera. La carpeta values sense qualificador, seria per a l&apos;idioma per defecte:</p>
<div align="center">
   <img height="200" src="./imagenes/entorno16.png">
</div> 
<p>Si a cadascun d&apos;ells li afegim el seg&#xFC;ent contingut:</p>
<div align="center">
   <img height="250" src="./imagenes/entorno17.png">
</div> 
<p>Ens quedaria associar aquesta cadena al TextView que hi ha en el layout principal. Per fer aix&#xF2;, obrim l&apos;arxiu <strong><code>activity_main</code></strong> de la carpeta <strong><code>layout</code></strong> i en l&apos;atribut text seleccionem el recurs string hola_mundo.</p>
<div align="center">
   <img height="250" src="./imagenes/entorno18.png">
</div> 
<p>En executar l&apos;aplicaci&#xF3; i depenent de la configuraci&#xF3; d&apos;idioma del dispositiu, el text apareixer&#xE0; en un idioma o un altre.</p>
</blockquote>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="accedir-als-recursos-en-android">Accedir als Recursos en Android</h4>

<p>Ara que s&apos;ha ent&#xE8;s que s&#xF3;n els recursos, entendrem com poden ser accedits en el codi Kotlin o en el codi XML. Per a obtindre la refer&#xE8;ncia d&apos;un recurs &#xE9;s necessari que se li assigne un identificador que el diferencie i li indique al programador on es troba.</p>
<p>Cada identificador se situa en una classe anomenada <strong><code>R</code></strong> a trav&#xE9;s d&apos;una constant sencera. Aquesta classe &#xE9;s generada autom&#xE0;ticament per una eina del SDK anomenada appt, per la qual cosa no &#xE9;s recomanable editar-ho manualment. Cada tipus de recurs existent dins de la carpeta res &#xE9;s una classe niada (<em>anidada</em>) est&#xE0;tica de l&apos;arxiu <strong><code>R.class</code></strong>. Per exemple, el subdirectori <strong><code>drawable</code></strong> pot ser accedit com a <strong><code>R.drawable.</code></strong></p>
<h5 class="mume-header" id="accedir-des-de-kotlin">Accedir des de Kotlin</h5>

<p>Ara, si desitges obtindre l&apos;identificador d&apos;un recurs des de codi Kotlin, aleshores usar&#xE0;s l&apos;operador punt per a accedir als membres de cada classe interna <strong><code>Paquet.R.tipusRecurs.nomRecurs</code></strong>.</p>
<p>Per exemple, si tens una imatge l&apos;identificador de la qual &#xE9;s <strong><code>ic_launcher_background</code></strong>. Per a accedir al seu contingut nom&#xE9;s navegues de la seg&#xFC;ent forma <strong><code>R.drawable.ic_launcher_background</code></strong>.</p>
<div align="center">
    <img height="200" src="./imagenes/entorno19.png">
</div>
<p>Si es vol accedir a la classe <strong><code>Resources</code></strong> que inclou tots els recursos de android, podem obtindre una inst&#xE0;ncia <strong>dins d&apos;una activitat</strong> amb el m&#xE8;tode <strong><code>getResources()</code></strong>. A trav&#xE9;s d&apos;ella podem accedir als valors de qualsevol mena de recurs.</p>
<div align="center">
    <img height="20" src="./imagenes/entorno20.png">
</div>
<p>En aquest cas hem accedit als recursos del sistema, per a aix&#xF2; s&apos;ha accedit primer a <strong><code>android.R.tipusRecurs.nomRecurs</code></strong></p>
<h5 class="mume-header" id="accedir-desde-xml">Accedir desde XML</h5>

<p>Aquesta forma de refer&#xE8;ncia es dona quan dins d&apos;un recurs definit en un arxivament XML necessitem usar el valor d&apos;un altre recurs. Per a aix&#xF2; usem la sintaxi <strong><code>@[Paquet:]tipusRecurs/nomRecurs</code></strong></p>
<p>Per exemple, quan a un component <strong><code>&lt;TextView&gt;</code></strong> dins d&apos;un layout li assignem el valor d&apos;un string definit en l&apos;arxiu strings.xml.</p>
<div align="center">
    <img height="20" src="./imagenes/entorno21.png">
</div>
<p>Per als recursos del sistema des de xml seria <strong><code>@android:tipusRecurs/nomRecurs</code></strong></p>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="android-manifest">Android Manifest</h3>

<p>El <a href="https://developer.android.com/guide/topics/manifest/manifest-intro?hl=es">Manifest</a> es pot dir que &#xE9;s l&apos;arxiu m&#xE9;s essencial de la nostra aplicaci&#xF3;, si es produeix un error en ell el m&#xE9;s probable &#xE9;s que l&apos;App no es puga executar. &#xC9;s un arxiu XML que cont&#xE9; nodes descriptius sobre les caracter&#xED;stiques de l&apos;App. Caracter&#xED;stiques com els building blocks existents, la versi&#xF3; de SDK usada, els permisos necessaris per a executar alguns serveis, activitats de l&apos;aplicaci&#xF3; i moltes m&#xE9;s.</p>
<p>En poques paraules l&apos;Android Manifest mostra una descripci&#xF3; de tota la nostra aplicaci&#xF3;. La seua configuraci&#xF3; pot realitzar-se a trav&#xE9;s d&apos;una interf&#xED;cie gr&#xE0;fica, per&#xF2; &#xE9;s recomanable con&#xE8;ixer la sintaxi ja que en moltes ocasions ser&#xE0; m&#xE9;s f&#xE0;cil i r&#xE0;pid fer-ho des del propi xml.</p>
<p>Si obris l&apos;arxiu en l&apos;editor veur&#xE0;s un codi similar a aquest:</p>
<div align="center">
    <img height="350" src="./imagenes/manifest.png">
</div> 
<p>El nom ha de romandre intacte, ja que s&apos;usa com a refer&#xE8;ncia per al parsing de la nostra aplicaci&#xF3;. El node arrel d&apos;aquest document es representa amb l&apos;etiqueta <strong><code>&lt;manifest&gt;</code></strong> i per obligaci&#xF3; ha de contindre un fill de tipus <strong><code>&lt;application&gt;</code></strong>.</p>
<p>En el codi anterior podem observar que manifest posseeix dos atributs, <strong><code>xmlsn:android i package</code></strong>. El primer no hem de canviar-ho mai, ja que &#xE9;s el namespace de l&apos;arxiu.</p>
<p>L&apos;atribut <strong><code>package</code></strong> indica el nom del paquet Java/Kotlin que suporta a la nostra aplicaci&#xF3;. El nom del paquet ha de ser &#xFA;nic i un diferenciador a llarg termini.</p>
<p>L&apos;etiqueta <strong><code>&lt;application&gt;</code></strong> representa com estar&#xE0; constru&#xEF;da la nostra aplicaci&#xF3;. Dins d&apos;ella definirem nodes referents a les activitats que cont&#xE9;, les llibreries incloses, els Intents, Providers, i altres components.</p>
<h5 class="mume-header" id="etiqueta-aplication">Etiqueta aplication</h5>

<p>Alguns atributs de l&apos;etiqueta <strong><code>&lt;application&gt;</code></strong> s&#xF3;n:</p>
<ul>
<li><strong><code>allowBackup</code>:</strong> Aquest atribut pot prendre els valors de true o false. Indica si volem fer copies de seguretat de l&apos;aplicaci&#xF3; amb el sistema.</li>
<li><strong><code>icon</code>:</strong> Indica on est&#xE0; situat la icona que s&apos;usar&#xE0; en l&apos;aplicaci&#xF3;. Hem d&apos;indicar la ruta i el nom de l&apos;arxiu que representa la icona. En aquest cas apuntem a les carpetes mipmap on es troba ic_launcher.png. Icona per defecte que ens proporciona Android Studio. Es mostrar&#xE0; en l&apos;Android Market i en el llan&#xE7;ador de l&apos;aplicaci&#xF3; del nostre dispositiu. Tamb&#xE9; ser&#xE0; la icona per defecte per a totes les activities que definim dins de l&apos;etiqueta.</li>
<li><strong><code>label</code>:</strong> &#xC9;s el nom de l&apos;aplicaci&#xF3; que veur&#xE0; l&apos;usuari en el seu tel&#xE8;fon. Normalment apunta a la cadena &quot;app_name&quot; que es troba en el recurs strings.xml. El contingut d&apos;aquest atribut apareixer&#xE0; en la barra de t&#xED;tol de l&apos;activitat si la tinguera. Tamb&#xE9; s&apos;usar&#xE0; en el llan&#xE7;ador de l&apos;aplicaci&#xF3; si definim aquesta activitat com el punt d&apos;entrada de la nostra aplicaci&#xF3;. Si no ho definim, s&apos;utilitzar&#xE0; el label definit en l&apos;etiqueta <strong><code>&lt;application&gt;</code></strong>. Ser&#xE0; el t&#xED;tol per defecte de les activities que definim dins de l&apos;etiqueta application.</li>
<li><strong><code>theme</code>:</strong> Aquest atribut apunta a l&apos;arxiu de recursos <strong><code>styles.xml</code></strong>, on es defineix la personalitzaci&#xF3; de l&apos;estil visual de la nostra aplicaci&#xF3;.</li>
<li><strong><code>supportsRtl</code>:</strong> Declara si l&apos;aplicaci&#xF3; est&#xE0; disposada a admetre dissenys de dreta a esquerra (RTL). Si s&apos;estableix en true i la targetSdkVersion s&apos;estableix en 17 o superior, en aqueix cas el sistema activar&#xE0; i utilitzar&#xE0; diverses API RTL perqu&#xE8; l&apos;aplicaci&#xF3; puga mostrar dissenys RTL. En un altre cas s&apos;ignorar&#xE0; la configuraci&#xF3; de regi&#xF3; de l&apos;usuari.</li>
</ul>
<p>Dins de <strong><code>&lt;application&gt;</code></strong> trobarem expressada l&apos;activitat principal que definim en crear el projecte. Usarem <strong><code>&lt;activity&gt;</code></strong> per a representar un node tipus activitat.</p>
<h5 class="mume-header" id="etiqueta-activity">Etiqueta activity</h5>

<p>Cada etiqueta <strong><code>&lt;activity&gt;</code></strong> representa una de les activitats de l&apos;aplicaci&#xF3;. Alguns atributs s&#xF3;n:</p>
<ul>
<li><strong><code>label</code>:</strong> Fa refer&#xE8;ncia al text que es mostrar&#xE0; en la cap&#xE7;alera de l&apos;activitat. Si no s&apos;indica cap atribut label, la activity tindr&#xE0; el mateix nom que l&apos;Aplicaci&#xF3;.</li>
</ul>
<p>Dins de <strong><code>activity</code></strong> ens podem trobar:</p>
<ul>
<li><strong><code>android:name</code>:</strong> Especifica el nom de l&apos;activitat, en l&apos;exemple s&apos;ha posat <strong><code>.MainActivity</code></strong> ja que tenim el nom del package definit com a atribut de l&apos;element manifest.</li>
<li><strong><code>android:screenOrientation</code>:</strong> (portrait o landscape) Defineix l&apos;orientaci&#xF3; de l&apos;aplicaci&#xF3; vertical o apa&#xEF;sada. Si no definim aquest atribut, s&apos;usar&#xE0; el que el dispositiu tinga predeterminat, incl&#xF2;s el variable en funci&#xF3; de l&apos;acceler&#xF2;metre. Quan la pantalla canvia d&apos;orientaci&#xF3; l&apos;activitat es destrueix.</li>
<li><strong><code>android:configChanges</code></strong> En Android, el canvi d&apos;orientaci&#xF3; o l&apos;aparici&#xF3; del teclat es considera un canvi de configuraci&#xF3;, la qual cosa fa que la pantalla es redibuixe per a adaptar-se als canvis. En aquest atribut definim els esdeveniments que volem manejar nosaltres, amb la finalitat d&apos;evitar que es destru&#xEF;sca l&apos;activitat. Els diferents efectes se separen amb la barra vertical o pipe <strong><code>|</code></strong>, podr&#xED;em posar <strong><code>keyboard|keyboardHydden|orientation</code></strong>, per a l&apos;aparici&#xF3; desaparici&#xF3; de la pantalla i per al canvi d&apos;orientaci&#xF3; del dispositiu.</li>
</ul>
<p>En Android no existeix un &#xFA;nic punt d&apos;entrada per a la nostra aplicaci&#xF3;. Podem iniciar-la a trav&#xE9;s de m&#xFA;ltiples activities o services que poden ser iniciats a partir de intents espec&#xED;fics que pot enviar el sistema o una altra aplicaci&#xF3;. Per a dir a Android davant quin intent ha de reaccionar la nostra aplicaci&#xF3; i com, existeix el <strong><code>&lt;intent-filter&gt;</code></strong>.</p>
<p>Amb l&apos;etiqueta <strong><code>intent-filter</code></strong> i el seu element <strong><code>&lt;action&gt;</code></strong> estem indicant que aquesta activity ser&#xE0; un punt d&apos;entrada per a la nostra aplicaci&#xF3;. Nom&#xE9;s pot haver-hi una activity que reaccione a aquest intent. Amb element <strong><code>&lt;category&gt;</code></strong> li diem a Android que volem que aquesta activity siga afegida al llan&#xE7;ador de l&apos;aplicaci&#xF3;. Poden haver-hi diverses activities que reaccionen a aquest <strong><code>intent</code></strong>.</p>
<p>D&apos;aquesta manera Android sap que en ser premuda (pulsada) la icona de l&apos;aplicaci&#xF3;, ha d&apos;iniciar aquesta activity. Si no hagu&#xE9;rem establit el <strong><code>&lt;intent-filter&gt;</code></strong>, aquesta activity nom&#xE9;s es podria cridar des de dins de l&apos;aplicaci&#xF3;. Fixem-nos que tots dos elements nom&#xE9;s tenen l&apos;atribut name sent el seu valor el nom del intent.</p>
<div align="center">
    <img height="120" src="./imagenes/manifest2.png">
</div> 
<h5 class="mume-header" id="etiqueta-uses-permissions">Etiqueta uses-permissions</h5>

<p>Android compta amb un model de seguretat molt elaborat. Cada aplicaci&#xF3; s&apos;executa en el seu propi proc&#xE9;s i m&#xE0;quina virtual. Android restringeix l&apos;&#xFA;s dels recursos del sistema: targeta SD, WIFI, HW d&apos;&#xE0;udio, etc. Mitjan&#xE7;ant aquest Tag especifiquem els permisos que necessitar&#xE0; la nostra aplicaci&#xF3; per a poder executar-se, a m&#xE9;s s&#xF3;n els que haur&#xE0; d&apos;acceptar l&apos;usuari abans d&apos;instal&#xB7;lar-la. Per exemple, si es desitja utilitzar funcionalitats amb Internet o el vibrador del tel&#xE8;fon, cal indicar que la nostra aplicaci&#xF3; requereix aqueixos permisos. Algun d&apos;aquests permisos s&#xF3;n:</p>
<ul>
<li><strong><code>android.permisssion.RECORD_AUDIO</code></strong>, per a l&apos;acc&#xE9;s al hw d&apos;&#xE0;udio i enregistrament.</li>
<li><strong><code>android.permisssion.INTERNET</code></strong>, concedeix perm&#xED;s a totes les API&#x2019;s de xarxa.</li>
<li><strong><code>android.permisssion.WRITE_EXTERNAL_STORAGE</code></strong>, per a emmagatzematge extern.</li>
<li><strong><code>android.permisssion.WAKE_LOCK</code></strong>, ens permet antibloqueig (que si el terminal est&#xE0; inactiu aquest no es bloquege).</li>
</ul>
<h5 class="mume-header" id="permisos-en-moment-dexecuci%C3%B3">Permisos en moment d&apos;execuci&#xF3;</h5>

<p>A partir dels dispositius amb instal&#xB7;laci&#xF3; <strong>Android 6.0 (nivell de API 23)</strong> o superior, &#xE9;s necessari demanar els <a href="https://developer.android.com/training/permissions/requesting">permisos en el moment d&apos;execuci&#xF3;</a> de l&apos;aplicaci&#xF3;. S&apos;ha de tindre en compte que els permisos es demanaran just en el moment en el qual l&apos;usuari comence a interactuar amb la funci&#xF3; que els requereix, si aquests s&#xF3;n rebutjats per l&apos;usuari &#xE9;s important que el flux de l&apos;App puga continuar funcionant.</p>
<p>Un model a seguir podria ser el seg&#xFC;ent:</p>
<ol>
<li>
<p>Declara els permisos necessaris en el Manifest.</p>
</li>
<li>
<p>Registrar els permisos en una variable de tipus <code>ActivityResultLauncher&lt;String&gt;</code> <strong>L&#xED;nia 7 a 18</strong></p>
<ol>
<li>Primer haurem creat els variable d&apos;aquest tipus, <strong>L&#xED;nia 4 i 5</strong>.</li>
<li>Registrarem en aquesta o aquestes variables (en aquest exemple dos), l&apos;acci&#xF3; que volem que oc&#xF3;rrega quan els permisos hagen sigut atorgats per l&apos;usuari. En aquest cas canviarem el text de l&apos;aplicaci&#xF3;.</li>
</ol>
</li>
<li>
<p>En el moment en el qual l&apos;usuari invoca l&apos;acci&#xF3; que necessita els permisos, llan&#xE7;ar la petici&#xF3; del perm&#xED;s requerit. Aix&#xF2; mostrar&#xE0; el dialogue amb la petici&#xF3;.<strong>L&#xED;nia 19 a 26</strong></p>
</li>
</ol>
<p>El seg&#xFC;ent codi &#xE9;s la base funcional, a partir de la qual podem afegir el necessari per a les nostres diferents aplicacions. Fixa&apos;t que en l&apos;exemple es demanen dos permisos.</p>
<pre data-role="codeBlock" data-info="kotlin {class=&quot;line-numbers&quot;}" class="language-kotlin line-numbers">    <span class="token keyword keyword-super">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span>
        <span class="token function">setContentView</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>layout<span class="token punctuation">.</span>activity_main<span class="token punctuation">)</span>
        <span class="token keyword keyword-var">var</span> texto <span class="token operator">=</span> findViewById<span class="token operator">&lt;</span>TextView<span class="token operator">&gt;</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>texto<span class="token punctuation">)</span>
        <span class="token keyword keyword-lateinit">lateinit</span> <span class="token keyword keyword-var">var</span> registerPermisoReadExternalStorage<span class="token operator">:</span> ActivityResultLauncher<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span>
        <span class="token keyword keyword-lateinit">lateinit</span> <span class="token keyword keyword-var">var</span> registerPermisoCallPhone<span class="token operator">:</span> ActivityResultLauncher<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span>

        registerPermisoReadExternalStorage <span class="token operator">=</span>
            <span class="token function">registerForActivityResult</span><span class="token punctuation">(</span>ActivityResultContracts<span class="token punctuation">.</span><span class="token function">RequestPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> 
                    texto<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">&quot;ExternalStorage&quot;</span>
            <span class="token punctuation">}</span>
        registerPermisoCallPhone <span class="token operator">=</span>
            <span class="token function">registerForActivityResult</span><span class="token punctuation">(</span>ActivityResultContracts<span class="token punctuation">.</span><span class="token function">RequestPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> 
                    texto<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">&quot;CallPhone&quot;</span>
            <span class="token punctuation">}</span>
        texto<span class="token punctuation">.</span><span class="token function">setOnLongClickListener</span> <span class="token punctuation">{</span>
            registerPermisoReadExternalStorage<span class="token punctuation">.</span>
                          <span class="token function">launch</span><span class="token punctuation">(</span>Manifest<span class="token punctuation">.</span>permission<span class="token punctuation">.</span>READ_EXTERNAL_STORAGE<span class="token punctuation">)</span>
            <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
        texto<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">{</span>
            registerPermisoCallPhone<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span>Manifest<span class="token punctuation">.</span>permission<span class="token punctuation">.</span>CALL_PHONE<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre><p>L&apos;eixida per pantalla seria similar a la seg&#xFC;ent a l&apos;hora de demanar permisos a l&apos;usuari:</p>
<span style="align: center;">
<table align="center">
<tbody><tr>
<td>
<div align="center">
    <img height="200" src="./imagenes/manifest3.png">
</div>
</td>
<td>
<div align="center">
    <img height="200" src="./imagenes/manifest4.png">
</div>
</td>
</tr>
</tbody></table>
</span>
<p>A m&#xE9;s si entrem dins dels permisos de l&apos;aplicaci&#xF3; i l&apos;usuari els ha concedits, podrem veure&apos;ls.</p>
<div align="center">
    <img height="150" src="./imagenes/manifest5.png">
</div>
<blockquote>
<p><span style="color: DarkRed; font-weight: bold;">&#x2712;&#xFE0F; Prova el funcionament del codi anterior. Per a aix&#xF2; haur&#xE0;s de copiar dins de la funci&#xF3; <font size="4">onCreate</font> de la <font size="4">MainActivity</font> d&apos;un projecte nou. Perqu&#xE8; funcione correctament, haur&#xE0;s d&apos;obrir l&apos;arxiu <font size="4">activity_main.xml</font> de la carpeta layout i afegir la seg&#xFC;ent l&#xED;nia</span></p>
<pre data-role="codeBlock" data-info="kotlin" class="language-kotlin">android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;@+id/texto&quot;</span>
</pre><p><span style="color: DarkRed; font-weight: bold;">dins de l&apos;etiquete TextView que cont&#xE9; &quot;Hola Mundo&quot;</span></p>
</blockquote>
<h5 class="mume-header" id="etiqueta-uses-features">Etiqueta uses-features</h5>

<p>Permet especificar les caracter&#xED;stiques maquinari que requereix la nostra aplicaci&#xF3; pantalla multit&#xE0;ctil, suport OpenGL, etc. per a poder instal&#xB7;lar-se. Algunes restriccions maquinari per a la nostra aplicaci&#xF3; podrien ser:</p>
<ul>
<li><strong><code>&lt;uses-featureandroid:name=&quot;android.hardware.microphone&quot; android:required=&quot;false&quot;/</code></strong>&gt;</li>
<li><strong><code>&lt;uses-featureandroid:name=&quot;android.hardware.camera&quot; android:required=&quot;false&quot;/&gt;</code></strong></li>
<li><strong><code>&lt;uses-featureandroid:name=&quot;android.hardware.camera.autofocus&quot; android:required=&quot;false&quot;/&gt;</code></strong></li>
<li><strong><code>&lt;uses-featureandroid:name=&quot;android.hardware.camera.flash&quot; android:required=&quot;false&quot;/&gt;</code></strong></li>
<li><strong><code>&lt;uses-featureandroid:name=&quot;android.hardware.touchscreen.multitouch&quot; android:required=&quot;true&quot;/&gt;</code></strong></li>
</ul>
<div style="page-break-after:always;"></div>
<p>Manifest complet d&apos;exemple:</p>
<pre data-role="codeBlock" data-info="xml" class="language-xml"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://schemas.android.com/apk/res/android<span class="token punctuation">&quot;</span></span> 
          <span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.xusa.miaplicacion<span class="token punctuation">&quot;</span></span> 
          <span class="token attr-name"><span class="token namespace">android:</span>versionCode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>11<span class="token punctuation">&quot;</span></span> 
          <span class="token attr-name"><span class="token namespace">android:</span>versionName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.5.1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span> <span class="token attr-name"><span class="token namespace">android:</span>icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@drawable/icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> 
    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.UnActivity<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">android:</span>configChanges</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orientation|keyboardHidden<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/app_name<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">android:</span>screenOrientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>portrait<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@style/Theme.NoBackground<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.action.MAIN<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.intent.category.LAUNCHER<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> 
    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>OtroActivity<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">android:</span>configChanges</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>orientation|keyboardHidden<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@string/app_name<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">android:</span>screenOrientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>portrait<span class="token punctuation">&quot;</span></span> 
    <span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@style/Theme.NoBackground<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span> 
   <span class="token comment">&lt;!-- Elementos para la publicidad --&gt;</span> 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mobclix.APPLICATION_ID<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insert-your-application-id<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mobclix.android.sdk.MobclixBrowserActivity<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span> 
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>supports-screens</span> 
     <span class="token attr-name"><span class="token namespace">android:</span>anyDensity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name"><span class="token namespace">android:</span>largeScreens</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> 
     <span class="token attr-name"><span class="token namespace">android:</span>normalScreens</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> 
     <span class="token attr-name"><span class="token namespace">android:</span>smallScreens</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>supports-screens</span><span class="token punctuation">&gt;</span></span> 
  <span class="token comment">&lt;!-- Permisos que se exigen para mostrar la publicidad --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.GET_TASKS<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.READ_PHONE_STATE<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
  <span class="token comment">&lt;!-- Permisos en General --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.VIBRATE<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
  <span class="token comment">&lt;!-- Version m&#xED;nima de androide soportada por la aplicacion --&gt;</span> 
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-sdk</span> <span class="token attr-name"><span class="token namespace">android:</span>minSdkVersion</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">&gt;</span></span>
</pre><p><span style="color: DarkRed; font-weight: bold;">&#x2712;&#xFE0F; Analitza l&apos;arxiu de manifest anterior, buscant en Internet la informaci&#xF3; que no trobes en el tema. Despr&#xE9;s fes una descripci&#xF3; de com creus que ser&#xE0; l&apos;aplicaci&#xF3; que cont&#xE9; aqueix manifest.</span></p>
<p><span style="color: DarkRed; font-weight: bold;">&#x2712;&#xFE0F; Modifica el Manifest de l&apos;exercici HolaMundo de manera que com a requisits del mateix volem que s&apos;execute en manera apa&#xEF;sada i que no afecte el canvi d&apos;orientaci&#xF3; del dispositiu. Canvia la icona i l&apos;etiqueta de la activity principal (provar que si no la t&#xE9;, posa per defecte la de l&apos;aplicaci&#xF3;) i dona permisos d&apos;internet. A m&#xE9;s s&apos;hauran d&apos;afegir dos llenguatges m&#xE9;s per al string Hola M&#xF3;n.</span></p>
<div style="page-break-after:always;"></div>
<h3 class="mume-header" id="gradle">Gradle</h3>

<p>Una vegada creada i executada la nostra primera aplicaci&#xF3;, haurem d&apos;aprofundir una mica en el que ocorre en el <strong>proc&#xE9;s de compilaci&#xF3;</strong>, temps transcorregut des del moment que li donem l&apos;ordre de compilaci&#xF3; <strong><code>Play</code></strong>, fins que el AVD mostra per pantalla l&apos;eixida de la nostra app. Qui s&apos;encarrega d&apos;aqueix proc&#xE9;s en Android Studio?, la resposta &#xE9;s <a href="https://developer.android.com/studio/releases/gradle-plugin">Gradle, un complement d&apos;Android</a> que converteix el projecte en un paquet d&apos;aplicacions per a Android (APK) o un <a href="https://developer.android.com/guide/app-bundle?hl=es">Android App Bundle (AAB)</a>. A l&apos;&#xE9;sser un complement necessita de les actualitzacions especifiques de Gradle, independents de les d&apos;Android Studio.</p>
<div align="center">
    <img height="350" src="./imagenes/imagenesGradle/build-process_2x.png">
</div>
<p>Gradle &#xE9;s una eina de <a href="https://dosideas.com/wiki/automatizacion_de_build">automatitzaci&#xF3; de la construcci&#xF3; de codi</a> que beu de les aportacions que han realitzat eines com <strong>Ant</strong> i <strong>Maven</strong>, per&#xF2; intenta portar-ho tot un pas mes all&#xE0;.</p>
<div align="center">
    <img height src="./imagenes/imagenesGradle/G06Cv.gif">
</div>
<div style="page-break-after:always;"></div>
<p>Per a comen&#xE7;ar es recolza en <a href="https://es.wikipedia.org/wiki/groovy_(lenguaje_de_programaci%C3%B3n)">Groovy</a> i en un <a href="https://docs.gradle.org/current/dsl/index.html">DSL (Domain Specific Language)</a> per a treballar amb un llenguatge senzill i clar a l&apos;hora de construir el build, comparat amb Maven que usa <strong>XML</strong>.<br>
D&apos;altra banda, disposa d&apos;una gran flexibilitat que permet treballar amb altres llenguatges i no sols <strong>Java</strong>.<br>
Un altre avantatge clau de <strong>Gradle</strong> sobre els sistemes de compilaci&#xF3; anteriors de <strong>Android Studio</strong>, &#xE9;s l&apos;administraci&#xF3; de depend&#xE8;ncies. Abans, per a usar una biblioteca d&apos;Android en un projecte, calia descarregar el codi font, agregar-lo al projecte i passar a la compilaci&#xF3;. Gradle automatitza aquest proc&#xE9;s, ja que amb agregar una sola l&#xED;nia a l&apos;arxiu <strong><code>build.gradle</code></strong> del m&#xF2;dul, s&apos;encarregar&#xE0; de descarregar la biblioteca compilada d&apos;un repositori p&#xFA;blic i agregar-la al projecte.</p>
<h4 class="mume-header" id="projectes-tasques-i-accions">Projectes, tasques i accions</h4>

<p>Quan creguem un nou projecte en android, aquest haur&#xE0; de tindre almenys un projecte de Gradle (per defecte es crear&#xE0; nom&#xE9;s <strong><code>build.gradle</code></strong> de nivell superior). Un projecte ha de tindre almenys una tasca i una tasca consta d&apos;algunes accions (podr&#xED;em veure aquestes com una col&#xB7;lecci&#xF3; de codi, semblan&#xE7;a a una funci&#xF3;).</p>
<p>Una tasca indica una unitat d&apos;execuci&#xF3; l&#xF2;gica, Gradle t&#xE9; creades moltes tasques per defecte que s&#xF3;n suficients per a treballar en els nostres projectes. Per exemple: quan es compila el projecte es llancen una s&#xE8;rie de tasques de Gradle que automatitzen el treball, podem veure part d&apos;aquestes en la seg&#xFC;ents l&#xED;nies.</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash">Task :app:preBuild UP-TO-DATE
Task :app:preDebugBuild UP-TO-DATE
Task :app:compileDebugAidl NO-SOURCE
<span class="token punctuation">..</span>.
Task :app:compileDebugKotlin UP-TO-DATE
Task :app:compileDebugJavaWithJavac UP-TO-DATE
Task :app:compileDebugSources UP-TO-DATE
Task :app:mergeDebugJavaResource UP-TO-DATE
Task :app:dexBuilderDebug UP-TO-DATE
Task :app:mergeDexDebug UP-TO-DATE
Task :app:packageDebug
Task :app:assembleDebug
</pre><p>Si es necessitara realitzar accions especifiques, es podrien crear tasques propies utilitzant el DSL de Gradle.</p>
<div style="page-break-after:always;"></div>
<h4 class="mume-header" id="arxius-de-configuraci%C3%B3-de-gradle">Arxius de configuraci&#xF3; de Gradle</h4>

<p>Cada vegada que es crea un projecte en <strong>Android Studio</strong>, el sistema genera autom&#xE0;ticament tots els arxius de <a href="https://developer.android.com/studio/build?hl=es-419#*build-*files">configuraci&#xF3; necessaris de Gradle</a>. Alguns es mostren en la seg&#xFC;ent imatge.</p>
<div align="center">
    <img height="300" src="./imagenes/imagenesGradle/project-structure_2x.png">
</div>
<p>Els projectes d&apos;Android Studio consten d&apos;un o m&#xE9;s m&#xF2;duls, que s&#xF3;n components que pot compilar, provar i depurar de manera independent. Cada m&#xF2;dul t&#xE9; el seu propi arxiu de compilaci&#xF3;, per la qual cosa cada projecte d&apos;Android Studio cont&#xE9; <strong>2 tipus</strong> d&apos;arxius de compilaci&#xF3; de Gradle.</p>
<ul>
<li>
<p><strong>Arxiu de compilaci&#xF3; de nivell superior</strong>, ac&#xED; trobar&#xE0; les opcions de configuraci&#xF3; que s&#xF3;n comunes a tots els m&#xF2;duls que conformen un projecte.</p>
</li>
<li>
<p><strong>Arxiu de compilaci&#xF3; a nivell de m&#xF2;dul</strong>, cada m&#xF2;dul t&#xE9; el seu propi arxiu de compilaci&#xF3; Gradle que cont&#xE9; configuracions de compilaci&#xF3; espec&#xED;fiques del m&#xF2;dul. Aquests s&#xF3;n els que necessiten m&#xE9;s temps d&apos;edici&#xF3; per part del programador.</p>
</li>
</ul>
<p>Per a accedir r&#xE0;pidament a aquests <strong>build.gradle arxius</strong>, obrirem el panell <strong>Projecte d&apos;Android Studio</strong> (seleccionant la pestanya Android), dins de la carpeta Gradle Scripts els trobarem. Els primers dos elements en la carpeta Gradle Scripts s&#xF3;n els arxius de compilaci&#xF3; de Gradle a nivell de projecte i a nivell de m&#xF2;dul</p>
<div style="page-break-after:always;"></div>
<h5 class="mume-header" id="arxiu-de-compilaci%C3%B3-gradle-de-nivell-superior">Arxiu de compilaci&#xF3; Gradle de nivell superior</h5>

<p>Cada projecte d&apos;Android Studio cont&#xE9; un &#xFA;nic arxiu de compilaci&#xF3; de Gradle de nivell superior. Aquest <strong><code>build.gradle</code></strong> arxiu &#xE9;s el primer element que apareix en la carpeta Gradle Scripts i est&#xE0; clarament marcat com a Projecte. La majoria de les vegades, no es necessitar&#xE0; fer canvis en aquest arxiu, per&#xF2; continua sent &#xFA;til per a comprendre el seu contingut i el paper que exerceix en el projecte.</p>
<pre data-role="codeBlock" data-info="groovy" class="language-groovy"><span class="token comment">// Top-level build file where you can add configuration options common to all sub-projects/modules.</span>
buildscript <span class="token punctuation">{</span>
    ext<span class="token punctuation">.</span>kotlin_version <span class="token operator">=</span> <span class="token string">&quot;1.5.21&quot;</span>
    repositories <span class="token punctuation">{</span>
        <span class="token function">google</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">mavenCentral</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    dependencies <span class="token punctuation">{</span>
        classpath <span class="token string">&quot;com.android.tools.build:gradle:4.2.2&quot;</span>
        classpath <span class="token string">&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</span>

        <span class="token comment">// NOTE: Do not place your application dependencies here; they belong</span>
        <span class="token comment">// in the individual module build.gradle files</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

allprojects <span class="token punctuation">{</span>
    repositories <span class="token punctuation">{</span>
        <span class="token function">google</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">mavenCentral</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">jcenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Warning: this repository is going to shut down soon</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

task <span class="token function">clean</span><span class="token punctuation">(</span>type<span class="token punctuation">:</span> Delete<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    delete rootProject<span class="token punctuation">.</span>buildDir
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h5 class="mume-header" id="arxius-de-compilaci%C3%B3-gradle-a-nivell-de-m%C3%B2dul">Arxius de compilaci&#xF3; Gradle a nivell de m&#xF2;dul</h5>

<p>A m&#xE9;s de l&apos;arxiu de compilaci&#xF3; de Gradle a nivell de projecte, cada m&#xF2;dul t&#xE9; un arxiu de compilaci&#xF3; <strong><code>build.gradle</code></strong> propi. A continuaci&#xF3; es mostra una b&#xE0;sica d&apos;un arxiu de compilaci&#xF3; de Gradle a nivell de m&#xF2;dul.</p>
<pre data-role="codeBlock" data-info="groovy" class="language-groovy">plugins <span class="token punctuation">{</span>
    id <span class="token string">&apos;com.android.application&apos;</span>
    id <span class="token string">&apos;kotlin-android&apos;</span>
<span class="token punctuation">}</span>

android <span class="token punctuation">{</span>
    compileSdkVersion <span class="token number">30</span>
    buildToolsVersion <span class="token string">&quot;30.0.3&quot;</span>

    defaultConfig <span class="token punctuation">{</span>
        applicationId <span class="token string">&quot;com.ejemplos.b2.myapplication&quot;</span>
        minSdkVersion <span class="token number">19</span>
        targetSdkVersion <span class="token number">30</span>
        versionCode <span class="token number">1</span>
        versionName <span class="token string">&quot;1.0&quot;</span>

        testInstrumentationRunner <span class="token string">&quot;androidx.test.runner.AndroidJUnitRunner&quot;</span>
    <span class="token punctuation">}</span>

    buildTypes <span class="token punctuation">{</span>
        release <span class="token punctuation">{</span>
            minifyEnabled <span class="token boolean">false</span>
            proguardFiles <span class="token function">getDefaultProguardFile</span><span class="token punctuation">(</span><span class="token string">&apos;proguard-android-optimize.txt&apos;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
             <span class="token string">&apos;proguard-rules.pro&apos;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    compileOptions <span class="token punctuation">{</span>
        sourceCompatibility JavaVersion<span class="token punctuation">.</span>VERSION_1_8
        targetCompatibility JavaVersion<span class="token punctuation">.</span>VERSION_1_8
    <span class="token punctuation">}</span>
    kotlinOptions <span class="token punctuation">{</span>
        jvmTarget <span class="token operator">=</span> <span class="token string">&apos;1.8&apos;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dependencies <span class="token punctuation">{</span>

    implementation <span class="token string">&quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;</span>
    implementation <span class="token string">&apos;androidx.core:core-ktx:1.6.0&apos;</span>
    implementation <span class="token string">&apos;androidx.appcompat:appcompat:1.3.1&apos;</span>
    implementation <span class="token string">&apos;com.google.android.material:material:1.4.0&apos;</span>
    implementation <span class="token string">&apos;androidx.constraintlayout:constraintlayout:2.1.0&apos;</span>
    testImplementation <span class="token string">&apos;junit:junit:4.+&apos;</span>
    androidTestImplementation <span class="token string">&apos;androidx.test.ext:junit:1.1.3&apos;</span>
    androidTestImplementation <span class="token string">&apos;androidx.test.espresso:espresso-core:3.4.0&apos;</span>
<span class="token punctuation">}</span>
</pre><div style="page-break-after:always;"></div>
<h5 class="mume-header" id="altres-arxius-de-gradle">Altres arxius de Gradle</h5>

<p>A m&#xE9;s dels arxius build.gradle, la carpeta Gradle Scripts cont&#xE9; alguns altres arxius Gradle. La majoria de les vegades no haur&#xE0; de ser editats manualment, ja que s&apos;actualitzaran autom&#xE0;ticament en fer canvis en el projecte.</p>
<ul>
<li>
<p><strong>gradle-wrapper.properties (Versi&#xF3; Gradle)</strong>. Aquest arxiu verifica si est&#xE0; instal&#xB7;lada la versi&#xF3; correcta de Gradle i desc&#xE0;rrega la versi&#xF3; necess&#xE0;ria si no &#xE9;s aix&#xED;.</p>
</li>
<li>
<p><strong>settings.gradle</strong>. Aquest arxiu fa refer&#xE8;ncia a tots els m&#xF2;duls que componen el projecte.</p>
</li>
<li>
<p><strong>gradle.properties (Propietats del projecte)</strong>. Aquest arxiu cont&#xE9; informaci&#xF3; de configuraci&#xF3; per al projecte.</p>
</li>
<li>
<p><strong>local.properties (ubicaci&#xF3; del SDK)</strong>. Aquest arxiu informa el complement Android Gradle on pot trobar la instal&#xB7;laci&#xF3; d&apos;Android SDK.</p>
</li>
</ul>

      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>